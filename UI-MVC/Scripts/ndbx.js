!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/static/build/",n(n.s=110)}([function(t,e,n){"use strict";var r=n(1);function i(t,e){return t.getUint16(e,!1)}e.getByte=function(t,e){return t.getUint8(e)},e.getCard8=e.getByte,e.getUShort=e.getCard16=i,e.getShort=function(t,e){return t.getInt16(e,!1)},e.getULong=function(t,e){return t.getUint32(e,!1)},e.getFixed=function(t,e){return t.getInt16(e,!1)+t.getUint16(e+2,!1)/65535},e.getTag=function(t,e){for(var n="",r=e;r<e+4;r+=1)n+=String.fromCharCode(t.getInt8(r));return n},e.getOffset=function(t,e,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=t.getUint8(e+i);return r},e.getBytes=function(t,e,n){for(var r=[],i=e;i<n;i+=1)r.push(t.getUint8(i));return r},e.bytesToString=function(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e};var o={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function a(t,e){this.data=t,this.offset=e,this.relativeOffset=0}a.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t},a.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t},a.prototype.parseCard8=a.prototype.parseByte,a.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t},a.prototype.parseCard16=a.prototype.parseUShort,a.prototype.parseSID=a.prototype.parseUShort,a.prototype.parseOffset16=a.prototype.parseUShort,a.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t},a.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t},a.prototype.parseULong=function(){var t=e.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t},a.prototype.parseFixed=function(){var t=e.getFixed(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t},a.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=t;for(var i=0;i<t;i++)r+=String.fromCharCode(e.getUint8(n+i));return r},a.prototype.parseTag=function(){return this.parseString(4)},a.prototype.parseLongDateTime=function(){var t=e.getULong(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t},a.prototype.parseVersion=function(){var t=i(this.data,this.offset+this.relativeOffset),e=i(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t+e/4096/10},a.prototype.skip=function(t,e){void 0===e&&(e=1),this.relativeOffset+=o[t]*e},a.prototype.parseOffset16List=a.prototype.parseUShortList=function(t){void 0===t&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint16(r),r+=2;return this.relativeOffset+=2*t,e},a.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n},a.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var o={},a=0;a<r.length;a++){var s=r[a],u=e[s];o[s]=u.call(this)}n[i]=o}return n},a.prototype.parseStruct=function(t){if("function"==typeof t)return t.call(this);for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r],o=t[i];n[i]=o.call(this)}return n},a.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new a(this.data,this.offset+e).parseStruct(t)},a.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,r=this.relativeOffset,i=new Array(n),o=0;o<n;o++){var a=e[o];if(0!==a)if(this.relativeOffset=a,t){for(var s=this.parseOffset16List(),u=new Array(s.length),l=0;l<s.length;l++)this.relativeOffset=a+s[l],u[l]=t.call(this);i[o]=u}else i[o]=this.parseUShortList();else i[o]=void 0}return this.relativeOffset=r,i},a.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(1===e)return{format:1,glyphs:this.parseUShortList(n)};if(2===e){for(var i=new Array(n),o=0;o<n;o++)i[o]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:i}}r.assert(!1,"0x"+t.toString(16)+": Coverage format must be 1 or 2.")},a.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();return 1===e?{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()}:2===e?{format:2,ranges:this.parseRecordList({start:a.uShort,end:a.uShort,classId:a.uShort})}:void r.assert(!1,"0x"+t.toString(16)+": ClassDef format must be 1 or 2.")},a.list=function(t,e){return function(){return this.parseList(t,e)}},a.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}},a.pointer=function(t){return function(){return this.parsePointer(t)}},a.tag=a.prototype.parseTag,a.byte=a.prototype.parseByte,a.uShort=a.offset16=a.prototype.parseUShort,a.uShortList=a.prototype.parseUShortList,a.struct=a.prototype.parseStruct,a.coverage=a.prototype.parseCoverage,a.classDef=a.prototype.parseClassDef;var s={reserved:a.uShort,reqFeatureIndex:a.uShort,featureIndexes:a.uShortList};a.prototype.parseScriptList=function(){return this.parsePointer(a.recordList({tag:a.tag,script:a.pointer({defaultLangSys:a.pointer(s),langSysRecords:a.recordList({tag:a.tag,langSys:a.pointer(s)})})}))},a.prototype.parseFeatureList=function(){return this.parsePointer(a.recordList({tag:a.tag,feature:a.pointer({featureParams:a.offset16,lookupListIndexes:a.uShortList})}))},a.prototype.parseLookupList=function(t){return this.parsePointer(a.list(a.pointer(function(){var e=this.parseUShort();r.argument(1<=e&&e<=8,"GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),i=16&n;return{lookupType:e,lookupFlag:n,subtables:this.parseList(a.pointer(t[e])),markFilteringSet:i?this.parseUShort():void 0}})))},e.Parser=a},function(t,e,n){"use strict";e.fail=function(t){throw new Error(t)},e.argument=function(t,n){t||e.fail(n)},e.assert=e.argument},function(t,e,n){"use strict";var r=n(1),i=n(16).encode,o=n(16).sizeOf;function a(t,e,n){var r;for(r=0;r<e.length;r+=1){var i=e[r];this[i.name]=i.value}if(this.tableName=t,this.fields=e,n){var o=Object.keys(n);for(r=0;r<o.length;r+=1){var a=o[r],s=n[a];void 0!==this[a]&&(this[a]=s)}}}function s(t,e,n){void 0===n&&(n=e.length);var r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:n};for(var i=0;i<e.length;i++)r[i+1]={name:t+i,type:"USHORT",value:e[i]};return r}function u(t,e,n){var r=e.length,i=new Array(r+1);i[0]={name:t+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i[o+1]={name:t+o,type:"TABLE",value:n(e[o],o)};return i}function l(t,e,n){var r=e.length,i=[];i[0]={name:t+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i=i.concat(n(e[o],o));return i}function f(t){1===t.format?a.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(s("glyph",t.glyphs))):r.assert(!1,"Can't create coverage table format 2 yet.")}function c(t){a.call(this,"scriptListTable",l("scriptRecord",t,function(t,e){var n=t.script,i=n.defaultLangSys;return r.assert(!!i,"Unable to write GSUB: script "+t.tag+" has no default language system."),[{name:"scriptTag"+e,type:"TAG",value:t.tag},{name:"script"+e,type:"TABLE",value:new a("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new a("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(s("featureIndex",i.featureIndexes)))}].concat(l("langSys",n.langSysRecords,function(t,e){var n=t.langSys;return[{name:"langSysTag"+e,type:"TAG",value:t.tag},{name:"langSys"+e,type:"TABLE",value:new a("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(s("featureIndex",n.featureIndexes)))}]})))}]}))}function h(t){a.call(this,"featureListTable",l("featureRecord",t,function(t,e){var n=t.feature;return[{name:"featureTag"+e,type:"TAG",value:t.tag},{name:"feature"+e,type:"TABLE",value:new a("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(s("lookupListIndex",n.lookupListIndexes)))}]}))}function p(t,e){a.call(this,"lookupListTable",u("lookup",t,function(t){var n=e[t.lookupType];return r.assert(!!n,"Unable to write GSUB lookup type "+t.lookupType+" tables."),new a("lookupTable",[{name:"lookupType",type:"USHORT",value:t.lookupType},{name:"lookupFlag",type:"USHORT",value:t.lookupFlag}].concat(u("subtable",t.subtables,n)))}))}a.prototype.encode=function(){return i.TABLE(this)},a.prototype.sizeOf=function(){return o.TABLE(this)},f.prototype=Object.create(a.prototype),f.prototype.constructor=f,c.prototype=Object.create(a.prototype),c.prototype.constructor=c,h.prototype=Object.create(a.prototype),h.prototype.constructor=h,p.prototype=Object.create(a.prototype),p.prototype.constructor=p,e.Record=e.Table=a,e.Coverage=f,e.ScriptList=c,e.FeatureList=h,e.LookupList=p,e.ushortList=s,e.tableList=u,e.recordList=l},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=function(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0};Object.defineProperty(r.prototype,"xy",{get:function(){return[this.x,this.y]}}),r.ZERO=new r(0,0),r.read=function(t,e){if(2===arguments.length)return new r(t,e);var n=t;return n instanceof r?n:"number"==typeof n?new r(n,n):Array.isArray(n)?0===n.length?r.ZERO:(t=n[0],e=n.length>1?n[1]:t,new r(t,e)):void 0!==n.x&&void 0!==n.y?new r(n.x,n.y):r.ZERO},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.add=function(t){return new r(this.x+t.x,this.y+t.y)},r.prototype.subtract=r.prototype.sub=function(t){return new r(this.x-t.x,this.y-t.y)},r.prototype.divide=function(t){return new r(this.x/t,this.y/t)},r.prototype.multiply=function(t){return new r(this.x*t,this.y*t)},r.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.magnitudeSquared=function(){return this.x*this.x+this.y*this.y},r.prototype.heading=function(){return Math.atan2(this.y,this.x)},r.prototype.distanceTo=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},r.prototype.normalize=function(){var t=this.magnitude();return 0!==t?this.divide(t):r.ZERO},r.prototype.limit=function(t){return this.magnitudeSquared()>t*t?this.normalize().multiply(t):this},r.prototype.translate=function(t,e){return new r(this.x+t,this.y+e)},r.prototype.scale=function(t,e){return e=void 0!==e?e:t,new r(this.x*t,this.y*e)},r.prototype.toString=function(){return"["+this.x+", "+this.y+"]"},t.exports=r},function(t,e,n){"use strict";n.r(e),n.d(e,"h",function(){return a}),n.d(e,"createElement",function(){return a}),n.d(e,"cloneElement",function(){return l}),n.d(e,"Component",function(){return R}),n.d(e,"render",function(){return k}),n.d(e,"rerender",function(){return p}),n.d(e,"options",function(){return r});var r={},i=[],o=[];function a(t,e){var n,a,s,u,l=o;for(u=arguments.length;u-- >2;)i.push(arguments[u]);for(e&&null!=e.children&&(i.length||i.push(e.children),delete e.children);i.length;)if((a=i.pop())&&void 0!==a.pop)for(u=a.length;u--;)i.push(a[u]);else"boolean"==typeof a&&(a=null),(s="function"!=typeof t)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(s=!1)),s&&n?l[l.length-1]+=a:l===o?l=[a]:l.push(a),n=s;var f=new function(){};return f.nodeName=t,f.children=l,f.attributes=null==e?void 0:e,f.key=null==e?void 0:e.key,void 0!==r.vnode&&r.vnode(f),f}function s(t,e){for(var n in e)t[n]=e[n];return t}var u="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function l(t,e){return a(t.nodeName,s(s({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}var f=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,c=[];function h(t){!t._dirty&&(t._dirty=!0)&&1==c.push(t)&&(r.debounceRendering||u)(p)}function p(){var t,e=c;for(c=[];t=e.pop();)t._dirty&&L(t)}function d(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function m(t){var e=s({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function v(t){var e=t.parentNode;e&&e.removeChild(t)}function y(t,e,n,r,i){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),r&&r(t);else if("class"!==e||i)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var o in n)o in r||(t.style[o]="");for(var o in r)t.style[o]="number"==typeof r[o]&&!1===f.test(o)?r[o]+"px":r[o]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,g,a):t.removeEventListener(e,g,a),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!i&&e in t)!function(t,e,n){try{t[e]=n}catch(t){}}(t,e,null==r?"":r),null!=r&&!1!==r||t.removeAttribute(e);else{var s=i&&e!==(e=e.replace(/^xlink\:?/,""));null==r||!1===r?s?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(s?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function g(t){return this._listeners[t.type](r.event&&r.event(t)||t)}var b=[],x=0,w=!1,_=!1;function P(){for(var t;t=b.pop();)r.afterMount&&r.afterMount(t),t.componentDidMount&&t.componentDidMount()}function S(t,e,n,r,i,o){x++||(w=null!=i&&void 0!==i.ownerSVGElement,_=null!=t&&!("__preactattr_"in t));var a=C(t,e,n,r,o);return i&&a.parentNode!==i&&i.appendChild(a),--x||(_=!1,o||P()),a}function C(t,e,n,r,i){var o=t,a=w;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||i)?t.nodeValue!=e&&(t.nodeValue=e):(o=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(o,t),E(t,!0))),o.__preactattr_=!0,o;var s,u,l=e.nodeName;if("function"==typeof l)return function(t,e,n,r){var i=t&&t._component,o=i,a=t,s=i&&t._componentConstructor===e.nodeName,u=s,l=m(e);for(;i&&!u&&(i=i._parentComponent);)u=i.constructor===e.nodeName;i&&u&&(!r||i._component)?(A(i,l,3,n,r),t=i.base):(o&&!s&&(M(o),t=a=null),i=O(e.nodeName,l,n),t&&!i.nextBase&&(i.nextBase=t,a=null),A(i,l,1,n,r),t=i.base,a&&t!==a&&(a._component=null,E(a,!1)));return t}(t,e,n,r);if(w="svg"===l||"foreignObject"!==l&&w,l=String(l),(!t||!d(t,l))&&(s=l,(u=w?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)).normalizedNodeName=s,o=u,t)){for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(o,t),E(t,!0)}var f=o.firstChild,c=o.__preactattr_,h=e.children;if(null==c){c=o.__preactattr_={};for(var p=o.attributes,g=p.length;g--;)c[p[g].name]=p[g].value}return!_&&h&&1===h.length&&"string"==typeof h[0]&&null!=f&&void 0!==f.splitText&&null==f.nextSibling?f.nodeValue!=h[0]&&(f.nodeValue=h[0]):(h&&h.length||null!=f)&&function(t,e,n,r,i){var o,a,s,u,l,f=t.childNodes,c=[],h={},p=0,m=0,y=f.length,g=0,b=e?e.length:0;if(0!==y)for(var x=0;x<y;x++){var w=f[x],_=w.__preactattr_,P=b&&_?w._component?w._component.__key:_.key:null;null!=P?(p++,h[P]=w):(_||(void 0!==w.splitText?!i||w.nodeValue.trim():i))&&(c[g++]=w)}if(0!==b)for(var x=0;x<b;x++){u=e[x],l=null;var P=u.key;if(null!=P)p&&void 0!==h[P]&&(l=h[P],h[P]=void 0,p--);else if(!l&&m<g)for(o=m;o<g;o++)if(void 0!==c[o]&&(S=a=c[o],I=i,"string"==typeof(T=u)||"number"==typeof T?void 0!==S.splitText:"string"==typeof T.nodeName?!S._componentConstructor&&d(S,T.nodeName):I||S._componentConstructor===T.nodeName)){l=a,c[o]=void 0,o===g-1&&g--,o===m&&m++;break}l=C(l,u,n,r),s=f[x],l&&l!==t&&l!==s&&(null==s?t.appendChild(l):l===s.nextSibling?v(s):t.insertBefore(l,s))}var S,T,I;if(p)for(var x in h)void 0!==h[x]&&E(h[x],!1);for(;m<=g;)void 0!==(l=c[g--])&&E(l,!1)}(o,h,n,r,_||null!=c.dangerouslySetInnerHTML),function(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||y(t,r,n[r],n[r]=void 0,w);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||y(t,r,n[r],n[r]=e[r],w)}(o,e.attributes,c),w=a,o}function E(t,e){var n=t._component;n?M(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||v(t),T(t))}function T(t){for(t=t.lastChild;t;){var e=t.previousSibling;E(t,!0),t=e}}var I={};function O(t,e,n){var r,i=I[t.name];if(t.prototype&&t.prototype.render?(r=new t(e,n),R.call(r,e,n)):((r=new R(e,n)).constructor=t,r.render=N),i)for(var o=i.length;o--;)if(i[o].constructor===t){r.nextBase=i[o].nextBase,i.splice(o,1);break}return r}function N(t,e,n){return this.constructor(t,n)}function A(t,e,n,i,o){t._disable||(t._disable=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,!t.base||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,i),i&&i!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=i),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===r.syncComponentUpdates&&t.base?h(t):L(t,1,o)),t.__ref&&t.__ref(t))}function L(t,e,n,i){if(!t._disable){var o,a,u,l=t.props,f=t.state,c=t.context,h=t.prevProps||l,p=t.prevState||f,d=t.prevContext||c,v=t.base,y=t.nextBase,g=v||y,w=t._component,_=!1;if(v&&(t.props=h,t.state=p,t.context=d,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(l,f,c)?_=!0:t.componentWillUpdate&&t.componentWillUpdate(l,f,c),t.props=l,t.state=f,t.context=c),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!_){o=t.render(l,f,c),t.getChildContext&&(c=s(s({},c),t.getChildContext()));var C,T,I=o&&o.nodeName;if("function"==typeof I){var N=m(o);(a=w)&&a.constructor===I&&N.key==a.__key?A(a,N,1,c,!1):(C=a,t._component=a=O(I,N,c),a.nextBase=a.nextBase||y,a._parentComponent=t,A(a,N,0,c,!1),L(a,1,n,!0)),T=a.base}else u=g,(C=w)&&(u=t._component=null),(g||1===e)&&(u&&(u._component=null),T=S(u,o,c,n||!v,g&&g.parentNode,!0));if(g&&T!==g&&a!==w){var R=g.parentNode;R&&T!==R&&(R.replaceChild(T,g),C||(g._component=null,E(g,!1)))}if(C&&M(C),t.base=T,T&&!i){for(var k=t,B=t;B=B._parentComponent;)(k=B).base=T;T._component=k,T._componentConstructor=k.constructor}}if(!v||n?b.unshift(t):_||(t.componentDidUpdate&&t.componentDidUpdate(h,p,d),r.afterUpdate&&r.afterUpdate(t)),null!=t._renderCallbacks)for(;t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);x||i||P()}}function M(t){r.beforeUnmount&&r.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?M(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.nextBase=e,v(e),function(t){var e=t.constructor.name;(I[e]||(I[e]=[])).push(t)}(t),T(e)),t.__ref&&t.__ref(null)}function R(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{}}function k(t,e,n){return S(n,t,{},!1,e,!1)}s(R.prototype,{setState:function(t,e){var n=this.state;this.prevState||(this.prevState=s({},n)),s(n,"function"==typeof t?t(n,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),h(this)},forceUpdate:function(t){t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),L(this,2)},render:function(){}});var B={h:a,createElement:a,cloneElement:l,Component:R,render:k,rerender:p,options:r};e.default=B},function(t,e,n){"use strict";var r=n(7),i=n(56),o=n(102),a=function(t,e,n,o,a){var s,u,l,f,c,h;void 0===t?(s=u=l=0,f=1):Array.isArray(t)?(h=e||{},s=void 0!==t[0]?t[0]:0,u=void 0!==t[1]?t[1]:0,l=void 0!==t[2]?t[2]:0,f=void 0!==t[3]?t[3]:h.range||1):void 0!==t.r?(h=e||{},s=t.r,u=t.g,l=t.b,f=void 0!==t.a?t.a:h.range||1):"string"==typeof t?(s=(c=i.hex2rgb(t))[0],u=c[1],l=c[2],f=1):"number"==typeof t&&(1===arguments.length?(s=u=l=t,f=1):2===arguments.length?(s=u=l=t,f="number"==typeof e?e:(h=e).range||1):3===arguments.length?"number"==typeof n?(s=t,u=e,l=n,f=1):(s=u=l=t,f=e,h=n):4===arguments.length?(s=t,u=e,l=n,f="number"==typeof o?o:(h=o).range||1):(s=t,u=e,l=n,f=o,h=a)),void 0!==(h=h||{}).range&&(s/=h.range,u/=h.range,l/=h.range,f/=h.range,"HSB"===h.mode&&(t/=h.range,e/=h.range,n/=h.range)),"HSB"===h.mode?(t=r.clamp(t,0,1),e=r.clamp(e,0,1),n=r.clamp(n,0,1),s=(c=i.hsb2rgb(t,e,n))[0],u=c[1],l=c[2]):"HSL"===h.mode?(t=r.clamp(t,0,1),e=r.clamp(e,0,1),n=r.clamp(n,0,1),s=(c=i.hsl2rgb(t,e,n))[0],u=c[1],l=c[2]):"HEX"===h.mode&&(s=(c=i.hex2rgb(t))[0],u=c[1],l=c[2],f=1),this.r=r.clamp(s,0,1),this.g=r.clamp(u,0,1),this.b=r.clamp(l,0,1),this.a=r.clamp(f,0,1)};a.BLACK=new a(0),a.WHITE=new a(1),o.defineAlias(a,"r","red"),o.defineAlias(a,"g","green"),o.defineAlias(a,"b","blue"),o.defineAlias(a,"a","alpha"),o.defineGetter(a,"h",function(){return i.rgb2hsl(this.r,this.g,this.b)[0]}),o.defineGetter(a,"s",function(){return i.rgb2hsl(this.r,this.g,this.b)[1]}),o.defineGetter(a,"l",function(){return i.rgb2hsl(this.r,this.g,this.b)[2]}),o.defineAlias(a,"h","hue"),o.defineAlias(a,"s","saturation"),o.defineAlias(a,"l","lightness"),o.defineGetter(a,"rgb",function(){return[this.r,this.g,this.b]}),o.defineGetter(a,"rgba",function(){return[this.r,this.g,this.b,this.a]}),o.defineGetter(a,"hsb",function(){return i.rgb2hsb(this.r,this.g,this.b)}),o.defineGetter(a,"hsba",function(){return i.rgb2hsb(this.r,this.g,this.b).concat([this.a])}),o.defineGetter(a,"hsl",function(){return i.rgb2hsl(this.r,this.g,this.b)}),o.defineGetter(a,"hsla",function(){return i.rgb2hsl(this.r,this.g,this.b).concat([this.a])}),a.prototype.toCSS=function(){return a.toCSS(this)},a.prototype.toHex=function(t){return t||this.a>=1?i.rgb2hex(this.r,this.g,this.b):i.rgba2hex(this.r,this.g,this.b,this.a)},a.prototype.desaturate=function(t){if(this.r===this.g&&this.g===this.b)return this;var e,n,r;void 0!==t&&t.method&&"ITU-R BT.601"!==t.method?"ITU-R BT.709"===t.method&&(e=.2125,n=.7154,r=.0721):(e=.3,n=.59,r=.11);var i=this.r*e+this.g*n+this.b*r;return new a(i,i,i,this.a)},a.prototype.invert=function(){return new a(1-this.r,1-this.g,1-this.b,this.a)},a.clone=function(t){return null===t||void 0===t?null:"string"==typeof t?t:new a(t.r,t.g,t.b,t.a)},a.toCSS=function(t){if(null===t)return"none";if(void 0===t)return"black";if("string"==typeof t)return t;if(t instanceof a){return"rgba("+Math.round(255*t.r)+", "+Math.round(255*t.g)+", "+Math.round(255*t.b)+", "+t.a+")"}if(void 0!==t.r&&void 0!==t.g&&void 0!==t.b){let e=Math.round(255*t.r),n=Math.round(255*t.g),r=Math.round(255*t.b);return void 0===t.a?"rgb("+e+", "+n+", "+r+")":"rgba("+e+", "+n+", "+r+", "+t.a+")"}throw new Error("Don't know how to convert "+t+" to CSS.")},a.toHex=function(t,e){return a.parse(t,e).toHex()},a.make=function(){var t=Object.create(a.prototype);return t.constructor=a.prototype,a.apply(t,arguments),t},a.parse=function(t){function e(t,e){return!(!t||!e)&&0===(t=String(t)).indexOf(e)}var n;if(void 0===t||null===t)return new a(0,0,0,0);if(t instanceof a)return t;if(i.namedColors[t])return a.make.apply(null,i.namedColors[t]);if("#"===t[0])return new a(t,0,0,0,{mode:"HEX"});if(e(t,"rgba"))return(n=t.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+|\d+.\d+)\s*\)$/i))?new a(parseInt(n[1])/255,parseInt(n[2])/255,parseInt(n[3])/255,parseFloat(n[4])):(n=t.match(/^rgba\s*\(\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)\s*\)$/i))?new a(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4])):new a(0,0,0,0);if(e(t,"rgb"))return(n=t.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))?new a(parseInt(n[1])/255,parseInt(n[2])/255,parseInt(n[3])/255):(n=t.match(/^rgb\s*\(\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*\)$/i))?new a(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100):new a(0,0,0,0);if(e(t,"hsla"))return(n=t.match(/^hsla\s*\(\s*(\d+|\d+.\d+)\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)\s*\)$/i))?new a(parseFloat(n[1])/360,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4])):new a(0,0,0,0);if(e(t,"hsl"))return(n=t.match(/^hsl\s*\(\s*(\d+|\d+.\d+)\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*\)$/i))?new a(parseFloat(n[1])/360,parseFloat(n[2])/100,parseFloat(n[3])/100):new a(0,0,0,0);if("none"===t||"null"===t||e(t,"url("))return new a(0,0,0,0);throw new Error("Color "+t+"can not be parsed")},a.gray=function(t,e,n){return n=Math.max(n,1),new a(t/n,t/n,t/n,e/n)},a.rgb=function(t,e,n,r,i){return i=Math.max(i,1),new a(t/i,e/i,n/i,r/i)},a.hsb=function(t,e,n,r,i){return i=Math.max(i,1),new a(t/i,e/i,n/i,r/i,{mode:"HSB"})},a.hsl=function(t,e,n,r,i){return i=Math.max(i,1),new a(t/i,e/i,n/i,r/i,{mode:"HSL"})},t.exports=a},function(t,e,n){"use strict";var r={sum:function(t){var e,n=t.length,r=0;for(e=0;e<n;e+=1)r+=t[e];return r},round:function(t,e){return e?Math.round(t*Math.pow(10,e))/Math.pow(10,e):Math.round(t)},sign:function(t){return t<0?-1:t>0?1:0},degrees:function(t){return 180*t/Math.PI},radians:function(t){return t/180*Math.PI},clamp:function(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t},snap:function(t,e,n){return t*(1-(n=void 0!==n?n:1))+n*Math.round(t/e)*e},dot:function(t,e){var n,r=Math.min(t.length,e.length),i=0;for(n=0;n<r;n+=1)i+=t[n]*e[n];return i}},i=r.mix=r.lerp=function(t,e,n,r){if(r){if(n<0)return t;if(n>1)return e}return t+(e-t)*n};function o(t){return t*t*t*(t*(6*t-15)+10)}function a(t,e,n,r){var i,o,a;return o=(i=15&t)<8?e:n,a=i<4?n:12===i||14===i?e:r,(0==(1&i)?o:-o)+(0==(2&i)?a:-a)}var s=function(){var t,e,n;for(t=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],e=new Uint8Array(512),n=0;n<256;n+=1)e[256+n]=e[n]=t[n];return e}();r.noise=function(t,e,n){var r=s,u=255&Math.floor(t),l=255&Math.floor(e),f=255&Math.floor(n);t-=Math.floor(t),e-=Math.floor(e),n-=Math.floor(n);var c=o(t),h=o(e),p=o(n),d=r[u]+l,m=r[d]+f,v=r[d+1]+f,y=r[u+1]+l,g=r[y]+f,b=r[y+1]+f;return(1+i(i(i(a(r[m],t,e,n),a(r[g],t-1,e,n),c),i(a(r[v],t,e-1,n),a(r[b],t-1,e-1,n),c),h),i(i(a(r[m+1],t,e,n-1),a(r[g+1],t-1,e,n-1),c),i(a(r[v+1],t,e-1,n-1),a(r[b+1],t-1,e-1,n-1),c),h),p))/2},t.exports=r},,function(t,e,n){"use strict";var r=n(28),i=n(20),o=n(19),a=n(7),s=n(6),u=n(10),l=i.MOVETO,f=i.LINETO,c=i.QUADTO,h=i.CURVETO,p=i.CLOSE,d=Object.freeze({type:p});function m(t,e=3){return t%1==0?t:t.toFixed(e)}var v=function(t,e,n,r){this.commands=void 0!==t?t:[],this.fill=void 0!==e?e:"black",this.stroke=void 0!==n?n:null,this.strokeWidth=void 0!==r?r:1};v.prototype.clone=function(){var t,e,n,r=new v,i=this.commands.length;for(r.commands.length=this.commands.length,t=0;t<i;t+=1)r.commands[t]=(e=this.commands[t],n=void 0,(n={type:e.type}).type!==p&&(n.x=e.x,n.y=e.y),n.type===c?(n.x1=e.x1,n.y1=e.y1):n.type===h&&(n.x1=e.x1,n.y1=e.y1,n.x2=e.x2,n.y2=e.y2),n);return r.fill=s.clone(this.fill),r.stroke=s.clone(this.stroke),r.strokeWidth=this.strokeWidth,r},v.prototype.extend=function(t){var e=t.commands||t;Array.prototype.push.apply(this.commands,e)},v.prototype.moveTo=function(t,e){this.commands.push({type:l,x:t,y:e})},v.prototype.lineTo=function(t,e){this.commands.push({type:f,x:t,y:e})},v.prototype.curveTo=function(t,e,n,r,i,o){this.commands.push({type:h,x1:t,y1:e,x2:n,y2:r,x:i,y:o})},v.prototype.quadTo=function(t,e,n,r){var i=this.commands[this.commands.length-1].x,o=this.commands[this.commands.length-1].y,a=i+2/3*(t-i),s=o+2/3*(e-o),u=a+1/3*(n-i),l=s+1/3*(r-o);this.curveTo(a,s,u,l,n,r)},v.prototype.closePath=v.prototype.close=function(){this.commands.push(d)},v.prototype.isClosed=function(){return 0!==this.commands.length&&this.commands[this.commands.length-1].type===p},v.prototype.addRect=function(t,e,n,r){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.close()},v.prototype.addRoundedRect=function(t,e,n,r,i,o){var a=i,s=o,u=t,l=t+n,f=e,c=e+r;a=Math.min(a,.5*n),s=Math.min(s,.5*r),this.moveTo(u+a,f),a<.5*n&&this.lineTo(l-i,f),this.curveTo(l-a*(1-.552),f,l,f+s*(1-.552),l,f+s),s<.5*r&&this.lineTo(l,c-s),this.curveTo(l,c-s*(1-.552),l-a*(1-.552),c,l-a,c),a<.5*n&&this.lineTo(u+a,c),this.curveTo(u+a*(1-.552),c,u,c-s*(1-.552),u,c-s),s<.5*r&&this.lineTo(u,f+s),this.curveTo(u,f+s*(1-.552),u+a*(1-.552),f,u+a,f),this.close()},v.prototype.addEllipse=function(t,e,n,r){var i=.2761423749153968*n,o=.2761423749153968*r,a=t+.5*n,s=e+.5*r,u=t+n,l=e+r;this.moveTo(t,s),this.curveTo(t,s-o,a-i,e,a,e),this.curveTo(a+i,e,u,s-o,u,s),this.curveTo(u,s+o,a+i,l,a,l),this.curveTo(a-i,l,t,s+o,t,s),this.close()},v.prototype.addLine=function(t,e,n,r){this.moveTo(t,e),this.lineTo(n,r)},v.prototype.addQuad=function(t,e,n,r,i,o,a,s){this.moveTo(t,e),this.lineTo(n,r),this.lineTo(i,o),this.lineTo(a,s),this.close()},v.prototype.addArc=function(t,e,n,r,i,o,s){var u,l,f,c,h,p,d,m,y,g,b,x,w;for(s=s||"pie",u=n/2,l=r/2,f=a.radians(i),(c=o)>=360||c<=-360?(h=4,p=Math.PI/2,d=.5522847498307933,c<0&&(p=-p,d=-d)):(h=Math.ceil(Math.abs(c)/90),p=a.radians(c/h),0===(d=4/3*Math.sin(p/2)/(1+Math.cos(p/2)))&&(h=0)),"open"===s?m=0:"chord"===s?m=1:"pie"===s&&(m=2),(u<0||l<0)&&(h=m=-1),y=0;y<=h+m;)g=f,0===y?this.moveTo(t+Math.cos(g)*u,e+Math.sin(g)*l):y>h?y===h+m?this.close():this.lineTo(t,e):(g+=p*(y-1),b=Math.cos(g),x=Math.sin(g),(w=[]).push(t+(b-d*x)*u),w.push(e+(x+d*b)*l),g+=p,b=Math.cos(g),x=Math.sin(g),w.push(t+(b+d*x)*u),w.push(e+(x-d*b)*l),w.push(t+b*u),w.push(e+x*l),v.prototype.curveTo.apply(this,w)),y+=1},v.prototype.colorize=function(t){var e=arguments;("object"!=typeof t||t instanceof s)&&(t={},void 0!==e[0]&&(t.fill=e[0]),void 0!==e[1]&&(t.stroke=e[1]),void 0!==e[2]&&(t.strokeWidth=e[2]));var n=this.clone();return t.fill&&(n.fill=s.clone(t.fill)),t.stroke&&(n.stroke=s.clone(t.stroke)),(t.strokeWidth||0===t.strokeWidth)&&(n.strokeWidth=t.strokeWidth),n},v.prototype.desaturate=function(t){var e=this.clone(),n=e.fill,r=e.stroke;return n instanceof s||(n=s.parse(n)),r instanceof s||(r=s.parse(r)),e.fill=n.desaturate(t),e.stroke=r.desaturate(t),e},v.prototype.invert=function(){var t=this.clone(),e=t.fill,n=t.stroke;return e instanceof s||(e=s.parse(e)),n instanceof s||(n=s.parse(n)),t.fill=e.invert(),t.stroke=n.invert(),t},v.prototype.contours=function(){for(var t,e=[],n=[],r=0;r<this.commands.length;r+=1)(t=this.commands[r]).type===l?(0!==n.length&&e.push(n),n=[t]):n.push(t);return 0!==n.length&&e.push(n),e},v.prototype.bounds=function(){if(this._bounds)return this._bounds;if(0===this.commands.length)return new u(0,0,0,0);for(var t,e,n,r,o,a,s=Number.MAX_VALUE,c=Number.MAX_VALUE,p=-Number.MAX_VALUE,d=-Number.MAX_VALUE,m=0;m<this.commands.length;m+=1)if((a=this.commands[m]).type===l||a.type===f)t=a.x,e=a.y,t<s&&(s=t),e<c&&(c=e),t>p&&(p=t),e>d&&(d=e),n=a;else if(a.type===h){var v=i.extrema(n.x,n.y,a.x1,a.y1,a.x2,a.y2,a.x,a.y);r=v.x+v.width,o=v.y+v.height,v.x<s&&(s=v.x),r>p&&(p=r),v.y<c&&(c=v.y),o>d&&(d=o),n=a}return new u(s,c,p-s,d-c)},v.prototype.point=function(t,e){return void 0===e&&(e=i.segmentLengths(this.commands,!0,10)),i.point(this,t,e)},v.prototype.points=function(t,e){var n,r=e&&void 0!==e.start?e.start:0,o=e&&void 0!==e.end?e.end:1;if(0===this.commands.length)return[];t=Math.round(t),n=e&&e.closed?t>1?(o-r)/t:o-r:t>1?(o-r)/(t-1):o-r;for(var a=[],s=i.segmentLengths(this.commands,!0,10),u=0;u<t;u+=1)a.push(this.point(r+n*u,s));return a},v.prototype.length=function(t){return void 0===t&&(t=20),i.length(this,t)},v.prototype.contains=function(t,e,n){var r=this.points(void 0!==n?n:100);return o.pointInPolygon(r,t,e)},v.prototype.resampleByAmount=function(t,e){for(var n=e?this.contours():[this.commands],r=new v([],this.fill,this.stroke,this.strokeWidth),i=0;i<n.length;i+=1){var o=new v(n[i]),a={};o.isClosed()&&(a.closed=!0);for(var s=o.points(t,a),u=0;u<s.length;u+=1)0===u?r.moveTo(s[u].x,s[u].y):r.lineTo(s[u].x,s[u].y);o.isClosed()&&r.close()}return r},v.prototype.resampleByLength=function(t,e){var n=(e=e||{}).force||!1,r=this.contours(),i=[];n||(t=Math.max(t,1));for(var o=0;o<r.length;o+=1){var a=new v(r[o]),s=a.length(),u=Math.ceil(s/t);i=i.concat(a.resampleByAmount(u).commands)}return new v(i,this.fill,this.stroke,this.strokeWidth)},v.prototype.toPathData=function(t=3){var e,n,r,i,o,s,u,d,v;for(n="",e=0;e<this.commands.length;e+=1)void 0!==(r=this.commands[e]).x&&(i=m(a.clamp(r.x,-9999,9999),t),o=m(a.clamp(r.y,-9999,9999),t)),void 0!==r.x1&&(s=m(a.clamp(r.x1,-9999,9999),t),u=m(a.clamp(r.y1,-9999,9999),t)),void 0!==r.x2&&(d=m(a.clamp(r.x2,-9999,9999),t),v=m(a.clamp(r.y2,-9999,9999),t)),r.type===l?isNaN(i)||isNaN(o)||(n+="M"+i+" "+o):r.type===f?isNaN(i)||isNaN(o)||(n+="L"+i+" "+o):r.type===c?isNaN(i)||isNaN(o)||isNaN(s)||isNaN(u)||(n+="Q"+s+" "+u+" "+i+" "+o):r.type===h?isNaN(i)||isNaN(o)||isNaN(s)||isNaN(u)||isNaN(d)||isNaN(v)||(n+="C"+s+" "+u+" "+d+" "+v+" "+i+" "+o):r.type===p&&(n+="Z");return n},v.prototype.toSVG=function(){var t='<path d="';t+=this.toPathData(),t+='"';var e,n,r,i,o="";return this.fill&&((e=s.parse(this.fill)).a<1&&(n=e.a),e=s.toHex(e).substring(0,7)),"black"!==e&&"#000000"!==e&&(o+=null===e||void 0===e?"fill:none;":"fill:"+e+";"),void 0!==n&&(o+="fill-opacity:"+n+";"),this.stroke&&((r=s.parse(this.stroke)).a<1&&(i=r.a),r=s.toHex(r).substring(0,7)),r&&(o+="stroke:"+r+";",o+="stroke-width:"+this.strokeWidth+";"),void 0!==i&&(o+="stroke-opacity:"+i+";"),o&&(t+=' style="'+o+'"'),t+="/>"},v.prototype.draw=function(t){var e,n,r;for(t.beginPath(),e=this.commands.length,n=0;n<e;n+=1)(r=this.commands[n]).type===l?t.moveTo(r.x,r.y):r.type===f?t.lineTo(r.x,r.y):r.type===c?t.quadraticCurveTo(r.x1,r.y1,r.x,r.y):r.type===h?t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):r.type===p&&t.closePath();null!==this.fill&&void 0!==this.fill&&(t.fillStyle=s.toCSS(this.fill),t.fill()),null!==this.stroke&&void 0!==this.stroke&&null!==this.strokeWidth&&this.strokeWidth>0&&(t.strokeStyle=s.toCSS(this.stroke),t.lineWidth=this.strokeWidth,t.stroke())},v.combine=function(){for(var t,e=Array.apply(null,arguments),n=r(e),i=[],o=0;o<n.length;o+=1)(t=n[o]).commands?i=i.concat(t.commands):t.shapes&&(i=i.concat(v.combine(t.shapes).commands));return new v(i)},t.exports=v},function(t,e,n){"use strict";var r=n(4),i=function(t,e,n,r){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.width=void 0!==n?n:0,this.height=void 0!==r?r:0};Object.defineProperty(i.prototype,"xywh",{get:function(){return[this.x,this.y,this.width,this.height]}}),i.prototype.normalize=function(){var t=this.x,e=this.y,n=this.width,r=this.height;return n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),new i(t,e,n,r)},i.prototype.containsPoint=function(t,e){return 1===arguments.length&&(e=t.y,t=t.x),t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},i.prototype.containsRect=function(t){return t.x>=this.x&&t.x+t.width<=this.x+this.width&&t.y>=this.y&&t.y+t.height<=this.y+this.height},i.prototype.grow=function(t,e){var n=this.x-t,r=this.y-e,o=this.width+2*t,a=this.height+2*e;return new i(n,r,o,a)},i.prototype.unite=function(t){var e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width)-e,o=Math.max(this.y+this.height,t.y+t.height)-n;return new i(e,n,r,o)},i.prototype.addPoint=function(t,e){var n=this.x,r=this.y,o=this.width,a=this.height;return t<this.x?(n=t,o+=this.x-t):t>this.x+this.width&&(o+=t-(this.x+this.width)),e<this.y?(r=e,a+=this.y-e):e>this.y+this.height&&(a+=e-(this.y+this.height)),new i(n,r,o,a)},i.prototype.centerPoint=function(){return new r(this.x+this.width/2,this.y+this.height/2)},t.exports=i},,function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g=__webpack_require__(22);g._toSVG=g.toSVG,__webpack_require__(65);var preact=__webpack_require__(5),_=__webpack_require__(23),d3Geo=__webpack_require__(57),geoMercator=d3Geo.geoMercator,config=__webpack_require__(63),runtime="object"===("undefined"==typeof window?"undefined":_typeof(window))?"browser":"node",vm="node"===runtime?__webpack_require__(62):null,globalNamespace="browser"===runtime?window:vm.createContext(),ndbx={DEFAULT_FUNCTION_WIDTH:1e3,DEFAULT_FUNCTION_HEIGHT:1e3};if("undefined"!=typeof document){var scripts=document.getElementsByTagName("script"),lastScript=scripts[scripts.length-1],scriptUrl=lastScript.src,parser=document.createElement("a");parser.href=scriptUrl,ndbx.origin=parser.protocol+"//"+parser.host}else ndbx.origin="";ndbx.globalNamespace=globalNamespace,ndbx._currentFrame=1,ndbx._startTime=0,ndbx.resetTime=function(){ndbx._currentFrame=1,ndbx._startTime=new Date},ndbx.frame=function(){return ndbx._currentFrame},ndbx.elapsedSeconds=function(){return(new Date-ndbx._startTime)/1e3},ndbx._mousePosition=g.Point.ZERO,ndbx.randomGenerator=function(t){if(t<0){for(var e=ndbx.randomGenerator(Math.abs(t)),n=0;n<23;n+=1)e();return ndbx.randomGenerator(e(0,1e4))}return function(e,n){return(e=e||0)+(t=(9301*t+49297)%233280)/233280*((n=n||1)-e)}},ndbx.randomNumber=function(t,e,n){return void 0===n?t+Math.random()*(e-t):ndbx.randomGenerator(n)(t,e)},ndbx.randomInt=function(t,e,n){return Math.round(ndbx.randomNumber(t,e,n))},ndbx.generateNodeName=function(t,e){var n;for(n=1;ndbx.findNode(t,e+n);)if((n+=1)>1e3)throw new Error("Could not generate node name "+t+" prefix "+e+" index "+n);return e+n},ndbx.generateParameterName=function(t,e){var n=t.parameters;if(!n.find(function(t){return t.name===e}))return e;for(var r=1;n.find(function(t){return t.name===e+r});)if((r+=1)>1e3)throw new Error("Could not generate parameter name "+t+" prefix "+e+" index "+r);return e+r},ndbx.combineLists=function(t){return Array.prototype.concat.apply([],t)},ndbx.stringEndsWith=function(t,e){var n,r;return!!t&&(n=t.length-e.length,-1!==(r=t.lastIndexOf(e))&&r===n)},ndbx.fileExtension=function(t){var e=t.split("/"),n=e[e.length-1],r=n.lastIndexOf(".");return r>0?n.substring(r):""},ndbx.isPromise=function(t){return t&&"function"==typeof t.then},ndbx._state={},ndbx.clearState=function(){ndbx._state={}},ndbx.findStatefulOutputs=function(t,e){var n=e.nodes.filter(function(e){var n=ndbx.findFunction(t,e.fn);return n&&n.stateful}).map(function(n){return[n,ndbx.findStatefulInputs(t,e,n,!0)]}),r=[];return n.forEach(function(t){var e=t[0],i=!1;n.forEach(function(t){t[0]!==e&&-1!==t[1].indexOf(e)&&(i=!0)}),i||r.push(e)}),r},ndbx.findStatefulInputs=function(t,e,n,r){var i=ndbx.findFunction(t,n.fn);if(!i||!i.stateful)return[];var o=[],a=i.parameters[0];if(a){var s=ndbx.findConnectionByInput(e,n,a);if(s){var u=ndbx.findNode(e,s.output),l=ndbx.findFunction(t,u.fn);if(l&&l.stateful){var f=ndbx.findStatefulInputs(t,e,u,r);if(!r)return f;o=o.concat(f)}}r||o.push(n)}return r&&o.push(n),o},ndbx.assets={},ndbx.findAsset=function(t){return ndbx.assets[t]};var FULL_NAME_RE=/^([a-z]\w{0,30})\.([a-z]\w{0,30})$/,FUNCTION_NAME_RE=/^[a-z]\w{0,30}$/;ndbx.namespace=function(t){var e=FULL_NAME_RE.exec(t);return e?e[1]:null},ndbx.baseName=function(t){var e=FULL_NAME_RE.exec(t);if(!e)throw new Error("baseName: given name "+t+" is not a fully qualified name.");return e[2]},ndbx.isValidFullName=function(t){return FULL_NAME_RE.test(t)},ndbx.isValidFunctionName=function(t){return FUNCTION_NAME_RE.test(t)},ndbx.ensureNamespace=function(t){if(!globalNamespace[t]){var e={};return globalNamespace[t]=e,e}return globalNamespace[t]},ndbx.hasParameters=function(t){return t&&t.hasOwnProperty("parameters")},ndbx.STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ndbx.FN_ARGS=/function\s*[^(]*\(\s*([^)]*)\)/m,ndbx.FN_ARG_SPLIT=/,/,ndbx.functionArguments=function(t){var e;return(e=t.toString().replace(ndbx.STRIP_COMMENTS,"").match(ndbx.FN_ARGS))?0===(e=e[1].trim()).length?[]:e.split(ndbx.FN_ARG_SPLIT).map(function(t){return t.trim()}):null},ndbx.functionToString=function(t,e){return t+" = "+e.toString()},ndbx.firstIndexOf=function(t,e){if(!t)return-1;var n;for(n=0;n<t.length;n+=1)if(e(t[n],n))return n;return-1},ndbx.name=function(t){return t?"string"!=typeof t?t.name:t:""},ndbx.findNode=function(t,e){return console.assert("network"===t.type,"First argument of findNode is not a network."),"string"!=typeof e?e:t.nodes.find(function(t){return t.name===e})},ndbx.findParameter=function(t,e,n){if("string"!=typeof n)return n;console.assert("string"==typeof e.fn);var r=ndbx.findFunction(t,e.fn);return r?r.parameters.find(function(t){return t.name===n}):void 0},ndbx.findParameterIndex=function(t,e,n){console.assert("string"==typeof e.fn),console.assert("string"==typeof n);var r=ndbx.findFunction(t,e.fn);if(r)return r.parameters.findIndex(function(t){return t.name===n})},ndbx.findParameterByIndex=function(t,e,n){var r=ndbx.findFunction(t,e.fn);if(r)return r.parameters[n]},ndbx.findInletIndex=function(t,e){return ndbx.firstIndexOf(t.parameters,function(t){return t.name===e})},ndbx.findInletByIndex=function(t,e){return t.parameters[e]},ndbx.findConnectionByInput=function(t,e,n){var r,i;for(e=ndbx.name(e),n=ndbx.name(n),r=0;r<t.connections.length;r+=1)if((i=t.connections[r]).input===e&&i.parameter===n)return i;return null},ndbx.findConnectionsByInput=function(t,e){var n=[];e=ndbx.name(e);for(var r=0;r<t.connections.length;r+=1){var i=t.connections[r];i.input===e&&n.push(i)}return n},ndbx.createNetwork=function(t){if(!ndbx.isValidFunctionName(t))throw new Error('Invalid network name "'+t+'".');return{name:t,type:"network",renderedNode:null,nodes:[],connections:[],parameters:[],returnsList:!0}},ndbx.createNode=function(t,e,n,r){var i={name:ndbx.generateNodeName(t,ndbx.baseName(e)),x:n=void 0!==n?n:ndbx.randomInt(20,450),y:r=void 0!==r?r:ndbx.randomInt(20,300),fn:e};return t.nodes.push(i),i},ndbx.renameNode=function(t,e,n){var r,i,o=(e=ndbx.findNode(t,e)).name;if(o!==n)for(e.name=n,t.renderedNode===o&&(t.renderedNode=n),r=0;r<t.connections.length;r+=1)(i=t.connections[r]).input===o?i.input=n:i.output===o&&(i.output=n)},ndbx.deleteNode=function(t,e){e=ndbx.findNode(t,e),t.nodes=t.nodes.filter(function(t){return t!==e}),t.connections=t.connections.filter(function(t){return!(t.output===e.name||t.input===e.name)}),t.renderedNode===e.name&&(t.renderedNode=null)},ndbx.getValue=function(t,e,n,r){var i=void 0;return n=ndbx.findNode(e,n),r=ndbx.findParameter(t,n,r),n.values&&void 0!==(i=n.values[r.name])?i:r.value},ndbx.coerceValue=function(t,e){var n;switch(e){case"int":n=parseInt(t);break;case"float":case"ratio":n=parseFloat(t);break;default:n=t}return n},ndbx.setValue=function(t,e,n,r,i){n=ndbx.findNode(e,n),i===(r=ndbx.findParameter(t,n,r)).value?n.values&&delete n.values[r.name]:(n.values||(n.values={}),n.values[r.name]=ndbx.coerceValue(i,r.type))},ndbx.connect=function(t,e,n,r){e=ndbx.name(e),n=ndbx.name(n),r=ndbx.name(r),ndbx.disconnectInput(t,n,r),t.connections.push({output:e,input:n,parameter:r})},ndbx.disconnectInput=function(t,e,n){e=ndbx.name(e),n=ndbx.name(n),t.connections=t.connections.filter(function(t){return!(t.input===e&&t.parameter===n)})},ndbx.connectInlet=function(t,e,n,r){var i=t.parameters[e];n=ndbx.name(n),r=ndbx.name(r),ndbx.disconnectInput(t,n,r),t.connections.push({inlet:i.name,input:n,parameter:r})},ndbx.disconnectInlet=function(t,e){e=ndbx.name(e),t.connections=t.connections.filter(function(t){return t.inlet!==e})},ndbx.publishPort=function(t,e,n,r){n=ndbx.name(n),r=ndbx.name(r);var i=ndbx.generateParameterName(e,r),o=ndbx.findNode(e,n),a=ndbx.findParameter(t,o,r),s=ndbx.getValue(t,e,n,r);s=ndbx.formatParameterValue(s,a.type),s=ndbx.parseParameterValue(s,a.type),a={name:i,type:a.type,value:s};var u=e.parameters.length;e.parameters.push(a),ndbx.connectInlet(e,u,n,r)},ndbx.groupIntoNetwork=function(t,e,n,r,i){var o=i,a=e.id+"."+o,s=[],u=[],l=void 0,f=JSON.stringify(n),c=JSON.parse(f);(f=JSON.parse(f)).name=o;var h=[];if(r&&r.length>0){var p=JSON.stringify(r);p=JSON.parse(p),f.nodes=p.filter(function(t){return!!t.name}),f.stickies=p.filter(function(t){return!t.name}),h=f.nodes.map(function(t){return t.name}),f.renderedNode=-1!==h.indexOf("renderedNode")?f.renderedNode:null,l=f.renderedNode;var d=n.connections.filter(function(t){return-1!==h.indexOf(t.input)||-1!==h.indexOf(t.output)}),m=d.filter(function(t){return-1!==h.indexOf(t.output)&&-1!==h.indexOf(t.input)}),v=new Set(d),y=!0,g=!1,b=void 0;try{for(var x,w=m[Symbol.iterator]();!(y=(x=w.next()).done);y=!0){var _=x.value;v.delete(_)}}catch(t){g=!0,b=t}finally{try{!y&&w.return&&w.return()}finally{if(g)throw b}}s=(v=Array.from(v.values())).filter(function(t){return-1!==h.indexOf(t.output)});var P=new Set(v),S=!0,C=!1,E=void 0;try{for(var T,I=s[Symbol.iterator]();!(S=(T=I.next()).done);S=!0){var O=T.value;P.delete(O)}}catch(t){C=!0,E=t}finally{try{!S&&I.return&&I.return()}finally{if(C)throw E}}P=Array.from(P.values());var N=JSON.stringify(P);N=JSON.parse(N);var A=!0,L=!1,M=void 0;try{for(var R,k=N[Symbol.iterator]();!(A=(R=k.next()).done);A=!0){var B=R.value;delete B.parameter,delete B.input}}catch(t){L=!0,M=t}finally{try{!A&&k.return&&k.return()}finally{if(L)throw M}}N=new Set(N);var D=[],U=[];(N=Array.from(N.values())).forEach(function(t){for(var e=t.inlet?P.filter(function(e){return e.inlet===t.inlet}):P.filter(function(e){return e.output===t.output}),n=e[0].parameter,r=n,i=1;-1!==D.indexOf(r);)r=n+i,i+=1;e.forEach(function(t){t=JSON.stringify(t),(t=JSON.parse(t)).inlet=r,delete t.output,U.push(t)}),t.parameter=r,u.push(t),D.push(r)}),f.parameters=D.map(function(t){return{name:t,type:"float",value:1}}),!l&&s.length>0&&(l=s[0].output,f.renderedNode=l),f.connections=m.concat(U)}else f.nodes=[],f.connections=[],f.renderedNode=null;delete f.background,e.functions.push(f),n.connections=n.connections.filter(function(t){return-1===h.indexOf(t.input)&&-1===h.indexOf(t.output)});var F=!0,X=!1,Y=void 0;try{for(var j,W=r[Symbol.iterator]();!(F=(j=W.next()).done);F=!0){var H=j.value,z=n.nodes.indexOf(H);-1!==z?n.nodes.splice(z,1):n.stickies&&n.stickies.length>0&&-1!==(z=n.stickies.indexOf(H))&&n.stickies.splice(z,1)}}catch(t){X=!0,Y=t}finally{try{!F&&W.return&&W.return()}finally{if(X)throw Y}}var q=void 0;if(l){var G=ndbx.findNode(c,l);q=ndbx.createNode(n,a,G.x,G.y)}else if(f.nodes.length>0){var V=ndbx.findNode(c,f.nodes[0].name);q=ndbx.createNode(n,a,V.x,V.y)}else q=ndbx.createNode(n,a);if(n.renderedNode===f.renderedNode&&(n.renderedNode=q.name),f.renderedNode){var Z=s.filter(function(t){return t.output===f.renderedNode});Z=Z.map(function(t){return t=JSON.stringify(t),(t=JSON.parse(t)).output=q.name,t}),n.connections=n.connections.concat(Z)}return u.length>0&&(u=u.map(function(t){return t=JSON.stringify(t),(t=JSON.parse(t)).input=q.name,t}),n.connections=n.connections.concat(u)),f},ndbx.createSticky=function(t,e,n,r,i,o){var a={x:e,y:n,width:r,height:i,text:o};return t.stickies=t.stickies||[],t.stickies.push(a),a},ndbx.deleteSticky=function(t,e){t.stickies=t.stickies.filter(function(t){return t!==e})},ndbx.formatParameterValue=function(t,e){return e?"float"===e||"int"===e?""+t:"string"===e?t:"boolean"===e?t?"true":"false":"point"===e?t?t.x+", "+t.y:"0, 0":"pointRatio"===e?t?t.x.toFixed(2)+", "+t.y.toFixed(2):"0.00, 0.00":""+t:""},ndbx.parseParameterValue=function(t,e){var n,r,i;return e?"float"===e||"int"===e||"ratio"===e?(n=parseFloat(t),isNaN(n)?0:n):"boolean"===e?"true"===t:"point"===e||"pointRatio"===e?t?1===(n=t.split(",")).length?(n=parseFloat(n[0]),isNaN(n)?{x:0,y:0}:{x:n,y:n}):(r=parseFloat(n[0]),i=parseFloat(n[1]),isNaN(r)||isNaN(i)?{x:0,y:0}:{x:r,y:i}):{x:0,y:0}:t:void 0},ndbx.startPlaying=function(t,e){if(e){var n=ndbx.findFunction(t,e);if(n)if("code"===n.type){var r=ndbx.lookupJSFunction(e);"onStart"in r&&r.onStart()}else if("network"===n.type)for(var i=0;i<n.nodes.length;i++){var o=n.nodes[i];ndbx.startPlaying(t,o.fn)}}},ndbx.stopPlaying=function(t,e){if(e){var n=ndbx.findFunction(t,e);if(n)if("code"===n.type)try{var r=ndbx.lookupJSFunction(e);"onStop"in r&&r.onStop()}catch(t){return}else if("network"===n.type)for(var i=0;i<n.nodes.length;i++){var o=n.nodes[i];ndbx.stopPlaying(t,o.fn)}}},ndbx.checkProjectIntegrity=function(t){t.functions&&t.functions instanceof Array||(t.functions=[]);for(var e,n=ndbx.rejectInvalidObjects(t.functions),r=ndbx.cleanupNames(n),i=0;i<n.length;i+=1)(e=n[i]).name||ndbx._newName(e,"fun",1,r),ndbx.checkFunctionIntegrity(e);t.functions=n},ndbx.checkFunctionIntegrity=function(t){"network"!==t.type&&"code"!==t.type&&(void 0!==t.nodes||void 0!==t.connections||void 0!==t.renderedNode?t.type="network":t.source?t.type="code":t.type="network"),"network"===t.type?ndbx.checkNetworkIntegrity(t):ndbx.checkCodeIntegrity(t)},ndbx.checkCodeIntegrity=function(t){t.parameters&&t.parameters instanceof Array||(t.parameters=[]),ndbx.checkParameters(t)},ndbx.checkNetworkIntegrity=function(t){t.nodes&&t.nodes instanceof Array||(t.nodes=[]),!0!==t.returnsList&&!1!==t.returnsList&&(t.returnsList=!0),t.parameters&&t.parameters instanceof Array||(t.parameters=[]),t.connections&&t.connections instanceof Array||(t.connections=[]),ndbx.checkNodes(t),ndbx.checkParameters(t),"string"==typeof t.renderedNode&&ndbx.findNode(t,t.renderedNode)||delete t.renderedNode},ndbx.checkNode=function(t){"number"!=typeof t.x&&(t.x=Math.floor(200*Math.random())),"number"!=typeof t.y&&(t.y=Math.floor(200*Math.random())),t.values&&t.values.constructor!==Object&&delete t.values,"string"!=typeof t.fn&&delete t.fn},ndbx.rejectInvalidObjects=function(t){var e,n,r=[];for(e=0;e<t.length;e+=1)!(n=t[e])||n&&n.constructor!==Object||r.push(n);return r},ndbx.cleanupNames=function(t){function e(t,e){t.name&&(e.indexOf(t.name)>=0?t.name="":e.push(t.name))}!function(t){for(var e,n=0;n<t.length;n+=1)"string"==typeof(e=t[n]).name&&ndbx.isValidFunctionName(e.name)||(e.name="")}(t);var n,r=[];for(n=0;n<t.length;n+=1)e(t[n],r);return r},ndbx._newName=function(t,e,n,r){for(var i;;){if(i=e+n,-1===r.indexOf(i)){t.name=i,r.push(i);break}n+=1}},ndbx.checkNodes=function(t){for(var e,n,r=ndbx.rejectInvalidObjects(t.nodes),i=ndbx.cleanupNames(r),o=0;o<r.length;o+=1)(e=r[o]).name||(n=ndbx.isValidFullName(e.fn)?ndbx.baseName(e.fn):"unknown",ndbx._newName(e,n,1,i)),ndbx.checkNode(e);t.nodes=r},ndbx.checkParameter=function(){},ndbx.checkParameters=function(t){for(var e,n=ndbx.rejectInvalidObjects(t.parameters),r=ndbx.cleanupNames(n),i=0;i<n.length;i+=1)(e=n[i]).name||ndbx._newName(e,"p",1,r),ndbx.checkParameter(e);t.parameters=n},ndbx.checkConnections=function(t,e){console.log("checkConnections");var n,r,i,o=[];for(n=0;n<e.connections.length;n+=1)r=e.connections[n],(i=ndbx.findNode(e,r.input))&&-1!==ndbx.findParameterIndex(t,i,r.parameter)&&(r.inlet&&-1===ndbx.findInletIndex(e,r.inlet)||r.output&&!ndbx.findNode(e,r.output)||o.push(r));e.connections=o},ndbx.checkProjectConnectionsIntegrity=function(t){for(var e=t.project,n=0;n<e.functions.length;n+=1){var r=e.functions[n];"network"===r.type&&ndbx.checkConnections(r)}},ndbx.maxListSize=function(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n].length;e=i>e?i:e}return e},ndbx.applyJSFunction=function(t,e){return"function"==typeof t?t.apply(null,e):t.onFrame.apply(null,e)},ndbx.resultCache={},ndbx.cacheId=1,ndbx.makeCacheId=function(){var t=ndbx.cacheId;return ndbx.cacheId+=1,t},ndbx.applyAndCache=function(t,e){var n,r,i;return t._id||(t._id=ndbx.makeCacheId()),r=JSON.stringify(e),(n=ndbx.resultCache[t._id])||(n={},ndbx.resultCache[t._id]=n),n.hasOwnProperty(r)?i=n[r]:(i=ndbx.applyJSFunction(t,e),n[r]=i),i},ndbx.networkEvaluationOrder=function(t,e,n){e=ndbx.findNode(t,e),console.assert(e,"node "+e+" not found."),n=n||new Set;for(var r=ndbx.findConnectionsByInput(t,e),i=0;i<r.length;i++){if(!r[i].inlet){var o=ndbx.findNode(t,r[i].output);ndbx.networkEvaluationOrder(t,o,n)}}return n.add(e),Array.from(n.values())},ndbx._networkEvaluationClusters=function(t,e,n,r,i){r||(r=[]),i||(i=0),n=ndbx.findNode(e,n);var o=!!ndbx.findFunction(t,n.fn).async;if(!r[i]||-1===r[i].nodes.indexOf(n)){for(var a=ndbx.findConnectionsByInput(e,n),s=0;s<a.length;s+=1){if(!a[s].inlet){var u=ndbx.findNode(e,a[s].output),l=!!ndbx.findFunction(t,u.fn).async===o?i:i+1;ndbx._networkEvaluationClusters(t,e,u,r,l)}}r[i]?r[i].nodes.push(n):r[i]={nodes:[n],async:o}}return r},ndbx._networkEvaluationClustersOrdered=function(t,e,n){var r=ndbx._networkEvaluationClusters(t,e,n);r.reverse();for(var i=[],o=0;o<r.length;o+=1){for(var a=r[o],s=a.nodes,u=o+2;u<r.length;u+=2)for(var l=r[u].nodes,f=0;f<s.length;f+=1){var c=l.indexOf(s[f]);-1!==c&&l.splice(c,1)}if(a.async)for(var h=0;h<s.length;h+=1)i.push({node:s[h],async:!0});else i.push(a)}return i},ndbx.findFunction=function(t,e){var n=ndbx.namespace(e),r=ndbx.baseName(e);if(t.project.id===n)return t.project.functions.find(function(t){return t.name===r});var i=t.dependencies.find(function(t){return t.id===n});return i?i.functions.find(function(t){return t.name===r}):void 0},ndbx.lookupJSFunction=function(t){var e=ndbx.namespace(t),n=ndbx.baseName(t),r=globalNamespace[e];if(!r)return console.warn('Function namespace "'+e+" not found."),null;var i=r[n];return i||(console.warn('Function "'+t+'" not found.'),null)},ndbx.cycleMap=function(t,e,n,r,i){var o=[],a=void 0===i;i=void 0!==i?i:1;var s=r.length,u=[],l=!1,f=e.parameters;u.length=s;for(var c=0;c<s;c++){var h=r[c],p=f[c];if(Array.isArray(h)&&!p.takesList){var d=h.length;if(0===d)return[];"shape"===p.type&&void 0!==h[0].x&&void 0!==h[0].y?u[c]=0:(u[c]=d,a&&(i=Math.max(i,d)))}else u[c]=0}o.length=i;for(var m=0;m<i;m++){var v=[];v.length=s;for(var y=0;y<s;y++){var g=r[y],b=u[y];v[y]=0===b?g:g[m%b],ndbx.isPromise(g)&&(l=!0)}var x=void 0;if(x=l?Promise.all(v).then(function(t){return ndbx.applyJSFunction(n,t)}):ndbx.applyJSFunction(n,v),e.async&&!ndbx.isPromise(x))throw new Error("Node "+t.name+" is asynchronous but no Promise object was returned.");if(!e.async&&ndbx.isPromise(x))throw new Error("Node "+t.name+" returned a Promise, but the async flag was not set.");o[m]=x}return o},ndbx._evaluateNode=function(t,e,n,r,i){var o=ndbx.findFunction(t,n.fn);if(!o)throw new Error("Could not render "+n.name+": function "+n.fn+" not found.");for(var a=[],s=o.parameters.length,u=0;u<s;u++){var l=o.parameters[u],f=void 0,c=ndbx.findConnectionByInput(e,n,l.name);if(c)if(c.inlet){var h=ndbx.findInletIndex(e,c.inlet);f=r&&void 0!==r[h]?r[h]:e.parameters[h].value}else f=i[c.output];else f=ndbx.getValue(t,e,n,l);a.push(f)}var p=ndbx.lookupJSFunction(n.fn);if(!p)return Promise.reject(new Error("Cannot evaluate network: function "+n.fn+" does not exist."));var d=void 0;if(0===a.length)d=ndbx.applyJSFunction(p);else{console.assert(a.length===s);var m=void 0;if(n.masterList){var v=ndbx.findParameterIndex(t,n,n.masterList);if(v>=0){var y=o.parameters[v],g=a[v];m=Array.isArray(g)&&!y.takesList?g.length:1}}if(d=ndbx.cycleMap(n,o,p,a,m),"shape"===o.outputType&&!o.returnsList&&Array.isArray(d)&&void 0!==d[0]&&Array.isArray(d[0])){var b=d[0][0];void 0!==b&&void 0!==b.x&&void 0!==b.y&&(d=d[0])}}return d},ndbx.combineResults=function(t,e,n){return ndbx.findFunction(t,e.fn).returnsList&&(n=ndbx.combineLists(n)),n},ndbx.evaluateClusterSync=function(t,e,n,r){return function(i){for(var o=0;o<n.length;o+=1){var a=n[o],s=ndbx._evaluateNode(t,e,a,r,i);i[a.name]=ndbx.combineResults(t,a,s)}return i}},ndbx.evaluateNodeAsync=function(t,e,n,r){return function(i){return Promise.resolve(ndbx._evaluateNode(t,e,n,r,i)).then(function(t){return Promise.all(t)}).then(function(e){return i[n.name]=ndbx.combineResults(t,n,e),i})}},ndbx.evaluateNode=function(t,e,n,r){n=ndbx.findNode(e,n);var i=ndbx._networkEvaluationClustersOrdered(t,e,n);if(i.find(function(t){return t.async}))return i.map(function(n){return n.async?ndbx.evaluateNodeAsync(t,e,n.node,r):ndbx.evaluateClusterSync(t,e,n.nodes,r)}).reduce(function(t,e){return t.then(e)},Promise.resolve({})).then(function(t){return t[n.name]});var o={};return ndbx.evaluateClusterSync(t,e,i[0].nodes,r)(o),o[n.name]},ndbx.evaluateNetwork=function(t,e,n){var r=ndbx.findNode(e,e.renderedNode);return r?ndbx.evaluateNode(t,e,r,n):Promise.resolve([])},ndbx.compileNetwork=function(t,e){return function(){return ndbx.evaluateNetwork(t,e,arguments)}},ndbx.httpRequest=function(t,e,n){"function"==typeof arguments[1]&&(e={},n=arguments[1]);var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e.responseType||"text",r.onload=function(){200===r.status?n(null,r.response):n(r.status+": "+r.statusText)},r.onerror=function(){n("Error loading "+t)},r.send()},ndbx.checkFunctionPrototypes=function(t,e){if("network"===e.type)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];ndbx.findFunction(t,r.fn)||(t.warnings=t.warnings||[],t.warnings.push("Node "+r.name+": function "+r.fn+" no longer exists. It was probably renamed internally."))}},ndbx.loadCode=function(source){var err=null;try{if(""===source)throw new Error("No source code.");"browser"===runtime?eval(source):vm.runInContext(""+source,globalNamespace)}catch(t){err=t}return err},ndbx.loadNetwork=function(t,e,n){return ndbx.ensureNamespace(e.id)[n.name]=ndbx.compileNetwork(t,n),null},ndbx.loadFunction=function(t,e,n){var r=null;return"code"===n.type?(ndbx.ensureNamespace(e.id),r=ndbx.loadCode(n.source)):"network"===n.type&&(r=ndbx.loadNetwork(t,e,n)),r},ndbx.checkIfFunctionExists=function(t,e){"network"===e.type&&e.nodes.forEach(function(t){try{ndbx.lookupJSFunction(t.fn)}catch(n){var e=t._error||"";t._error=e+" "+n.message}})},ndbx.loadDependency=function(t,e,n){return ndbx.loadProject(t,e,n).then(function(t){return t.project.functions.forEach(function(t){t.locked=!0}),t})},ndbx.loadRelease=function(t,e){return fetch(ndbx.origin+"/api/releases/"+t+"/"+e,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw new Error("Could not load release: "+t.statusText);return t.json()})};var TEXT_BASED_FILE_EXTENSIONS={".csv":!0,".html":!0,".ini":!0,".js":!0,".json":!0,".geojson":!0,".log":!0,".md":!0,".rtf":!0,".svg":!0,".txt":!0,".tsv":!0,".xhtml":!0,".xml":!0,".yaml":!0};function Player(t,e,n,r){if(this.plan=t,this.project=t.project,this.functionId=e,this.fn=ndbx.findFunction(this.plan,this.functionId),!this.fn)throw new Error("Cannot play this project: function "+this.functionId+" not found.");this.elementId=n,this.animating=!1,this.ndbx=ndbx,this.g=g,r=r||{},this.setWidthHeight=r.setWidthHeight||!1;var i=document.getElementById(this.elementId);if(console.assert(i),i.addEventListener("mousemove",this._onMouseMove),this.setWidthHeight){var o=i.getBoundingClientRect();i.width=o.width,i.height=o.height}}ndbx.assetsOrigin=ndbx.origin+"/api/assets/",ndbx.assetUrl=function(t,e,n){return config.BUILTIN_USERS[t]?"/api/assets/"+t+"/"+e+"/"+n:ndbx.assetsOrigin.indexOf("s3.amazonaws.com")>=0?ndbx.assetsOrigin+t+"/"+e+"/blobs/"+n:ndbx.assetsOrigin+t+"/"+e+"/"+n},ndbx.loadAsset=function(t,e,n){var r,i,o=n.fileName;"hash"===n.type?r=ndbx.assetUrl(t,e.id,n.hash):"url"===n.type&&(r=n.url);var a=ndbx.fileExtension(o).toLowerCase();return".jpg"===a||".png"===a?new Promise(function(t){(i=new Image).crossOrigin="Anonymous",i.src=r,i.onload=function(){ndbx.assets[o]=i,t(i)}}):".js"===a?new Promise(function(t){var e=document.createElement("script");e.type="text/javascript",e.src=r,e.onload=function(){ndbx.assets[o]=e,t(e)},document.head.appendChild(e)}):fetch(r,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw new Error("Could not load asset: "+t.statusText);return a in TEXT_BASED_FILE_EXTENSIONS?t.text():t.arrayBuffer?t.arrayBuffer():t.buffer?t.buffer():void 0}).then(function(t){return ndbx.assets[o]=t,t}).catch(function(t){throw console.error(t),delete e.assets[o],new Error(t)})},ndbx.loadDefaultFont=function(){return fetch(ndbx.origin+"/static/fonts/FiraSans-Regular.woff").then(function(t){if(!t.ok)throw new Error(t.statusText);return t.arrayBuffer?t.arrayBuffer():t.buffer?t.buffer():void 0}).then(function(t){ndbx.assets["default-font"]=t}).catch(function(t){throw new Error("Could not load default font."+t.stack)})},ndbx.loadDefaultAssets=function(){function t(t,e){return ndbx.loadAsset("core","g",{fileName:t,type:"url",url:ndbx.origin+"/static/assets/"+e+"/"+t})}return Promise.all([t("people.csv","csv"),t("logo.svg","svg")])},ndbx._convertProjectFunctions=function(t){for(var e=0;e<t.functions.length;e+=1){var n=t.functions[e],r=/^(.*)\.(.*)$/.exec(n.name);if(r){if(r[1]!==t.id)throw new Error("Function "+n.name+": namespace is not same as projectId.");n.name=r[2]}}},ndbx.loadDependencies=function(t){var e=Object.keys(t.dependencies).map(function(e){var n=e.split("/"),r=n[0],i=n[1],o=t.dependencies[e];return ndbx.loadDependency(r,i,o)});return Promise.all(e)},ndbx.loadAssets=function(t,e){if(!e.assets)return Promise.resolve([]);var n=Object.keys(e.assets).map(function(n){var r=e.assets[n];return ndbx.loadAsset(t,e,{fileName:n,type:"hash",hash:r})});return Promise.all(n)},ndbx.loadProject=function(t,e,n){var r=ndbx.origin+"/api/projects/"+t+"/"+e+"/"+n;return fetch(r,{credentials:"same-origin"}).then(function(r){if(!r.ok)throw new Error("Error loading project '"+t+"/"+e+"/"+n+"': "+r.statusText);return r.json()}).then(function(n){void 0===n.id&&(n.id=e),ndbx._convertProjectFunctions(n);var r=ndbx.loadDependencies(n),i=ndbx.loadAssets(t,n);return Promise.all([r,i]).then(function(t){var e=t[0],r=t[1],i=e.map(function(t){return t.project});e.forEach(function(t){r.push.apply(r,t.assets)});var o={project:n,dependencies:i,assets:r};return n.functions.forEach(function(t){return ndbx.checkFunctionPrototypes(o,t)}),n.functions.forEach(function(t){return ndbx.loadFunction(o,n,t)}),n.functions.forEach(function(t){return ndbx.checkIfFunctionExists(n,t)}),o})})},ndbx.loadMainProject=function(t,e){return Promise.all([ndbx.loadDefaultFont(),ndbx.loadDefaultAssets()]).then(function(){return ndbx.loadProject(t,e,"dev")})},ndbx.saveProject=function(t,e,n,r){var i=(r=r||{}).metadata||!1,o=ndbx.origin+"/api/projects/"+t+"/"+e;return i&&(o+="?metadata=true"),fetch(o,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(n,null,4)}).then(function(t){if(!t.ok)throw new Error(t.statusText)}).catch(function(t){throw new Error("Could not save: "+t)})},ndbx.evalFunction=function(t,e){var n,r;if(!(n=ndbx.findFunction(t,e)))return Promise.reject("Function "+e+" not found.");if(!(r=ndbx.lookupJSFunction(e)))return Promise.reject("JavaScript function "+e+" not found.");var i=[];i.length=n.parameters.length;for(var o=0;o<n.parameters.length;o+=1)i[o]=n.parameters[o].value;var a=void 0;try{a=ndbx.applyJSFunction(r,i)}catch(t){return Promise.reject(t)}return a instanceof Promise||(a=Promise.resolve(a)),a},Player.prototype._draw=function(){var t=this;ndbx.evalFunction(this.plan,this.functionId).then(function(e){if(g.isDrawable(e)){var n=document.getElementById(t.elementId);if("canvas"!==n.localName)throw new Error("The canvasId option should point to a <canvas> tag ("+t.elementId+")");var r=n.getContext("2d");r.setTransform(1,0,0,1,0,0),void 0===t.fn.background||"transparent"===t.fn.background?r.clearRect(0,0,n.width,n.height):"none"!==t.fn.background&&(r.fillStyle=t.fn.background,r.fillRect(0,0,n.width,n.height)),r.translate(n.width/2,n.height/2),g.draw(r,e),t.animating&&(ndbx._currentFrame+=1,window.requestAnimationFrame(t._draw.bind(t),null))}else if("object"===(void 0===e?"undefined":_typeof(e))&&void 0!==e.nodeName||Array.isArray(e)&&e.length>0&&"object"===_typeof(e[0])&&void 0!==e[0].nodeName){var i=document.getElementById(t.elementId);if(!i)throw new Error('The element with ID "'+t.elementId+'" does not exist in the document.');var o=i.querySelector(".ndbx-render-root");preact.render(preact.h("div",{class:"ndbx-render-root"},e),i,o)}else console.log(e)}).catch(function(t){console.log(t)})},Player.prototype.draw=function(){this.animating||(ndbx.resetTime(),this._draw())},Player.prototype.start=function(){this.animating||(ndbx.resetTime(),ndbx.startPlaying(this.plan,this.functionId),this.animating=!0,this._draw())},Player.prototype.stop=function(){this.animating=!1,ndbx.clearState(),ndbx.resetTime(),ndbx.stopPlaying(this.plan,this.functionId)},Player.prototype.pause=function(){this.animating=!this.animating,this.animating&&window.requestAnimationFrame(this._draw.bind(this),null)},Player.prototype.setValue=function(t,e,n){var r=ndbx.findFunction(this.plan,this.functionId);r?ndbx.setValue(this.plan,r,t,e,n):console.warn("setValue: could not find function "+this.functionId+".")},Player.prototype.setFunctionId=function(t){this.functionId=this.project.id+"."+t},Player.prototype._onMouseMove=function(t){var e=this.getBoundingClientRect(),n=t.pageX-e.left,r=t.pageY-e.top;ndbx._mousePosition={x:n-this.width/2,y:r-this.height/2}},ndbx.embed=function(t,e){var n=t.userId,r=t.projectId,i=r+"."+(t.functionId||"main"),o=t.canvasId||t.elementId,a=t.autoplay;return window.g||(window.g=__webpack_require__(22)),window.opentype||(window.opentype=__webpack_require__(58)),window.preact||(window.preact=preact),window.d3||(window.d3={},window.d3.geoMercator=geoMercator),window._||(window._=_),Promise.all([ndbx.loadProject(n,r,"dev"),ndbx.loadDefaultFont()]).then(function(n){var r=n[0];ndbx.clearState();var s=new Player(r,i,o,t);return a?s.start():s._draw(),e&&e(null,s),s})},module.exports=ndbx},function(t,e,n){"use strict";var r=n(43);function i(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}i.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})},i.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})},i.prototype.curveTo=i.prototype.bezierCurveTo=function(t,e,n,r,i,o){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:i,y:o})},i.prototype.quadTo=i.prototype.quadraticCurveTo=function(t,e,n,r){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})},i.prototype.close=i.prototype.closePath=function(){this.commands.push({type:"Z"})},i.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof r.BoundingBox){var e=t;return this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),void this.close()}Array.prototype.push.apply(this.commands,t)},i.prototype.getBoundingBox=function(){for(var t=new r.BoundingBox,e=0,n=0,i=0,o=0,a=0;a<this.commands.length;a++){var s=this.commands[a];switch(s.type){case"M":t.addPoint(s.x,s.y),e=i=s.x,n=o=s.y;break;case"L":t.addPoint(s.x,s.y),i=s.x,o=s.y;break;case"Q":t.addQuad(i,o,s.x1,s.y1,s.x,s.y),i=s.x,o=s.y;break;case"C":t.addBezier(i,o,s.x1,s.y1,s.x2,s.y2,s.x,s.y),i=s.x,o=s.y;break;case"Z":i=e,o=n;break;default:throw new Error("Unexpected path commmand "+s.type)}}return t.isEmpty()&&t.addPoint(0,0),t},i.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];"M"===n.type?t.moveTo(n.x,n.y):"L"===n.type?t.lineTo(n.x,n.y):"C"===n.type?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())},i.prototype.toPathData=function(t){function e(e){return Math.round(e)===e?""+Math.round(e):e.toFixed(t)}function n(){for(var t="",n=0;n<arguments.length;n+=1){var r=arguments[n];r>=0&&n>0&&(t+=" "),t+=e(r)}return t}t=void 0!==t?t:2;for(var r="",i=0;i<this.commands.length;i+=1){var o=this.commands[i];"M"===o.type?r+="M"+n(o.x,o.y):"L"===o.type?r+="L"+n(o.x,o.y):"C"===o.type?r+="C"+n(o.x1,o.y1,o.x2,o.y2,o.x,o.y):"Q"===o.type?r+="Q"+n(o.x1,o.y1,o.x,o.y):"Z"===o.type&&(r+="Z")}return r},i.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&"black"!==this.fill&&(null===this.fill?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>"},i.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n},e.Path=i},function(t,e,n){"use strict";var r=n(20),i=n(7),o=n(18),a=n(9),s=n(4),u=r.MOVETO,l=r.LINETO,f=r.QUADTO,c=r.CURVETO,h=r.CLOSE,p=function(t){this.m=void 0!==t?t:[1,0,0,1,0,0]};p.IDENTITY=new p,p.identity=function(){return new p},p._mmult=function(t,e){return void 0!==t.m&&(t=t.m),void 0!==e.m&&(e=e.m),new p([t[0]*e[0]+t[1]*e[2],t[0]*e[1]+t[1]*e[3],t[2]*e[0]+t[3]*e[2],t[2]*e[1]+t[3]*e[3],t[4]*e[0]+t[5]*e[2]+e[4],t[4]*e[1]+t[5]*e[3]+e[5]])},p.prototype.isIdentity=function(){var t=this.m;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},p.prototype.prepend=function(t){return p._mmult(this.m,t.m)},p.prototype.append=function(t){return p._mmult(t.m,this.m)},p.prototype.inverse=function(){var t=this.m,e=t[0]*t[3]-t[1]*t[2];return new p([t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[3]*t[4])/e,-(t[0]*t[5]-t[1]*t[4])/e])},p.prototype.scale=function(t,e){return void 0===e&&(e=t),p._mmult([t,0,0,e,0,0],this.m)},p.prototype.translate=function(t,e){return p._mmult([1,0,0,1,t,e],this.m)},p.prototype.rotate=function(t){var e=Math.cos(i.radians(t)),n=Math.sin(i.radians(t));return p._mmult([e,n,-n,e,0,0],this.m)},p.prototype.skew=function(t,e){var n=Math.PI*t/180,r=Math.PI*e/180;return p._mmult([1,Math.tan(r),-Math.tan(n),1,0,0],this.m)},p.prototype.transformPoint=function(t){var e=t.x,n=t.y,r=this.m;return new s(e*r[0]+n*r[2]+r[4],e*r[1]+n*r[3]+r[5])},p.prototype.transformPoints=function(t){for(var e=[],n=0;n<t.length;n+=1)e.push(this.transformPoint(t[n]));return e},p.prototype.transformPath=function(t){var e=this.m,n=[];n.length=t.commands.length;for(var r=0,i=t.commands.length;r<i;r++){var o=t.commands[r];switch(o.type){case u:case l:n[r]={type:o.type,x:o.x*e[0]+o.y*e[2]+e[4],y:o.x*e[1]+o.y*e[3]+e[5]};break;case f:n[r]={type:f,x:o.x*e[0]+o.y*e[2]+e[4],y:o.x*e[1]+o.y*e[3]+e[5],x1:o.x1*e[0]+o.y1*e[2]+e[4],y1:o.x1*e[1]+o.y1*e[3]+e[5]};break;case c:n[r]={type:c,x:o.x*e[0]+o.y*e[2]+e[4],y:o.x*e[1]+o.y*e[3]+e[5],x1:o.x1*e[0]+o.y1*e[2]+e[4],y1:o.x1*e[1]+o.y1*e[3]+e[5],x2:o.x2*e[0]+o.y2*e[2]+e[4],y2:o.x2*e[1]+o.y2*e[3]+e[5]};break;case h:n[r]={type:h};break;default:throw new Error("Unknown command type "+o)}}return new a(n,t.fill,t.stroke,t.strokeWidth)},p.prototype.transformText=function(t){var e=t.clone();return e.transform=this.append(e.transform),e},p.prototype.transformGroup=function(t){for(var e=[],n=0;n<t.shapes.length;n+=1)e.push(this.transformShape(t.shapes[n]));return new o(e)},p.prototype.transformShape=function(t){var e;if(t.shapes)e=this.transformGroup;else if(t.commands)e=this.transformPath;else if(t.text)e=this.transformText;else if(void 0!==t.x&&void 0!==t.y)e=this.transformPoint;else{if(void 0!==t._transform)return t._transform(this.m);if(!(Array.isArray(t)&&t.length>0))throw new Error("Don't know how to transform "+t);if(void 0===t[0].x||void 0===t[0].y){for(var n=[],r=0;r<t.length;r+=1)n.push(this.transformShape(t[r]));return n}e=this.transformPoints}return e.call(this,t)},t.exports=p},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=n(1),i={},o={},a={};function s(t){return function(){return t}}o.BYTE=function(t){return r.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]},a.BYTE=s(1),o.CHAR=function(t){return[t.charCodeAt(0)]},a.CHAR=s(1),o.CHARARRAY=function(t){for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e},a.CHARARRAY=function(t){return t.length},o.USHORT=function(t){return[t>>8&255,255&t]},a.USHORT=s(2),o.SHORT=function(t){return t>=32768&&(t=-(65536-t)),[t>>8&255,255&t]},a.SHORT=s(2),o.UINT24=function(t){return[t>>16&255,t>>8&255,255&t]},a.UINT24=s(3),o.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]},a.ULONG=s(4),o.LONG=function(t){return t>=2147483648&&(t=-(4294967296-t)),[t>>24&255,t>>16&255,t>>8&255,255&t]},a.LONG=s(4),o.FIXED=o.ULONG,a.FIXED=a.ULONG,o.FWORD=o.SHORT,a.FWORD=a.SHORT,o.UFWORD=o.USHORT,a.UFWORD=a.USHORT,o.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,255&t]},a.LONGDATETIME=s(8),o.TAG=function(t){return r.argument(4===t.length,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]},a.TAG=s(4),o.Card8=o.BYTE,a.Card8=a.BYTE,o.Card16=o.USHORT,a.Card16=a.USHORT,o.OffSize=o.BYTE,a.OffSize=a.BYTE,o.SID=o.USHORT,a.SID=a.USHORT,o.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?[247+((t-=108)>>8),255&t]:t>=-1131&&t<=-108?[251+((t=-t-108)>>8),255&t]:t>=-32768&&t<=32767?o.NUMBER16(t):o.NUMBER32(t)},a.NUMBER=function(t){return o.NUMBER(t).length},o.NUMBER16=function(t){return[28,t>>8&255,255&t]},a.NUMBER16=s(3),o.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,255&t]},a.NUMBER32=s(5),o.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString()}var i,o,a="";for(i=0,o=e.length;i<o;i+=1){var s=e[i];a+="e"===s?"-"===e[++i]?"c":"b":"."===s?"a":"-"===s?"e":s}var u=[30];for(i=0,o=(a+=1&a.length?"f":"ff").length;i<o;i+=2)u.push(parseInt(a.substr(i,2),16));return u},a.REAL=function(t){return o.REAL(t).length},o.NAME=o.CHARARRAY,a.NAME=a.CHARARRAY,o.STRING=o.CHARARRAY,a.STRING=a.CHARARRAY,i.UTF8=function(t,e,n){for(var r=[],i=n,o=0;o<i;o++,e+=1)r[o]=t.getUint8(e);return String.fromCharCode.apply(null,r)},i.UTF16=function(t,e,n){for(var r=[],i=n/2,o=0;o<i;o++,e+=2)r[o]=t.getUint16(e);return String.fromCharCode.apply(null,r)},o.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e[e.length]=r>>8&255,e[e.length]=255&r}return e},a.UTF16=function(t){return 2*t.length};var u={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};i.MACSTRING=function(t,e,n,r){var i=u[r];if(void 0!==i){for(var o="",a=0;a<n;a++){var s=t.getUint8(e+a);o+=s<=127?String.fromCharCode(s):i[127&s]}return o}};var l,f="function"==typeof WeakMap&&new WeakMap;o.MACSTRING=function(t,e){var n=function(t){if(!l)for(var e in l={},u)l[e]=new String(e);var n=l[t];if(void 0!==n){if(f){var r=f.get(n);if(void 0!==r)return r}var i=u[t];if(void 0!==i){for(var o={},a=0;a<i.length;a++)o[i.charCodeAt(a)]=a+128;return f&&f.set(n,o),o}}}(e);if(void 0!==n){for(var r=[],i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=128&&void 0===(o=n[o]))return;r[i]=o}return r}},a.MACSTRING=function(t,e){var n=o.MACSTRING(t,e);return void 0!==n?n.length:0},o.INDEX=function(t){var e,n=1,r=[n],i=[];for(e=0;e<t.length;e+=1){var a=o.OBJECT(t[e]);Array.prototype.push.apply(i,a),n+=a.length,r.push(n)}if(0===i.length)return[0,0];var s=[],u=1+Math.floor(Math.log(n)/Math.log(2))/8|0,l=[void 0,o.BYTE,o.USHORT,o.UINT24,o.ULONG][u];for(e=0;e<r.length;e+=1){var f=l(r[e]);Array.prototype.push.apply(s,f)}return Array.prototype.concat(o.Card16(t.length),o.OffSize(u),s,i)},a.INDEX=function(t){return o.INDEX(t).length},o.DICT=function(t){for(var e=[],n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=parseInt(n[i],0),s=t[a];e=(e=e.concat(o.OPERAND(s.value,s.type))).concat(o.OPERATOR(a))}return e},a.DICT=function(t){return o.DICT(t).length},o.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]},o.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var i=0;i<e.length;i+=1)r.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(o.OPERAND(t[i],e[i]));else if("SID"===e)n=n.concat(o.NUMBER(t));else if("offset"===e)n=n.concat(o.NUMBER32(t));else if("number"===e)n=n.concat(o.NUMBER(t));else{if("real"!==e)throw new Error("Unknown operand type "+e);n=n.concat(o.REAL(t))}return n},o.OP=o.BYTE,a.OP=a.BYTE;var c="function"==typeof WeakMap&&new WeakMap;o.CHARSTRING=function(t){if(c){var e=c.get(t);if(void 0!==e)return e}for(var n=[],r=t.length,i=0;i<r;i+=1){var a=t[i];n=n.concat(o[a.type](a.value))}return c&&c.set(t,n),n},a.CHARSTRING=function(t){return o.CHARSTRING(t).length},o.OBJECT=function(t){var e=o[t.type];return r.argument(void 0!==e,"No encoding function for type "+t.type),e(t.value)},a.OBJECT=function(t){var e=a[t.type];return r.argument(void 0!==e,"No sizeOf function for type "+t.type),e(t.value)},o.TABLE=function(t){var e,n=[],i=t.fields.length,a=[],s=[];for(e=0;e<i;e+=1){var u=t.fields[e],l=o[u.type];r.argument(void 0!==l,"No encoding function for field type "+u.type+" ("+u.name+")");var f=t[u.name];void 0===f&&(f=u.value);var c=l(f);"TABLE"===u.type?(s.push(n.length),n=n.concat([0,0]),a.push(c)):n=n.concat(c)}for(e=0;e<a.length;e+=1){var h=s[e],p=n.length;r.argument(p<65536,"Table "+t.tableName+" too big."),n[h]=p>>8,n[h+1]=255&p,n=n.concat(a[e])}return n},a.TABLE=function(t){for(var e=0,n=t.fields.length,i=0;i<n;i+=1){var o=t.fields[i],s=a[o.type];r.argument(void 0!==s,"No sizeOf function for field type "+o.type+" ("+o.name+")");var u=t[o.name];void 0===u&&(u=o.value),e+=s(u),"TABLE"===o.type&&(e+=2)}return e},o.RECORD=o.TABLE,a.RECORD=a.TABLE,o.LITERAL=function(t){return t},a.LITERAL=function(t){return t.length},e.decode=i,e.encode=o,e.sizeOf=a},function(t,e,n){"use strict";function r(t){this.font=t}function i(t){this.cmap=t}function o(t,e){this.encoding=t,this.charset=e}function a(t){var n;switch(t.version){case 1:this.names=e.standardNames.slice();break;case 2:for(this.names=new Array(t.numberOfGlyphs),n=0;n<t.numberOfGlyphs;n++)t.glyphNameIndex[n]<e.standardNames.length?this.names[n]=e.standardNames[t.glyphNameIndex[n]]:this.names[n]=t.names[t.glyphNameIndex[n]-e.standardNames.length];break;case 2.5:for(this.names=new Array(t.numberOfGlyphs),n=0;n<t.numberOfGlyphs;n++)this.names[n]=e.standardNames[n+t.glyphNameIndex[n]];break;case 3:this.names=[]}}r.prototype.charToGlyphIndex=function(t){var e=t.charCodeAt(0),n=this.font.glyphs;if(!n)return null;for(var r=0;r<n.length;r+=1)for(var i=n.get(r),o=0;o<i.unicodes.length;o+=1)if(i.unicodes[o]===e)return r},i.prototype.charToGlyphIndex=function(t){return this.cmap.glyphIndexMap[t.charCodeAt(0)]||0},o.prototype.charToGlyphIndex=function(t){var e=t.charCodeAt(0),n=this.encoding[e];return this.charset.indexOf(n)},a.prototype.nameToGlyphIndex=function(t){return this.names.indexOf(t)},a.prototype.glyphIndexToName=function(t){return this.names[t]},e.cffStandardStrings=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],e.cffStandardEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],e.cffExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],e.standardNames=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"],e.DefaultEncoding=r,e.CmapEncoding=i,e.CffEncoding=o,e.GlyphNames=a,e.addGlyphNames=function(t){for(var e,n=t.tables.cmap.glyphIndexMap,r=Object.keys(n),i=0;i<r.length;i+=1){var o=r[i],a=n[o];(e=t.glyphs.get(a)).addUnicode(parseInt(o))}for(i=0;i<t.glyphs.length;i+=1)e=t.glyphs.get(i),t.cffEncoding?e.name=t.cffEncoding.charset[i]:t.glyphNames.names&&(e.name=t.glyphNames.glyphIndexToName(i))}},function(t,e,n){"use strict";var r=n(9),i=n(10),o=n(6),a=function(t){t?t.shapes||t.commands?this.shapes=[t]:t&&(this.shapes=t):this.shapes=[]};a.prototype.add=function(t){this.shapes.push(t)},a.prototype.clone=function(){var t,e=[],n=this.shapes.length;for(e.length=n,t=0;t<n;t+=1)e[t]=this.shapes[t].clone();return new a(e)},a.prototype.colorize=function(t){var e=arguments;("object"!=typeof t||t instanceof o)&&(t={},void 0!==e[0]&&(t.fill=e[0]),void 0!==e[1]&&(t.stroke=e[1]),void 0!==e[2]&&(t.strokeWidth=e[2]));var n=[];n.length=this.shapes.length;for(var r=0;r<this.shapes.length;r+=1)n[r]=this.shapes[r].colorize(t);return new a(n)},a.prototype.desaturate=function(t){var e=[];e.length=this.shapes.length;for(var n=0;n<this.shapes.length;n+=1)e[n]=this.shapes[n].desaturate(t);return new a(e)},a.prototype.invert=function(){var t=[];t.length=this.shapes.length;for(var e=0;e<this.shapes.length;e+=1)t[e]=this.shapes[e].invert();return new a(t)},a.prototype.bounds=function(){if(0===this.shapes.length)return new i(0,0,0,0);var t,e,n,r=this.shapes;for(t=0;t<r.length;t+=1)n=r[t],void 0===e&&(e=n.bounds()),(n.shapes&&0!==n.shapes.length||n.commands&&0!==n.commands.length)&&(e=e.unite(n.bounds()));return void 0!==e?e:new i(0,0,0,0)},a.prototype.contains=function(t,e,n){void 0===n&&(n=100);var r,i=this.shapes;for(r=0;r<i.length;r+=1)if(i[r].contains(t,e,n))return!0;return!1},a.prototype.length=function(t){void 0===t&&(t=10);for(var e=0,n=this.shapes,r=0;r<n.length;r+=1)e+=n[r].length(t);return e},a.prototype.resampleByAmount=function(t,e){if(!e)return new r.combine(this).resampleByAmount(t,e);var n=[];n.length=this.shapes.length;for(var i=0;i<this.shapes.length;i+=1)n[i]=this.shapes[i].resampleByAmount(t,e);return new a(n)},a.prototype.resampleByLength=function(t){var e=[];e.length=this.shapes.length;for(var n=0;n<this.shapes.length;n+=1)e[n]=this.shapes[n].resampleByLength(t);return new a(e)},a.prototype.toSVG=function(){var t=[];t.length=this.shapes.length;for(var e=0;e<this.shapes.length;e+=1)t[e]=this.shapes[e].toSVG();return"<g>"+t.join("")+"</g>"},a.prototype.draw=function(t){var e,n=this.shapes,r=n.length;for(e=0;e<r;e+=1)n[e].draw(t)},t.exports=a},function(t,e,n){"use strict";var r=n(7),i=n(4),o={angle:function(t,e,n,i){return r.degrees(Math.atan2(i-e,n-t))},distance:function(t,e,n,r){return Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2))},coordinates:function(t,e,n,o){var a=t+Math.cos(r.radians(n))*o,s=e+Math.sin(r.radians(n))*o;return new i(a,s)},pointInPolygon:function(t,e,n){var r,i,o,a,s,u,l=!1,f=t.length;for(r=0;r<f;r+=1)i=r<f-1?r+1:0,o=t[r].x,a=t[r].y,s=t[i].x,u=t[i].y,(a<n&&u>=n||u<n&&a>=n)&&o+(n-a)/(u-a)*(s-o)<e&&(l=!l);return l}};t.exports=o},function(t,e,n){"use strict";var r=n(7),i=n(4),o=n(10),a={},s=a.MOVETO="M",u=a.LINETO="L";a.QUADTO="Q";var l=a.CURVETO="C",f=a.CLOSE="Z";function c(t,e){return Math.abs(t-e)<=1e-12*Math.min(Math.abs(t),Math.abs(e))}a.linePoint=function(t,e,n,r,i){return{type:u,x:e+t*(r-e),y:n+t*(i-n)}},a.lineLength=function(t,e,n,r){var i=Math.pow(Math.abs(t-n),2),o=Math.pow(Math.abs(e-r),2);return Math.sqrt(i+o)},a.curvePoint=function(t,e,n,r,i,o,a,s,u){var f=1-t,c=r*f+o*t,h=i*f+a*t,p=(e*f+r*t)*f+c*t,d=(n*f+i*t)*f+h*t,m=c*f+(o*f+s*t)*t,v=h*f+(a*f+u*t)*t;return{type:l,x1:p,y1:d,x2:m,y2:v,x:p*f+m*t,y:d*f+v*t}},a.curveLength=function(t,e,n,r,i,o,s,u,l){void 0===l&&(l=20);var f,c,h,p=0,d=t,m=e;for(f=0;f<l;f+=1)c=(f+1)/l,h=a.curvePoint(c,t,e,n,r,i,o,s,u),p+=Math.sqrt(Math.pow(Math.abs(d-h.x),2)+Math.pow(Math.abs(m-h.y),2)),d=h.x,m=h.y;return p},a.segmentLengths=function(t,e,n){var i,o,c,h,p,d,m,v,y,g;for(e=void 0!==e&&e,void 0===n&&(n=20),y=[],i=0;i<t.length;i+=1)c=(o=t[i]).type,0===i?(h=o.x,p=o.y):c===s?(h=o.x,p=o.y,y.push(0)):c===f?y.push(a.lineLength(d,m,h,p)):c===u?y.push(a.lineLength(d,m,o.x,o.y)):c===l&&y.push(a.curveLength(d,m,o.x1,o.y1,o.x2,o.y2,o.x,o.y,n)),c!==f&&(d=o.x,m=o.y);if(!0===e){if(v=r.sum(y),(g=[]).length=y.length,v>0)for(i=0;i<y.length;i+=1)g[i]=y[i]/v;else for(i=0;i<y.length;i+=1)g[i]=0;return g}return y},a.length=function(t,e){return e=e||20,r.sum(a.segmentLengths(t.commands,!1,e))},a._locate=function(t,e,n){var r,o,u;for(void 0===n&&(n=a.segmentLengths(t.commands,!0)),r=0;r<t.commands.length&&(o=t.commands[r],0!==r&&o.type!==s||(u=new i(o.x,o.y)),!(e<=n[r]||r===n.length-1));r+=1)e-=n[r];return 0!==n[r]&&(e/=n[r]),r===n.length-1&&0===n[r]&&(r-=1),[r,e,u]},a.point=function(t,e,n){var r,i,o,s,c,h;return i=(r=a._locate(t,e,n))[0],e=r[1],o=r[2],s=t.commands[i].x,c=t.commands[i].y,(h=t.commands[i+1]).type===u||h.type===f?h=h.type===f?a.linePoint(e,s,c,o.x,o.y):a.linePoint(e,s,c,h.x,h.y):h.type===l&&(h=a.curvePoint(e,s,c,h.x1,h.y1,h.x2,h.y2,h.x,h.y)),h},a.extrema=function(t,e,n,r,i,a,s,u){var l,f,h,p,d,m,v,y,g,b,x,w,_,P;function S(o){if(o>=0&&o<=1){var c=function(t,e,n,r,i,o,a,s,u){var l,f,c,h,p;return{x:(l=(p=function(t){var e,n,r,i;return i=(r=t*t)*t,[(n=(e=1-t)*e)*e,n*=3*t,r*=3*e,i]}(u))[0])*t+(f=p[1])*n+(c=p[2])*i+(h=p[3])*a,y:l*e+f*r+c*o+h*s}}(t,e,n,r,i,a,s,u,o);c.x<l?l=c.x:c.x>f&&(f=c.x),c.y<h?h=c.y:c.y>p&&(p=c.y)}}return t<s?(l=t,f=s):(l=s,f=t),e<u?(h=e,p=u):(h=u,p=e),m=6*(t-2*n+i),v=3*(-t+n),c((d=3*(3*n-t-3*i+s))+1,1)?c(m+1,1)||S(-v/m):(_=m*m-4*d*v)>=0&&(S((-m+(x=Math.sqrt(_)))*(w=1/(2*d))),S((-m-x)*w)),g=6*(e-2*r+a),b=3*(-e+r),c((y=3*(3*r-e-3*a+u))+1,1)?c(g+1,1)||S(-b/g):(P=g*g-4*y*b)>0&&(S((-g+(x=Math.sqrt(P)))*(w=1/(2*y))),S((-g-x)*w)),new o(l,h,f-l,p-h)},t.exports=a},function(t,e,n){"use strict";var r=n(106),i={};function o(t){for(var e in t)i[e]=t[e]}i.bezier=n(20),i.color=n(56),i.geo=n(19),i.math=n(7),i.random=n(55),i.svg=n(105),i.Color=n(6),i.Group=n(18),i.Matrix4=n(101),i.Path=n(9),i.Point=i.Vec2=n(4),i.Rect=n(10),i.Text=n(52),i.Transform=i.Matrix3=n(14),i.Vec3=n(53);var a=n(51);r(i.Point.prototype,a),r(i.Path.prototype,a),r(i.Group.prototype,a),r(i.Text.prototype,a),o(n(100)),o(n(99)),o(n(97)),t.exports=i},function(t,e,n){"use strict";var r=n(107),i=n(28),o=n(21),a=n(27),s={};function u(t){for(var e in t)s[e]=t[e]}for(var l in o)s[l]=o[l];for(var l in delete s.delete,a)s[l]=a[l];function f(t,e){var n,r,i=[],o="",a=!1;for(t=t.trim(),r=0;r<t.length;r+=1)'"'===(n=t[r])?'"'===t[r+1]?(o+='"',r+=1):a=!a:n===e?a?o+=n:(i.push(o),o=""):o+=n;return i.push(o),i}u(n(46)),u(n(90)),u(n(44)),u(n(88)),u(n(85)),u(n(84)),u(n(83)),s.importSVG=function(t){return s.svg.parseString(t)},s.importImage=function(t){var e=s.Layer.fromImage(t);return new s.Img(e.toCanvas())},s.importText=function(t){return t?String(t):""},s.importCSV=function(t,e){var n,i;if(e=e||",",!t)return null;i=f((n=t.split(/\r\n|\r|\n/g))[0],e),n=n.slice(1);for(var o,a,s,u,l,c=[],h=0;h<n.length;h+=1)if(o=n[h],!r(o)){for(a={},s=f(o,e),l=0;l<s.length;l+=1)u=s[l],a[i[l]]=isNaN(u)?u:parseFloat(u);c.push(a)}return c},s.merge=function(){var t=i(arguments);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n+=1)r(t[n])||e.push(t[n]);if(e.length>0){var s=e[0];if(s&&(s.commands||s.shapes||s.fontFamily))return o.merge(e);if(s instanceof a.Img)return a.merge(e)}}return null},s.mix=function(t,e,n){if(n=void 0!==n?n:.5,"number"==typeof t)return t*(1-n)+e*n;if(t instanceof s.Color&&e instanceof s.Color)return new s.Color(s.mix(t.r,e.r,n),s.mix(t.g,e.g,n),s.mix(t.b,e.b,n),s.mix(t.a,e.a,n));if("object"==typeof t){for(var r={},i=Object.keys(t),o=0,a=i.length;o<a;o+=1){var u=i[o],l=t[u],f=e[u];void 0!==l&&void 0!==f&&(r[u]=s.mix(l,f,n))}return r}return 0},t.exports=s},function(t,e,n){(function(t,r){var i;(function(){var o,a,s,u="3.10.1",l=1,f=2,c=4,h=8,p=16,d=32,m=64,v=128,y=256,g=30,b="...",x=150,w=16,_=200,P=1,S=2,C="Expected a function",E="__lodash_placeholder__",T="[object Arguments]",I="[object Array]",O="[object Boolean]",N="[object Date]",A="[object Error]",L="[object Function]",M="[object Number]",R="[object Object]",k="[object RegExp]",B="[object String]",D="[object ArrayBuffer]",U="[object Float32Array]",F="[object Float64Array]",X="[object Int8Array]",Y="[object Int16Array]",j="[object Int32Array]",W="[object Uint8Array]",H="[object Uint8ClampedArray]",z="[object Uint16Array]",q="[object Uint32Array]",G=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,Z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39|#96);/g,$=/[&<>"'`]/g,Q=RegExp(J.source),K=RegExp($.source),tt=/<%-([\s\S]+?)%>/g,et=/<%([\s\S]+?)%>/g,nt=/<%=([\s\S]+?)%>/g,rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,it=/^\w*$/,ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,at=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,st=RegExp(at.source),ut=/[\u0300-\u036f\ufe20-\ufe23]/g,lt=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ct=/\w*$/,ht=/^0[xX]/,pt=/^\[object .+?Constructor\]$/,dt=/^\d+$/,mt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,vt=/($^)/,yt=/['\n\r\u2028\u2029\\]/g,gt=(a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",s="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(a+"+(?="+a+s+")|"+a+"?"+s+"|"+a+"+|[0-9]+","g")),bt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],xt=-1,wt={};wt[U]=wt[F]=wt[X]=wt[Y]=wt[j]=wt[W]=wt[H]=wt[z]=wt[q]=!0,wt[T]=wt[I]=wt[D]=wt[O]=wt[N]=wt[A]=wt[L]=wt["[object Map]"]=wt[M]=wt[R]=wt[k]=wt["[object Set]"]=wt[B]=wt["[object WeakMap]"]=!1;var _t={};_t[T]=_t[I]=_t[D]=_t[O]=_t[N]=_t[U]=_t[F]=_t[X]=_t[Y]=_t[j]=_t[M]=_t[R]=_t[k]=_t[B]=_t[W]=_t[H]=_t[z]=_t[q]=!0,_t[A]=_t[L]=_t["[object Map]"]=_t["[object Set]"]=_t["[object WeakMap]"]=!1;var Pt={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},St={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ct={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Et={function:!0,object:!0},Tt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},It={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ot=Et[typeof e]&&e&&!e.nodeType&&e,Nt=Et[typeof t]&&t&&!t.nodeType&&t,At=Ot&&Nt&&"object"==typeof r&&r&&r.Object&&r,Lt=Et[typeof self]&&self&&self.Object&&self,Mt=Et[typeof window]&&window&&window.Object&&window,Rt=(Nt&&Nt.exports,At||Mt!==(this&&this.window)&&Mt||Lt||this);function kt(t,e){if(t!==e){var n=null===t,r=t===o,i=t==t,a=null===e,s=e===o,u=e==e;if(t>e&&!a||!i||n&&!s&&u||r&&u)return 1;if(t<e&&!n||!u||a&&!r&&i||s&&i)return-1}return 0}function Bt(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function Dt(t,e,n){if(e!=e)return Gt(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Ut(t){return"function"==typeof t||!1}function Ft(t){return null==t?"":t+""}function Xt(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function Yt(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function jt(t,e){return kt(t.criteria,e.criteria)||t.index-e.index}function Wt(t){return Pt[t]}function Ht(t){return St[t]}function zt(t,e,n){return e?t=Tt[t]:n&&(t=It[t]),"\\"+t}function qt(t){return"\\"+It[t]}function Gt(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!=o)return i}return-1}function Vt(t){return!!t&&"object"==typeof t}function Zt(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function Jt(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=E,o[++i]=n);return o}function $t(t){for(var e=-1,n=t.length;++e<n&&Zt(t.charCodeAt(e)););return e}function Qt(t){for(var e=t.length;e--&&Zt(t.charCodeAt(e)););return e}function Kt(t){return Ct[t]}var te=function t(e){var n=(e=e?te.defaults(Rt.Object(),e,te.pick(Rt,bt)):Rt).Array,r=e.Date,i=e.Error,a=e.Function,s=e.Math,Pt=e.Number,St=e.Object,Ct=e.RegExp,Et=e.String,Tt=e.TypeError,It=n.prototype,Ot=St.prototype,Nt=Et.prototype,At=a.prototype.toString,Lt=Ot.hasOwnProperty,Mt=0,Zt=Ot.toString,ee=Rt._,ne=Ct("^"+At.call(Lt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=e.ArrayBuffer,ie=e.clearTimeout,oe=e.parseFloat,ae=s.pow,se=Ot.propertyIsEnumerable,ue=gr(e,"Set"),le=e.setTimeout,fe=It.splice,ce=e.Uint8Array,he=gr(e,"WeakMap"),pe=s.ceil,de=gr(St,"create"),me=s.floor,ve=gr(n,"isArray"),ye=e.isFinite,ge=gr(St,"keys"),be=s.max,xe=s.min,we=gr(r,"now"),_e=e.parseInt,Pe=s.random,Se=Pt.NEGATIVE_INFINITY,Ce=Pt.POSITIVE_INFINITY,Ee=4294967295,Te=Ee-1,Ie=Ee>>>1,Oe=9007199254740991,Ne=he&&new he,Ae={};function Le(t){if(Vt(t)&&!qi(t)&&!(t instanceof ke)){if(t instanceof Re)return t;if(Lt.call(t,"__chain__")&&Lt.call(t,"__wrapped__"))return Br(t)}return new Re(t)}function Me(){}function Re(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}Le.support={};function ke(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ce,this.__views__=[]}function Be(){this.__data__={}}function De(t){var e=t?t.length:0;for(this.data={hash:de(null),set:new ue};e--;)this.push(t[e])}function Ue(t,e){var n=t.data;return("string"==typeof e||Ji(e)?n.set.has(e):n.hash[e])?0:-1}function Fe(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Xe(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ye(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function je(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}function We(t,e){for(var r=-1,i=t.length,o=n(i);++r<i;)o[r]=e(t[r],r,t);return o}function He(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ze(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function qe(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Ge(t,e,n,r){return t!==o&&Lt.call(r,n)?t:e}function Ve(t,e,n){for(var r=-1,i=go(e),a=i.length;++r<a;){var s=i[r],u=t[s],l=n(u,e[s],s,t,e);(l==l?l===u:u!=u)&&(u!==o||s in t)||(t[s]=l)}return t}function Ze(t,e){return null==e?t:$e(e,go(e),t)}function Je(t,e){for(var r=-1,i=null==t,a=!i&&xr(t),s=a?t.length:0,u=e.length,l=n(u);++r<u;){var f=e[r];l[r]=a?wr(f,s)?t[f]:o:i?o:t[f]}return l}function $e(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}function Qe(t,e,n){var r=typeof t;return"function"==r?e===o?t:Bn(t,e,n):null==t?Uo:"object"==r?xn(t):e===o?Ho(t):wn(t,e)}function Ke(t,e,n,r,i,a,s){var u;if(n&&(u=i?n(t,r,i):n(t)),u!==o)return u;if(!Ji(t))return t;var l=qi(t);if(l){if(u=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Lt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!e)return Fe(t,u)}else{var f=Zt.call(t),c=f==L;if(f!=R&&f!=T&&(!c||i))return _t[f]?function(t,e,n){var r=t.constructor;switch(e){case D:return Dn(t);case O:case N:return new r(+t);case U:case F:case X:case Y:case j:case W:case H:case z:case q:var i=t.buffer;return new r(n?Dn(i):i,t.byteOffset,t.length);case M:case B:return new r(t);case k:var o=new r(t.source,ct.exec(t));o.lastIndex=t.lastIndex}return o}(t,f,e):i?t:{};if(u=function(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=St),new e}(c?{}:t),!e)return Ze(u,t)}a||(a=[]),s||(s=[]);for(var h=a.length;h--;)if(a[h]==t)return s[h];return a.push(t),s.push(u),(l?Xe:pn)(t,function(r,i){u[i]=Ke(r,e,n,i,t,a,s)}),u}Le.templateSettings={escape:tt,evaluate:et,interpolate:nt,variable:"",imports:{_:Le}};var tn=function(){function t(){}return function(e){if(Ji(e)){t.prototype=e;var n=new t;t.prototype=o}return n||{}}}();function en(t,e,n){if("function"!=typeof t)throw new Tt(C);return le(function(){t.apply(o,n)},e)}function nn(t,e){var n=t?t.length:0,r=[];if(!n)return r;var i=-1,o=mr(),a=o==Dt,s=a&&e.length>=_?Hn(e):null,u=e.length;s&&(o=Ue,a=!1,e=s);t:for(;++i<n;){var l=t[i];if(a&&l==l){for(var f=u;f--;)if(e[f]===l)continue t;r.push(l)}else o(e,l,0)<0&&r.push(l)}return r}var rn=jn(pn),on=jn(dn,!0);function an(t,e){var n=!0;return rn(t,function(t,r,i){return n=!!e(t,r,i)}),n}function sn(t,e){var n=[];return rn(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function un(t,e,n,r){var i;return n(t,function(t,n,o){if(e(t,n,o))return i=r?n:t,!1}),i}function ln(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var a=t[i];Vt(a)&&xr(a)&&(n||qi(a)||zi(a))?e?ln(a,e,n,r):He(r,a):n||(r[r.length]=a)}return r}var fn=Wn(),cn=Wn(!0);function hn(t,e){return fn(t,e,bo)}function pn(t,e){return fn(t,e,go)}function dn(t,e){return cn(t,e,go)}function mn(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];Zi(t[a])&&(o[++i]=a)}return o}function vn(t,e,n){if(null!=t){n!==o&&n in Rr(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&r<i;)t=t[e[r++]];return r&&r==i?t:o}}function yn(t,e,n,r,i,a){return t===e||(null==t||null==e||!Ji(t)&&!Vt(e)?t!=t&&e!=e:function(t,e,n,r,i,a,s){var u=qi(t),l=qi(e),f=I,c=I;u||((f=Zt.call(t))==T?f=R:f!=R&&(u=no(t))),l||((c=Zt.call(e))==T?c=R:c!=R&&(l=no(e)));var h=f==R,p=c==R,d=f==c;if(d&&!u&&!h)return function(t,e,n){switch(n){case O:case N:return+t==+e;case A:return t.name==e.name&&t.message==e.message;case M:return t!=+t?e!=+e:t==+e;case k:case B:return t==e+""}return!1}(t,e,f);if(!i){var m=h&&Lt.call(t,"__wrapped__"),v=p&&Lt.call(e,"__wrapped__");if(m||v)return n(m?t.value():t,v?e.value():e,r,i,a,s)}if(!d)return!1;a||(a=[]),s||(s=[]);for(var y=a.length;y--;)if(a[y]==t)return s[y]==e;a.push(t),s.push(e);var g=(u?function(t,e,n,r,i,a,s){var u=-1,l=t.length,f=e.length;if(l!=f&&!(i&&f>l))return!1;for(;++u<l;){var c=t[u],h=e[u],p=r?r(i?h:c,i?c:h,u):o;if(p!==o){if(p)continue;return!1}if(i){if(!qe(e,function(t){return c===t||n(c,t,r,i,a,s)}))return!1}else if(c!==h&&!n(c,h,r,i,a,s))return!1}return!0}:function(t,e,n,r,i,a,s){var u=go(t),l=u.length,f=go(e).length;if(l!=f&&!i)return!1;for(var c=l;c--;){var h=u[c];if(!(i?h in e:Lt.call(e,h)))return!1}for(var p=i;++c<l;){h=u[c];var d=t[h],m=e[h],v=r?r(i?m:d,i?d:m,h):o;if(!(v===o?n(d,m,r,i,a,s):v))return!1;p||(p="constructor"==h)}if(!p){var y=t.constructor,g=e.constructor;if(y!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof g&&g instanceof g))return!1}return!0})(t,e,n,r,i,a,s);return a.pop(),s.pop(),g}(t,e,yn,n,r,i,a))}function gn(t,e,n){var r=e.length,i=r,a=!n;if(null==t)return!i;for(t=Rr(t);r--;){var s=e[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<i;){var u=(s=e[r])[0],l=t[u],f=s[1];if(a&&s[2]){if(l===o&&!(u in t))return!1}else{var c=n?n(l,f,u):o;if(!(c===o?yn(f,l,n,!0):c))return!1}}return!0}function bn(t,e){var r=-1,i=xr(t)?n(t.length):[];return rn(t,function(t,n,o){i[++r]=e(t,n,o)}),i}function xn(t){var e=yr(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&t[n]===r&&(r!==o||n in Rr(t))}}return function(t){return gn(t,e)}}function wn(t,e){var n=qi(t),r=Pr(t)&&Er(e),i=t+"";return t=kr(t),function(a){if(null==a)return!1;var s=i;if(a=Rr(a),(n||!r)&&!(s in a)){if(null==(a=1==t.length?a:vn(a,En(t,0,-1))))return!1;s=zr(t),a=Rr(a)}return a[s]===e?e!==o||s in a:yn(e,a[s],o,!0)}}function _n(t){return function(e){return null==e?o:e[t]}}function Pn(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&wr(r)){var i=r;fe.call(t,r,1)}}return t}function Sn(t,e){return t+me(Pe()*(e-t+1))}var Cn=Ne?function(t,e){return Ne.set(t,e),t}:Uo;function En(t,e,r){var i=-1,a=t.length;(e=null==e?0:+e||0)<0&&(e=-e>a?0:a+e),(r=r===o||r>a?a:+r||0)<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var s=n(a);++i<a;)s[i]=t[i+e];return s}function Tn(t,e){var n;return rn(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function In(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function On(t,e,n){var r=hr(),i=-1;return e=We(e,function(t){return r(t)}),In(bn(t,function(t){return{criteria:We(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=kt(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*("asc"===l||!0===l?1:-1)}}return t.index-e.index}(t,e,n)})}function Nn(t,e){var n=-1,r=mr(),i=t.length,o=r==Dt,a=o&&i>=_,s=a?Hn():null,u=[];s?(r=Ue,o=!1):(a=!1,s=e?[]:u);t:for(;++n<i;){var l=t[n],f=e?e(l,n,t):l;if(o&&l==l){for(var c=s.length;c--;)if(s[c]===f)continue t;e&&s.push(f),u.push(l)}else r(s,f,0)<0&&((e||a)&&s.push(f),u.push(l))}return u}function An(t,e){for(var r=-1,i=e.length,o=n(i);++r<i;)o[r]=t[e[r]];return o}function Ln(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?En(t,r?0:o,r?o+1:i):En(t,r?o+1:0,r?i:o)}function Mn(t,e){var n=t;n instanceof ke&&(n=n.value());for(var r=-1,i=e.length;++r<i;){var o=e[r];n=o.func.apply(o.thisArg,He([n],o.args))}return n}function Rn(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e==e&&i<=Ie){for(;r<i;){var o=r+i>>>1,a=t[o];(n?a<=e:a<e)&&null!==a?r=o+1:i=o}return i}return kn(t,e,Uo,n)}function kn(t,e,n,r){e=n(e);for(var i=0,a=t?t.length:0,s=e!=e,u=null===e,l=e===o;i<a;){var f=me((i+a)/2),c=n(t[f]),h=c!==o,p=c==c;if(s)var d=p||r;else d=u?p&&h&&(r||null!=c):l?p&&(r||h):null!=c&&(r?c<=e:c<e);d?i=f+1:a=f}return xe(a,Te)}function Bn(t,e,n){if("function"!=typeof t)return Uo;if(e===o)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function Dn(t){var e=new re(t.byteLength);return new ce(e).set(new ce(t)),e}function Un(t,e,r){for(var i=r.length,o=-1,a=be(t.length-i,0),s=-1,u=e.length,l=n(u+a);++s<u;)l[s]=e[s];for(;++o<i;)l[r[o]]=t[o];for(;a--;)l[s++]=t[o++];return l}function Fn(t,e,r){for(var i=-1,o=r.length,a=-1,s=be(t.length-o,0),u=-1,l=e.length,f=n(s+l);++a<s;)f[a]=t[a];for(var c=a;++u<l;)f[c+u]=e[u];for(;++i<o;)f[c+r[i]]=t[a++];return f}function Xn(t,e){return function(n,r,i){var o=e?e():{};if(r=hr(r,i,3),qi(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];t(o,u,r(u,a,n),n)}else rn(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function Yn(t){return Wi(function(e,n){var r=-1,i=null==e?0:n.length,a=i>2?n[i-2]:o,s=i>2?n[2]:o,u=i>1?n[i-1]:o;for("function"==typeof a?(a=Bn(a,u,5),i-=2):i-=(a="function"==typeof u?u:o)?1:0,s&&_r(n[0],n[1],s)&&(a=i<3?o:a,i=1);++r<i;){var l=n[r];l&&t(e,l,a)}return e})}function jn(t,e){return function(n,r){var i=n?vr(n):0;if(!Cr(i))return t(n,r);for(var o=e?i:-1,a=Rr(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Wn(t){return function(e,n,r){for(var i=Rr(e),o=r(e),a=o.length,s=t?a:-1;t?s--:++s<a;){var u=o[s];if(!1===n(i[u],u,i))break}return e}}function Hn(t){return de&&ue?new De(t):null}function zn(t){return function(e){for(var n=-1,r=ko(To(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function qn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=tn(t.prototype),r=t.apply(n,e);return Ji(r)?r:n}}function Gn(t){return function e(n,r,i){i&&_r(n,r,i)&&(r=o);var a=cr(n,t,o,o,o,o,o,r);return a.placeholder=e.placeholder,a}}function Vn(t,e){return Wi(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(o,n))})}function Zn(t,e){return function(n,r,i){if(i&&_r(n,r,i)&&(r=o),1==(r=hr(r,i,3)).length){var a=function(t,e,n,r){for(var i=-1,o=t.length,a=r,s=a;++i<o;){var u=t[i],l=+e(u);n(l,a)&&(a=l,s=u)}return s}(n=qi(n)?n:Mr(n),r,t,e);if(!n.length||a!==e)return a}return function(t,e,n,r){var i=r,o=i;return rn(t,function(t,a,s){var u=+e(t,a,s);(n(u,i)||u===r&&u===o)&&(i=u,o=t)}),o}(n,r,t,e)}}function Jn(t,e){return function(n,r,i){if(r=hr(r,i,3),qi(n)){var a=Bt(n,r,e);return a>-1?n[a]:o}return un(n,r,t)}}function $n(t){return function(e,n,r){return e&&e.length?Bt(e,n=hr(n,r,3),t):-1}}function Qn(t){return function(e,n,r){return un(e,n=hr(n,r,3),t,!0)}}function Kn(t){return function(){for(var e,r=arguments.length,i=t?r:-1,a=0,s=n(r);t?i--:++i<r;){var u=s[a++]=arguments[i];if("function"!=typeof u)throw new Tt(C);!e&&Re.prototype.thru&&"wrapper"==dr(u)&&(e=new Re([],!0))}for(i=e?-1:r;++i<r;){var l=dr(u=s[i]),f="wrapper"==l?pr(u):o;e=f&&Sr(f[0])&&f[1]==(v|h|d|y)&&!f[4].length&&1==f[9]?e[dr(f[0])].apply(e,f[3]):1==u.length&&Sr(u)?e[l]():e.thru(u)}return function(){var t=arguments,n=t[0];if(e&&1==t.length&&qi(n)&&n.length>=_)return e.plant(n).value();for(var i=0,o=r?s[i].apply(this,t):n;++i<r;)o=s[i].call(this,o);return o}}}function tr(t,e){return function(n,r,i){return"function"==typeof r&&i===o&&qi(n)?t(n,r):e(n,Bn(r,i,3))}}function er(t){return function(e,n,r){return"function"==typeof n&&r===o||(n=Bn(n,r,3)),t(e,n,bo)}}function nr(t){return function(e,n,r){return"function"==typeof n&&r===o||(n=Bn(n,r,3)),t(e,n)}}function rr(t){return function(e,n,r){var i={};return n=hr(n,r,3),pn(e,function(e,r,o){var a=n(e,r,o);r=t?a:r,e=t?e:a,i[r]=e}),i}}function ir(t){return function(e,n,r){return e=Ft(e),(t?e:"")+ur(e,n,r)+(t?"":e)}}function or(t){var e=Wi(function(n,r){var i=Jt(r,e.placeholder);return cr(n,t,o,r,i)});return e}function ar(t,e){return function(n,r,i,a){var s=arguments.length<3;return"function"==typeof r&&a===o&&qi(n)?t(n,r,i,s):function(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}(n,hr(r,a,4),i,s,e)}}function sr(t,e,r,i,a,s,u,y,g,b){var x=e&v,w=e&l,_=e&f,P=e&h,S=e&c,C=e&p,E=_?o:qn(t);return function c(){for(var h=arguments.length,p=h,v=n(h);p--;)v[p]=arguments[p];if(i&&(v=Un(v,i,a)),s&&(v=Fn(v,s,u)),P||C){var T=c.placeholder,I=Jt(v,T);if((h-=I.length)<b){var O=y?Fe(y):o,N=be(b-h,0);e|=P?d:m,e&=~(P?m:d),S||(e&=~(l|f));var A=[t,e,r,P?v:o,P?I:o,P?o:v,P?o:I,O,g,N],L=sr.apply(o,A);return Sr(t)&&Ar(L,A),L.placeholder=T,L}}var M=w?r:this,R=_?M[t]:t;return y&&(v=function(t,e){for(var n=t.length,r=xe(e.length,n),i=Fe(t);r--;){var a=e[r];t[r]=wr(a,n)?i[a]:o}return t}(v,y)),x&&g<v.length&&(v.length=g),this&&this!==Rt&&this instanceof c&&(R=E||qn(t)),R.apply(M,v)}}function ur(t,e,n){var r=t.length;if(r>=(e=+e)||!ye(e))return"";var i=e-r;return Ao(n=null==n?" ":n+"",pe(i/n.length)).slice(0,i)}function lr(t){var e=s[t];return function(t,n){return(n=n===o?0:+n||0)?(n=ae(10,n),e(t*n)/n):e(t)}}function fr(t){return function(e,n,r,i){var o=hr(r);return null==r&&o===Qe?Rn(e,n,t):kn(e,n,o(r,i,1),t)}}function cr(t,e,r,i,a,s,u,p){var g=e&f;if(!g&&"function"!=typeof t)throw new Tt(C);var b=i?i.length:0;if(b||(e&=~(d|m),i=a=o),b-=a?a.length:0,e&m){var x=i,w=a;i=a=o}var _=g?o:pr(t),P=[t,e,r,i,a,x,w,s,u,p];if(_&&(function(t,e){var n=t[1],r=e[1],i=n|r,o=i<v,a=r==v&&n==h||r==v&&n==y&&t[7].length<=e[8]||r==(v|y)&&n==h;if(!o&&!a)return t;r&l&&(t[2]=e[2],i|=n&l?0:c);var s=e[3];if(s){var u=t[3];t[3]=u?Un(u,s,e[4]):Fe(s),t[4]=u?Jt(t[3],E):Fe(e[4])}(s=e[5])&&(u=t[5],t[5]=u?Fn(u,s,e[6]):Fe(s),t[6]=u?Jt(t[5],E):Fe(e[6])),(s=e[7])&&(t[7]=Fe(s)),r&v&&(t[8]=null==t[8]?e[8]:xe(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(P,_),e=P[1],p=P[9]),P[9]=null==p?g?0:t.length:be(p-b,0)||0,e==l)var S=function(t,e){var n=qn(t);return function r(){return(this&&this!==Rt&&this instanceof r?n:t).apply(e,arguments)}}(P[0],P[2]);else S=e!=d&&e!=(l|d)||P[4].length?sr.apply(o,P):function(t,e,r,i){var o=e&l,a=qn(t);return function e(){for(var s=-1,u=arguments.length,l=-1,f=i.length,c=n(f+u);++l<f;)c[l]=i[l];for(;u--;)c[l++]=arguments[++s];return(this&&this!==Rt&&this instanceof e?a:t).apply(o?r:this,c)}}.apply(o,P);return(_?Cn:Ar)(S,P)}function hr(t,e,n){var r=Le.callback||Do;return r=r===Do?Qe:r,n?r(t,e,n):r}var pr=Ne?function(t){return Ne.get(t)}:Wo;function dr(t){for(var e=t.name,n=Ae[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function mr(t,e,n){var r=Le.indexOf||Wr;return r=r===Wr?Dt:r,t?r(t,e,n):r}var vr=_n("length");function yr(t){for(var e=Po(t),n=e.length;n--;)e[n][2]=Er(e[n][1]);return e}function gr(t,e){var n=null==t?o:t[e];return $i(n)?n:o}function br(t,e,n){null==t||Pr(e,t)||(t=1==(e=kr(e)).length?t:vn(t,En(e,0,-1)),e=zr(e));var r=null==t?t:t[e];return null==r?o:r.apply(t,n)}function xr(t){return null!=t&&Cr(vr(t))}function wr(t,e){return t="number"==typeof t||dt.test(t)?+t:-1,e=null==e?Oe:e,t>-1&&t%1==0&&t<e}function _r(t,e,n){if(!Ji(n))return!1;var r=typeof e;if("number"==r?xr(n)&&wr(e,n.length):"string"==r&&e in n){var i=n[e];return t==t?t===i:i!=i}return!1}function Pr(t,e){var n=typeof t;return!!("string"==n&&it.test(t)||"number"==n)||!qi(t)&&(!rt.test(t)||null!=e&&t in Rr(e))}function Sr(t){var e=dr(t);if(!(e in ke.prototype))return!1;var n=Le[e];if(t===n)return!0;var r=pr(n);return!!r&&t===r[0]}function Cr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Oe}function Er(t){return t==t&&!Ji(t)}function Tr(t,e){t=Rr(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function Ir(t,e){var n={};return hn(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}var Or,Nr,Ar=(Or=0,Nr=0,function(t,e){var n=Ei(),r=w-(n-Nr);if(Nr=n,r>0){if(++Or>=x)return t}else Or=0;return Cn(t,e)});function Lr(t){for(var e=bo(t),n=e.length,r=n&&t.length,i=!!r&&Cr(r)&&(qi(t)||zi(t)),o=-1,a=[];++o<n;){var s=e[o];(i&&wr(s,r)||Lt.call(t,s))&&a.push(s)}return a}function Mr(t){return null==t?[]:xr(t)?Ji(t)?t:St(t):Co(t)}function Rr(t){return Ji(t)?t:St(t)}function kr(t){if(qi(t))return t;var e=[];return Ft(t).replace(ot,function(t,n,r,i){e.push(r?i.replace(lt,"$1"):n||t)}),e}function Br(t){return t instanceof ke?t.clone():new Re(t.__wrapped__,t.__chain__,Fe(t.__actions__))}var Dr=Wi(function(t,e){return Vt(t)&&xr(t)?nn(t,ln(e,!1,!0)):[]});function Ur(t,e,n){return t&&t.length?((n?_r(t,e,n):null==e)&&(e=1),En(t,e<0?0:e)):[]}function Fr(t,e,n){var r=t?t.length:0;return r?((n?_r(t,e,n):null==e)&&(e=1),En(t,0,(e=r-(+e||0))<0?0:e)):[]}var Xr=$n(),Yr=$n(!0);function jr(t){return t?t[0]:o}function Wr(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?be(r+n,0):n;else if(n){var i=Rn(t,e);return i<r&&(e==e?e===t[i]:t[i]!=t[i])?i:-1}return Dt(t,e,n||0)}var Hr=Wi(function(t){for(var e=t.length,r=e,i=n(c),o=mr(),a=o==Dt,s=[];r--;){var u=t[r]=xr(u=t[r])?u:[];i[r]=a&&u.length>=120?Hn(r&&u):null}var l=t[0],f=-1,c=l?l.length:0,h=i[0];t:for(;++f<c;)if(u=l[f],(h?Ue(h,u):o(s,u,0))<0){for(r=e;--r;){var p=i[r];if((p?Ue(p,u):o(t[r],u,0))<0)continue t}h&&h.push(u),s.push(u)}return s});function zr(t){var e=t?t.length:0;return e?t[e-1]:o}var qr=Wi(function(t,e){var n=Je(t,e=ln(e));return Pn(t,e.sort(kt)),n});function Gr(t){return Ur(t,1)}var Vr=fr(),Zr=fr(!0);var Jr=Wi(function(t){return Nn(ln(t,!1,!0))});function $r(t,e,n,r){if(!t||!t.length)return[];null!=e&&"boolean"!=typeof e&&(n=_r(t,e,r=n)?o:e,e=!1);var i=hr();return null==n&&i===Qe||(n=i(n,r,3)),e&&mr()==Dt?function(t,e){for(var n,r=-1,i=t.length,o=-1,a=[];++r<i;){var s=t[r],u=e?e(s,r,t):s;r&&n===u||(n=u,a[++o]=s)}return a}(t,n):Nn(t,n)}function Qr(t){if(!t||!t.length)return[];var e=-1,r=0;t=je(t,function(t){if(xr(t))return r=be(t.length,r),!0});for(var i=n(r);++e<r;)i[e]=We(t,_n(e));return i}function Kr(t,e,n){if(!t||!t.length)return[];var r=Qr(t);return null==e?r:(e=Bn(e,n,4),We(r,function(t){return ze(t,e,o,!0)}))}var ti=Wi(function(t,e){return xr(t)?nn(t,e):[]});var ei=Wi(Qr);function ni(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||qi(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}var ri=Wi(function(t){var e=t.length,n=e>2?t[e-2]:o,r=e>1?t[e-1]:o;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):o,r=o),t.length=e,Kr(t,n,r)});function ii(t){var e=Le(t);return e.__chain__=!0,e}function oi(t,e,n){return e.call(n,t)}var ai=Wi(function(t){return t=ln(t),this.thru(function(e){return function(t,e){for(var r=-1,i=t.length,o=-1,a=e.length,s=n(i+a);++r<i;)s[r]=t[r];for(;++o<a;)s[r++]=e[o];return s}(qi(e)?e:[Rr(e)],t)})});var si=Wi(function(t,e){return Je(t,ln(e))}),ui=Xn(function(t,e,n){Lt.call(t,n)?++t[n]:t[n]=1});function li(t,e,n){var r=qi(t)?Ye:an;return n&&_r(t,e,n)&&(e=o),"function"==typeof e&&n===o||(e=hr(e,n,3)),r(t,e)}function fi(t,e,n){return(qi(t)?je:sn)(t,e=hr(e,n,3))}var ci=Jn(rn),hi=Jn(on,!0);var pi=tr(Xe,rn),di=tr(function(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t},on),mi=Xn(function(t,e,n){Lt.call(t,n)?t[n].push(e):t[n]=[e]});function vi(t,e,n,r){var i=t?vr(t):0;return Cr(i)||(i=(t=Co(t)).length),n="number"!=typeof n||r&&_r(e,n,r)?0:n<0?be(i+n,0):n||0,"string"==typeof t||!qi(t)&&eo(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&mr(t,e,n)>-1}var yi=Xn(function(t,e,n){t[n]=e}),gi=Wi(function(t,e,r){var i=-1,a="function"==typeof e,s=Pr(e),u=xr(t)?n(t.length):[];return rn(t,function(t){var n=a?e:s&&null!=t?t[e]:o;u[++i]=n?n.apply(t,r):br(t,e,r)}),u});function bi(t,e,n){return(qi(t)?We:bn)(t,e=hr(e,n,3))}var xi=Xn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var wi=ar(ze,rn),_i=ar(function(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n},on);function Pi(t,e,n){if(n?_r(t,e,n):null==e)return(r=(t=Mr(t)).length)>0?t[Sn(0,r-1)]:o;var r,i=-1,a=io(t),s=(r=a.length)-1;for(e=xe(e<0?0:+e||0,r);++i<e;){var u=Sn(i,s),l=a[u];a[u]=a[i],a[i]=l}return a.length=e,a}function Si(t,e,n){var r=qi(t)?qe:Tn;return n&&_r(t,e,n)&&(e=o),"function"==typeof e&&n===o||(e=hr(e,n,3)),r(t,e)}var Ci=Wi(function(t,e){if(null==t)return[];var n=e[2];return n&&_r(e[0],e[1],n)&&(e.length=1),On(t,ln(e),[])});var Ei=we||function(){return(new r).getTime()};function Ti(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Tt(C);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Ii=Wi(function(t,e,n){var r=l;if(n.length){var i=Jt(n,Ii.placeholder);r|=d}return cr(t,r,e,n,i)}),Oi=Wi(function(t,e){for(var n=-1,r=(e=e.length?ln(e):yo(t)).length;++n<r;){var i=e[n];t[i]=cr(t[i],l,t)}return t}),Ni=Wi(function(t,e,n){var r=l|f;if(n.length){var i=Jt(n,Ni.placeholder);r|=d}return cr(e,r,t,n,i)}),Ai=Gn(h),Li=Gn(p);function Mi(t,e,n){var r,i,a,s,u,l,f,c=0,h=!1,p=!0;if("function"!=typeof t)throw new Tt(C);if(e=e<0?0:+e||0,!0===n){var d=!0;p=!1}else Ji(n)&&(d=!!n.leading,h="maxWait"in n&&be(+n.maxWait||0,e),p="trailing"in n?!!n.trailing:p);function m(e,n){n&&ie(n),i=l=f=o,e&&(c=Ei(),a=t.apply(u,r),l||i||(r=u=o))}function v(){var t=e-(Ei()-s);t<=0||t>e?m(f,i):l=le(v,t)}function y(){m(p,l)}function g(){if(r=arguments,s=Ei(),u=this,f=p&&(l||!d),!1===h)var n=d&&!l;else{i||d||(c=s);var m=h-(s-c),g=m<=0||m>h;g?(i&&(i=ie(i)),c=s,a=t.apply(u,r)):i||(i=le(y,m))}return g&&l?l=ie(l):l||e===h||(l=le(v,e)),n&&(g=!0,a=t.apply(u,r)),!g||l||i||(r=u=o),a}return g.cancel=function(){l&&ie(l),i&&ie(i),c=0,i=l=f=o},g}var Ri=Wi(function(t,e){return en(t,1,e)}),ki=Wi(function(t,e,n){return en(t,e,n)}),Bi=Kn(),Di=Kn(!0);function Ui(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Tt(C);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new Ui.Cache,n}var Fi=Wi(function(t,e){if(e=ln(e),"function"!=typeof t||!Ye(e,Ut))throw new Tt(C);var n=e.length;return Wi(function(r){for(var i=xe(r.length,n);i--;)r[i]=e[i](r[i]);return t.apply(this,r)})});var Xi=or(d),Yi=or(m),ji=Wi(function(t,e){return cr(t,y,o,o,o,ln(e))});function Wi(t,e){if("function"!=typeof t)throw new Tt(C);return e=be(e===o?t.length-1:+e||0,0),function(){for(var r=arguments,i=-1,o=be(r.length-e,0),a=n(o);++i<o;)a[i]=r[e+i];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,r[0],a);case 2:return t.call(this,r[0],r[1],a)}var s=n(e+1);for(i=-1;++i<e;)s[i]=r[i];return s[e]=a,t.apply(this,s)}}function Hi(t,e){return t>e}function zi(t){return Vt(t)&&xr(t)&&Lt.call(t,"callee")&&!se.call(t,"callee")}var qi=ve||function(t){return Vt(t)&&Cr(t.length)&&Zt.call(t)==I};function Gi(t,e,n,r){var i=(n="function"==typeof n?Bn(n,r,3):o)?n(t,e):o;return i===o?yn(t,e,n):!!i}function Vi(t){return Vt(t)&&"string"==typeof t.message&&Zt.call(t)==A}function Zi(t){return Ji(t)&&Zt.call(t)==L}function Ji(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function $i(t){return null!=t&&(Zi(t)?ne.test(At.call(t)):Vt(t)&&pt.test(t))}function Qi(t){return"number"==typeof t||Vt(t)&&Zt.call(t)==M}function Ki(t){var e,n;return!(!Vt(t)||Zt.call(t)!=R||zi(t)||!(Lt.call(t,"constructor")||"function"!=typeof(e=t.constructor)||e instanceof e))&&(hn(t,function(t,e){n=e}),n===o||Lt.call(t,n))}function to(t){return Ji(t)&&Zt.call(t)==k}function eo(t){return"string"==typeof t||Vt(t)&&Zt.call(t)==B}function no(t){return Vt(t)&&Cr(t.length)&&!!wt[Zt.call(t)]}function ro(t,e){return t<e}function io(t){var e=t?vr(t):0;return Cr(e)?e?Fe(t):[]:Co(t)}function oo(t){return $e(t,bo(t))}var ao=Yn(function t(e,n,r,i,a){if(!Ji(e))return e;var s=xr(n)&&(qi(n)||no(n)),u=s?o:go(n);return Xe(u||n,function(l,f){if(u&&(l=n[f=l]),Vt(l))i||(i=[]),a||(a=[]),function(t,e,n,r,i,a,s){for(var u=a.length,l=e[n];u--;)if(a[u]==l)return void(t[n]=s[u]);var f=t[n],c=i?i(f,l,n,t,e):o,h=c===o;h&&(c=l,xr(l)&&(qi(l)||no(l))?c=qi(f)?f:xr(f)?Fe(f):[]:Ki(l)||zi(l)?c=zi(f)?oo(f):Ki(f)?f:{}:h=!1),a.push(l),s.push(c),h?t[n]=r(c,l,i,a,s):(c==c?c!==f:f==f)&&(t[n]=c)}(e,n,f,t,r,i,a);else{var c=e[f],h=r?r(c,l,f,e,n):o,p=h===o;p&&(h=l),h===o&&(!s||f in e)||!p&&(h==h?h===c:c!=c)||(e[f]=h)}}),e}),so=Yn(function(t,e,n){return n?Ve(t,e,n):Ze(t,e)});var uo=Vn(so,function(t,e){return t===o?e:t}),lo=Vn(ao,function t(e,n){return e===o?n:ao(e,n,t)}),fo=Qn(pn),co=Qn(dn),ho=er(fn),po=er(cn),mo=nr(pn),vo=nr(dn);function yo(t){return mn(t,bo(t))}var go=ge?function(t){var e=null==t?o:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&xr(t)?Lr(t):Ji(t)?ge(t):[]}:Lr;function bo(t){if(null==t)return[];Ji(t)||(t=St(t));var e=t.length;e=e&&Cr(e)&&(qi(t)||zi(t))&&e||0;for(var r=t.constructor,i=-1,o="function"==typeof r&&r.prototype===t,a=n(e),s=e>0;++i<e;)a[i]=i+"";for(var u in t)s&&wr(u,e)||"constructor"==u&&(o||!Lt.call(t,u))||a.push(u);return a}var xo=rr(!0),wo=rr(),_o=Wi(function(t,e){if(null==t)return{};if("function"!=typeof e[0])return e=We(ln(e),Et),Tr(t,nn(bo(t),e));var n=Bn(e[0],e[1],3);return Ir(t,function(t,e,r){return!n(t,e,r)})});function Po(t){t=Rr(t);for(var e=-1,r=go(t),i=r.length,o=n(i);++e<i;){var a=r[e];o[e]=[a,t[a]]}return o}var So=Wi(function(t,e){return null==t?{}:"function"==typeof e[0]?Ir(t,Bn(e[0],e[1],3)):Tr(t,ln(e))});function Co(t){return An(t,go(t))}var Eo=zn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)});function To(t){return(t=Ft(t))&&t.replace(mt,Wt).replace(ut,"")}var Io=zn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});var Oo=ir(),No=ir(!0);function Ao(t,e){var n="";if(t=Ft(t),(e=+e)<1||!t||!ye(e))return n;do{e%2&&(n+=t),e=me(e/2),t+=t}while(e);return n}var Lo=zn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Mo=zn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))});function Ro(t,e,n){var r=t;return(t=Ft(t))?(n?_r(r,e,n):null==e)?t.slice($t(t),Qt(t)+1):(e+="",t.slice(Xt(t,e),Yt(t,e)+1)):t}function ko(t,e,n){return n&&_r(t,e,n)&&(e=o),(t=Ft(t)).match(e||gt)||[]}var Bo=Wi(function(t,e){try{return t.apply(o,e)}catch(t){return Vi(t)?t:new i(t)}});function Do(t,e,n){return n&&_r(t,e,n)&&(e=o),Vt(t)?Fo(t):Qe(t,e)}function Uo(t){return t}function Fo(t){return xn(Ke(t,!0))}var Xo=Wi(function(t,e){return function(n){return br(n,t,e)}}),Yo=Wi(function(t,e){return function(n){return br(t,n,e)}});function jo(t,e,n){if(null==n){var r=Ji(e),i=r?go(e):o,a=i&&i.length?mn(e,i):o;(a?a.length:r)||(a=!1,n=e,e=t,t=this)}a||(a=mn(e,go(e)));var s=!0,u=-1,l=Zi(t),f=a.length;!1===n?s=!1:Ji(n)&&"chain"in n&&(s=n.chain);for(;++u<f;){var c=a[u],h=e[c];t[c]=h,l&&(t.prototype[c]=function(e){return function(){var n=this.__chain__;if(s||n){var r=t(this.__wrapped__);return(r.__actions__=Fe(this.__actions__)).push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,He([this.value()],arguments))}}(h))}return t}function Wo(){}function Ho(t){return Pr(t)?_n(t):function(t){var e=t+"";return t=kr(t),function(n){return vn(n,t,e)}}(t)}var zo,qo=lr("ceil"),Go=lr("floor"),Vo=Zn(Hi,Se),Zo=Zn(ro,Ce),Jo=lr("round");return Le.prototype=Me.prototype,Re.prototype=tn(Me.prototype),Re.prototype.constructor=Re,ke.prototype=tn(Me.prototype),ke.prototype.constructor=ke,Be.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Be.prototype.get=function(t){return"__proto__"==t?o:this.__data__[t]},Be.prototype.has=function(t){return"__proto__"!=t&&Lt.call(this.__data__,t)},Be.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},De.prototype.push=function(t){var e=this.data;"string"==typeof t||Ji(t)?e.set.add(t):e.hash[t]=!0},Ui.Cache=Be,Le.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Tt(C);var n=t;t=e,e=n}return t=ye(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}},Le.ary=function(t,e,n){return n&&_r(t,e,n)&&(e=o),e=t&&null==e?t.length:be(+e||0,0),cr(t,v,o,o,o,o,e)},Le.assign=so,Le.at=si,Le.before=Ti,Le.bind=Ii,Le.bindAll=Oi,Le.bindKey=Ni,Le.callback=Do,Le.chain=ii,Le.chunk=function(t,e,r){e=(r?_r(t,e,r):null==e)?1:be(me(e)||1,1);for(var i=0,o=t?t.length:0,a=-1,s=n(pe(o/e));i<o;)s[++a]=En(t,i,i+=e);return s},Le.compact=function(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i},Le.constant=function(t){return function(){return t}},Le.countBy=ui,Le.create=function(t,e,n){var r=tn(t);return n&&_r(t,e,n)&&(e=o),e?Ze(r,e):r},Le.curry=Ai,Le.curryRight=Li,Le.debounce=Mi,Le.defaults=uo,Le.defaultsDeep=lo,Le.defer=Ri,Le.delay=ki,Le.difference=Dr,Le.drop=Ur,Le.dropRight=Fr,Le.dropRightWhile=function(t,e,n){return t&&t.length?Ln(t,hr(e,n,3),!0,!0):[]},Le.dropWhile=function(t,e,n){return t&&t.length?Ln(t,hr(e,n,3),!0):[]},Le.fill=function(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&_r(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=null==n?0:+n||0)<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:+r||0)<0&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)t[n++]=e;return t}(t,e,n,r)):[]},Le.filter=fi,Le.flatten=function(t,e,n){var r=t?t.length:0;return n&&_r(t,e,n)&&(e=!1),r?ln(t,e):[]},Le.flattenDeep=function(t){return t&&t.length?ln(t,!0):[]},Le.flow=Bi,Le.flowRight=Di,Le.forEach=pi,Le.forEachRight=di,Le.forIn=ho,Le.forInRight=po,Le.forOwn=mo,Le.forOwnRight=vo,Le.functions=yo,Le.groupBy=mi,Le.indexBy=yi,Le.initial=function(t){return Fr(t,1)},Le.intersection=Hr,Le.invert=function(t,e,n){n&&_r(t,e,n)&&(e=o);for(var r=-1,i=go(t),a=i.length,s={};++r<a;){var u=i[r],l=t[u];e?Lt.call(s,l)?s[l].push(u):s[l]=[u]:s[l]=u}return s},Le.invoke=gi,Le.keys=go,Le.keysIn=bo,Le.map=bi,Le.mapKeys=xo,Le.mapValues=wo,Le.matches=Fo,Le.matchesProperty=function(t,e){return wn(t,Ke(e,!0))},Le.memoize=Ui,Le.merge=ao,Le.method=Xo,Le.methodOf=Yo,Le.mixin=jo,Le.modArgs=Fi,Le.negate=function(t){if("function"!=typeof t)throw new Tt(C);return function(){return!t.apply(this,arguments)}},Le.omit=_o,Le.once=function(t){return Ti(2,t)},Le.pairs=Po,Le.partial=Xi,Le.partialRight=Yi,Le.partition=xi,Le.pick=So,Le.pluck=function(t,e){return bi(t,Ho(e))},Le.property=Ho,Le.propertyOf=function(t){return function(e){return vn(t,kr(e),e+"")}},Le.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=mr(),i=t.length;++n<i;)for(var o=0,a=t[n];(o=r(e,a,o))>-1;)fe.call(e,o,1);return e},Le.pullAt=qr,Le.range=function(t,e,r){r&&_r(t,e,r)&&(e=r=o),t=+t||0,r=null==r?1:+r||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,a=be(pe((e-t)/(r||1)),0),s=n(a);++i<a;)s[i]=t,t+=r;return s},Le.rearg=ji,Le.reject=function(t,e,n){var r=qi(t)?je:sn;return e=hr(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})},Le.remove=function(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,o=[],a=t.length;for(e=hr(e,n,3);++i<a;){var s=t[i];e(s,i,t)&&(r.push(s),o.push(i))}return Pn(t,o),r},Le.rest=Gr,Le.restParam=Wi,Le.set=function(t,e,n){if(null==t)return t;for(var r=e+"",i=-1,o=(e=null!=t[r]||Pr(e,t)?[r]:kr(e)).length,a=o-1,s=t;null!=s&&++i<o;){var u=e[i];Ji(s)&&(i==a?s[u]=n:null==s[u]&&(s[u]=wr(e[i+1])?[]:{})),s=s[u]}return t},Le.shuffle=function(t){return Pi(t,Ce)},Le.slice=function(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&_r(t,e,n)&&(e=0,n=r),En(t,e,n)):[]},Le.sortBy=function(t,e,n){if(null==t)return[];n&&_r(t,e,n)&&(e=o);var r=-1;return e=hr(e,n,3),In(bn(t,function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}}),jt)},Le.sortByAll=Ci,Le.sortByOrder=function(t,e,n,r){return null==t?[]:(r&&_r(e,n,r)&&(n=o),qi(e)||(e=null==e?[]:[e]),qi(n)||(n=null==n?[]:[n]),On(t,e,n))},Le.spread=function(t){if("function"!=typeof t)throw new Tt(C);return function(e){return t.apply(this,e)}},Le.take=function(t,e,n){return t&&t.length?((n?_r(t,e,n):null==e)&&(e=1),En(t,0,e<0?0:e)):[]},Le.takeRight=function(t,e,n){var r=t?t.length:0;return r?((n?_r(t,e,n):null==e)&&(e=1),En(t,(e=r-(+e||0))<0?0:e)):[]},Le.takeRightWhile=function(t,e,n){return t&&t.length?Ln(t,hr(e,n,3),!1,!0):[]},Le.takeWhile=function(t,e,n){return t&&t.length?Ln(t,hr(e,n,3)):[]},Le.tap=function(t,e,n){return e.call(n,t),t},Le.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Tt(C);return!1===n?r=!1:Ji(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Mi(t,e,{leading:r,maxWait:+e,trailing:i})},Le.thru=oi,Le.times=function(t,e,r){if((t=me(t))<1||!ye(t))return[];var i=-1,o=n(xe(t,Ee));for(e=Bn(e,r,1);++i<t;)i<Ee?o[i]=e(i):e(i);return o},Le.toArray=io,Le.toPlainObject=oo,Le.transform=function(t,e,n,r){var i=qi(t)||no(t);if(e=hr(e,r,4),null==n)if(i||Ji(t)){var a=t.constructor;n=i?qi(t)?new a:[]:tn(Zi(a)?a.prototype:o)}else n={};return(i?Xe:pn)(t,function(t,r,i){return e(n,t,r,i)}),n},Le.union=Jr,Le.uniq=$r,Le.unzip=Qr,Le.unzipWith=Kr,Le.values=Co,Le.valuesIn=function(t){return An(t,bo(t))},Le.where=function(t,e){return fi(t,xn(e))},Le.without=ti,Le.wrap=function(t,e){return cr(e=null==e?Uo:e,d,o,[t],[])},Le.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(xr(n))var r=r?He(nn(r,n),nn(n,r)):n}return r?Nn(r):[]},Le.zip=ei,Le.zipObject=ni,Le.zipWith=ri,Le.backflow=Di,Le.collect=bi,Le.compose=Di,Le.each=pi,Le.eachRight=di,Le.extend=so,Le.iteratee=Do,Le.methods=yo,Le.object=ni,Le.select=fi,Le.tail=Gr,Le.unique=$r,jo(Le,Le),Le.add=function(t,e){return(+t||0)+(+e||0)},Le.attempt=Bo,Le.camelCase=Eo,Le.capitalize=function(t){return(t=Ft(t))&&t.charAt(0).toUpperCase()+t.slice(1)},Le.ceil=qo,Le.clone=function(t,e,n,r){return e&&"boolean"!=typeof e&&_r(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?Ke(t,e,Bn(n,r,1)):Ke(t,e)},Le.cloneDeep=function(t,e,n){return"function"==typeof e?Ke(t,!0,Bn(e,n,1)):Ke(t,!0)},Le.deburr=To,Le.endsWith=function(t,e,n){e+="";var r=(t=Ft(t)).length;return n=n===o?r:xe(n<0?0:+n||0,r),(n-=e.length)>=0&&t.indexOf(e,n)==n},Le.escape=function(t){return(t=Ft(t))&&K.test(t)?t.replace($,Ht):t},Le.escapeRegExp=function(t){return(t=Ft(t))&&st.test(t)?t.replace(at,zt):t||"(?:)"},Le.every=li,Le.find=ci,Le.findIndex=Xr,Le.findKey=fo,Le.findLast=hi,Le.findLastIndex=Yr,Le.findLastKey=co,Le.findWhere=function(t,e){return ci(t,xn(e))},Le.first=jr,Le.floor=Go,Le.get=function(t,e,n){var r=null==t?o:vn(t,kr(e),e+"");return r===o?n:r},Le.gt=Hi,Le.gte=function(t,e){return t>=e},Le.has=function(t,e){if(null==t)return!1;var n=Lt.call(t,e);if(!n&&!Pr(e)){if(null==(t=1==(e=kr(e)).length?t:vn(t,En(e,0,-1))))return!1;e=zr(e),n=Lt.call(t,e)}return n||Cr(t.length)&&wr(e,t.length)&&(qi(t)||zi(t))},Le.identity=Uo,Le.includes=vi,Le.indexOf=Wr,Le.inRange=function(t,e,n){return e=+e||0,n===o?(n=e,e=0):n=+n||0,t>=xe(e,n)&&t<be(e,n)},Le.isArguments=zi,Le.isArray=qi,Le.isBoolean=function(t){return!0===t||!1===t||Vt(t)&&Zt.call(t)==O},Le.isDate=function(t){return Vt(t)&&Zt.call(t)==N},Le.isElement=function(t){return!!t&&1===t.nodeType&&Vt(t)&&!Ki(t)},Le.isEmpty=function(t){return null==t||(xr(t)&&(qi(t)||eo(t)||zi(t)||Vt(t)&&Zi(t.splice))?!t.length:!go(t).length)},Le.isEqual=Gi,Le.isError=Vi,Le.isFinite=function(t){return"number"==typeof t&&ye(t)},Le.isFunction=Zi,Le.isMatch=function(t,e,n,r){return n="function"==typeof n?Bn(n,r,3):o,gn(t,yr(e),n)},Le.isNaN=function(t){return Qi(t)&&t!=+t},Le.isNative=$i,Le.isNull=function(t){return null===t},Le.isNumber=Qi,Le.isObject=Ji,Le.isPlainObject=Ki,Le.isRegExp=to,Le.isString=eo,Le.isTypedArray=no,Le.isUndefined=function(t){return t===o},Le.kebabCase=Io,Le.last=zr,Le.lastIndexOf=function(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?be(r+n,0):xe(n||0,r-1))+1;else if(n){var o=t[i=Rn(t,e,!0)-1];return(e==e?e===o:o!=o)?i:-1}if(e!=e)return Gt(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1},Le.lt=ro,Le.lte=function(t,e){return t<=e},Le.max=Vo,Le.min=Zo,Le.noConflict=function(){return Rt._=ee,this},Le.noop=Wo,Le.now=Ei,Le.pad=function(t,e,n){e=+e;var r=(t=Ft(t)).length;if(r>=e||!ye(e))return t;var i=(e-r)/2,o=me(i);return(n=ur("",pe(i),n)).slice(0,o)+t+n},Le.padLeft=Oo,Le.padRight=No,Le.parseInt=function(t,e,n){return(n?_r(t,e,n):null==e)?e=0:e&&(e=+e),t=Ro(t),_e(t,e||(ht.test(t)?16:10))},Le.random=function(t,e,n){n&&_r(t,e,n)&&(e=n=o);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var a=Pe();return xe(t+a*(e-t+oe("1e-"+((a+"").length-1))),e)}return Sn(t,e)},Le.reduce=wi,Le.reduceRight=_i,Le.repeat=Ao,Le.result=function(t,e,n){var r=null==t?o:t[e];return r===o&&(null==t||Pr(e,t)||(r=null==(t=1==(e=kr(e)).length?t:vn(t,En(e,0,-1)))?o:t[zr(e)]),r=r===o?n:r),Zi(r)?r.call(t):r},Le.round=Jo,Le.runInContext=t,Le.size=function(t){var e=t?vr(t):0;return Cr(e)?e:go(t).length},Le.snakeCase=Lo,Le.some=Si,Le.sortedIndex=Vr,Le.sortedLastIndex=Zr,Le.startCase=Mo,Le.startsWith=function(t,e,n){return t=Ft(t),n=null==n?0:xe(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n},Le.sum=function(t,e,n){return n&&_r(t,e,n)&&(e=o),1==(e=hr(e,n,3)).length?function(t,e){for(var n=t.length,r=0;n--;)r+=+e(t[n])||0;return r}(qi(t)?t:Mr(t),e):function(t,e){var n=0;return rn(t,function(t,r,i){n+=+e(t,r,i)||0}),n}(t,e)},Le.template=function(t,e,n){var r=Le.templateSettings;n&&_r(t,e,n)&&(e=n=o),t=Ft(t);var i,s,u=Ve(Ze({},(e=Ve(Ze({},n||e),r,Ge)).imports),r.imports,Ge),l=go(u),f=An(u,l),c=0,h=e.interpolate||vt,p="__p += '",d=Ct((e.escape||vt).source+"|"+h.source+"|"+(h===nt?ft:vt).source+"|"+(e.evaluate||vt).source+"|$","g"),m="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++xt+"]")+"\n";t.replace(d,function(e,n,r,o,a,u){return r||(r=o),p+=t.slice(c,u).replace(yt,qt),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),p+="';\n";var v=e.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(G,""):p).replace(V,"$1").replace(Z,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Bo(function(){return a(l,m+"return "+p).apply(o,f)});if(y.source=p,Vi(y))throw y;return y},Le.trim=Ro,Le.trimLeft=function(t,e,n){var r=t;return(t=Ft(t))?(n?_r(r,e,n):null==e)?t.slice($t(t)):t.slice(Xt(t,e+"")):t},Le.trimRight=function(t,e,n){var r=t;return(t=Ft(t))?(n?_r(r,e,n):null==e)?t.slice(0,Qt(t)+1):t.slice(0,Yt(t,e+"")+1):t},Le.trunc=function(t,e,n){n&&_r(t,e,n)&&(e=o);var r=g,i=b;if(null!=e)if(Ji(e)){var a="separator"in e?e.separator:a;r="length"in e?+e.length||0:r,i="omission"in e?Ft(e.omission):i}else r=+e||0;if(r>=(t=Ft(t)).length)return t;var s=r-i.length;if(s<1)return i;var u=t.slice(0,s);if(null==a)return u+i;if(to(a)){if(t.slice(s).search(a)){var l,f,c=t.slice(0,s);for(a.global||(a=Ct(a.source,(ct.exec(a)||"")+"g")),a.lastIndex=0;l=a.exec(c);)f=l.index;u=u.slice(0,null==f?s:f)}}else if(t.indexOf(a,s)!=s){var h=u.lastIndexOf(a);h>-1&&(u=u.slice(0,h))}return u+i},Le.unescape=function(t){return(t=Ft(t))&&Q.test(t)?t.replace(J,Kt):t},Le.uniqueId=function(t){var e=++Mt;return Ft(t)+e},Le.words=ko,Le.all=li,Le.any=Si,Le.contains=vi,Le.eq=Gi,Le.detect=ci,Le.foldl=wi,Le.foldr=_i,Le.head=jr,Le.include=vi,Le.inject=wi,jo(Le,(zo={},pn(Le,function(t,e){Le.prototype[e]||(zo[e]=t)}),zo),!1),Le.sample=Pi,Le.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Pi(e,t)}):Pi(this.value())},Le.VERSION=u,Xe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Le[t].placeholder=Le}),Xe(["drop","take"],function(t,e){ke.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new ke(this);n=null==n?1:be(me(n)||0,0);var i=this.clone();return r?i.__takeCount__=xe(i.__takeCount__,n):i.__views__.push({size:n,type:t+(i.__dir__<0?"Right":"")}),i},ke.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Xe(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n!=S;ke.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:hr(t,e,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),Xe(["first","last"],function(t,e){var n="take"+(e?"Right":"");ke.prototype[t]=function(){return this[n](1).value()[0]}}),Xe(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");ke.prototype[t]=function(){return this.__filtered__?new ke(this):this[n](1)}}),Xe(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?xn:Ho;ke.prototype[t]=function(t){return this[n](r(t))}}),ke.prototype.compact=function(){return this.filter(Uo)},ke.prototype.reject=function(t,e){return t=hr(t,e,1),this.filter(function(e){return!t(e)})},ke.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new ke(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=+e||0)<0?n.dropRight(-e):n.take(e-t)),n)},ke.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},ke.prototype.toArray=function(){return this.take(Ce)},pn(ke.prototype,function(t,e){var n=/^(?:filter|map|reject)|While$/.test(e),r=/^(?:first|last)$/.test(e),i=Le[r?"take"+("last"==e?"Right":""):e];i&&(Le.prototype[e]=function(){var e=r?[1]:arguments,a=this.__chain__,s=this.__wrapped__,u=!!this.__actions__.length,l=s instanceof ke,f=e[0],c=l||qi(s);c&&n&&"function"==typeof f&&1!=f.length&&(l=c=!1);var h=function(t){return r&&a?i(t,1)[0]:i.apply(o,He([t],e))},p={func:oi,args:[h],thisArg:o},d=l&&!u;if(r&&!a)return d?((s=s.clone()).__actions__.push(p),t.call(s)):i.call(o,this.value())[0];if(!r&&c){s=d?s:new ke(this);var m=t.apply(s,e);return m.__actions__.push(p),new Re(m,a)}return this.thru(h)})}),Xe(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?Nt:It)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);Le.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),pn(ke.prototype,function(t,e){var n=Le[e];if(n){var r=n.name;(Ae[r]||(Ae[r]=[])).push({name:e,func:n})}}),Ae[sr(o,f).name]=[{name:"wrapper",func:o}],ke.prototype.clone=function(){var t=new ke(this.__wrapped__);return t.__actions__=Fe(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Fe(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Fe(this.__views__),t},ke.prototype.reverse=function(){if(this.__filtered__){var t=new ke(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},ke.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=qi(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=xe(e,t+a);break;case"takeRight":t=be(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,f=this.__iteratees__,c=f.length,h=0,p=xe(u,this.__takeCount__);if(!n||i<_||i==u&&p==u)return Mn(r&&n?t.reverse():t,this.__actions__);var d=[];t:for(;u--&&h<p;){for(var m=-1,v=t[l+=e];++m<c;){var y=f[m],g=y.iteratee,b=y.type,x=g(v);if(b==S)v=x;else if(!x){if(b==P)continue t;break t}}d[h++]=v}return d},Le.prototype.chain=function(){return ii(this)},Le.prototype.commit=function(){return new Re(this.value(),this.__chain__)},Le.prototype.concat=ai,Le.prototype.plant=function(t){for(var e,n=this;n instanceof Me;){var r=Br(n);e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Le.prototype.reverse=function(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof ke){var n=t;return this.__actions__.length&&(n=new ke(this)),(n=n.reverse()).__actions__.push({func:oi,args:[e],thisArg:o}),new Re(n,this.__chain__)}return this.thru(e)},Le.prototype.toString=function(){return this.value()+""},Le.prototype.run=Le.prototype.toJSON=Le.prototype.valueOf=Le.prototype.value=function(){return Mn(this.__wrapped__,this.__actions__)},Le.prototype.collect=Le.prototype.map,Le.prototype.head=Le.prototype.first,Le.prototype.select=Le.prototype.filter,Le.prototype.tail=Le.prototype.rest,Le}();Rt._=te,(i=function(){return te}.call(e,n,e,t))===o||(t.exports=i)}).call(this)}).call(this,n(15)(t),n(3))},function(t,e){},function(t,e,n){"use strict";var r=n(40);function i(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(e){t[n]=e},enumerable:!0,configurable:!0})}function o(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++)this.glyphs[n]=e[n];this.length=e&&e.length||0}o.prototype.get=function(t){return"function"==typeof this.glyphs[t]&&(this.glyphs[t]=this.glyphs[t]()),this.glyphs[t]},o.prototype.push=function(t,e){this.glyphs[t]=e,this.length++},e.GlyphSet=o,e.glyphLoader=function(t,e){return new r.Glyph({index:e,font:t})},e.ttfGlyphLoader=function(t,e,n,o,a,s){return function(){var u=new r.Glyph({index:e,font:t});return u.path=function(){n(u,o,a);var e=s(t.glyphs,u);return e.unitsPerEm=t.unitsPerEm,e},i(u,"xMin","_xMin"),i(u,"xMax","_xMax"),i(u,"yMin","_yMin"),i(u,"yMax","_yMax"),u}},e.cffGlyphLoader=function(t,e,n,i){return function(){var o=new r.Glyph({index:e,font:t});return o.path=function(){var e=n(t,o,i);return e.unitsPerEm=t.unitsPerEm,e},o}}},function(t,e,n){"use strict";function r(t){return t/180*Math.PI}t.exports={degrees:function(t){return 180*t/Math.PI},radians:r,distance:function(t,e,n,r){return Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2))},clamp:function(t,e,n){return Math.min(n,Math.max(e,t))},transform:function t(e){function n(e,n){var r=(n=n.slice())[0],i=n[1],o=(n[2],n[3]),a=n[4],s=(n[5],n[6]),u=n[7];return n[8],n[0]=e[0]*r+e[1]*o,n[1]=e[0]*i+e[1]*a,n[3]=e[3]*r+e[4]*o,n[4]=e[3]*i+e[4]*a,n[6]=e[6]*r+e[7]*o+s,n[7]=e[6]*i+e[7]*a+u,t(n)}return e=void 0===e?[1,0,0,0,1,0,0,0,1]:e.slice(),{matrix:function(){return e.slice()},clone:function(){return t(e)},prepend:function(t){return t.matrix&&(t=t.matrix()),n(e,t)},append:function(t){return t.matrix&&(t=t.matrix()),n(t,e)},translate:function(t,r){return n([1,0,0,0,1,0,t,r,1],e)},scale:function(t,r){return void 0===r&&(r=t),n([t,0,0,0,r,0,0,0,1],e)},skew:function(t,r){void 0===r&&(r=t);var i=Math.PI*t/180,o=Math.PI*r/180;return n([1,Math.tan(o),0,-Math.tan(i),1,0,0,0,1],e)},rotate:function(t){var i=Math.cos(r(t)),o=Math.sin(r(t));return n([i,o,0,-o,i,0,0,0,1],e)},transformPoint:function(t){var n=t.x,r=t.y;return{x:n*e[0]+r*e[3]+e[6],y:n*e[1]+r*e[4]+e[7]}}}}}},function(t,e,n){"use strict";var r,i,o,a,s=n(26),u=n(50),l=n(94),f="path",c="image",h="htmlCanvas",p="iCanvas",d="fill",m="gradient",v=s.transform(),y=v,g=s.clamp,b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"];function x(t,e,n,r,i){var o,a,s,u,l;if(void 0===t)o=a=s=0,u=1;else if(Array.isArray(t))l=e||{},o=void 0!==t[0]?t[0]:0,a=void 0!==t[1]?t[1]:0,s=void 0!==t[2]?t[2]:0,u=void 0!==t[3]?t[3]:l.base||1;else if(void 0!==t.r)l=e||{},o=t.r,a=t.g,s=t.b,u=void 0!==t.a?t.a:l.base||1;else if("string"==typeof t){if(0===t.indexOf("#"))return t;if(0===t.indexOf("rgb"))return t;if(-1!==b.indexOf(t))return t}else"number"==typeof t&&(1===arguments.length?(o=a=s=t,u=1):2===arguments.length?(o=a=s=t,u="number"==typeof e?e:(l=e).base||1):3===arguments.length?"number"==typeof n?(o=t,a=e,s=n,u=1):(o=a=s=t,u=e,l=n):4===arguments.length?(o=t,a=e,s=n,u="number"==typeof r?r:(l=r||{}).base||1):(o=t,a=e,s=n,u=r,l=i));if("number"!=typeof o||"number"!=typeof a||"number"!=typeof s||"number"!=typeof u)throw new Error("Invalid color arguments");return void 0!==(l=l||{}).base&&(o/=l.base,a/=l.base,s/=l.base,u/=l.base),"rgba("+Math.round(255*o)+", "+Math.round(255*a)+", "+Math.round(255*s)+", "+u+")"}function w(t,e,n,r,i){var o,a,s,u,l,f,c={};if(1===arguments.length)o=(f=t||{}).startColor,a=f.endColor,s=f.type,u=f.rotation,l=f.spread;else if(arguments.length>=2)if(o=t,a=e,s="linear",u=0,l=0,3===arguments.length)"string"==typeof n?s=n:"number"==typeof n&&(u=n);else if(4===arguments.length)if("number"==typeof n)u=n,l=r;else if("linear"===n)u=r;else{if("radial"!==n)throw new Error("Wrong argument provided: "+n);s=n,l=r}else 5===arguments.length&&(s=n,u=r,l=i);if(!o&&0!==o)throw new Error("No startColor was given.");if(!a&&0!==a)throw new Error("No endColor was given.");try{c.startColor=x(o)}catch(t){throw new Error("startColor is not a valid color: "+o)}try{c.endColor=x(a)}catch(t){throw new Error("endColor is not a valid color: "+a)}if(void 0===s&&(s="linear"),"linear"!==s&&"radial"!==s)throw new Error("Unknown gradient type: "+s);if(c.type=s,void 0===l&&(l=0),"number"!=typeof l)throw new Error("Spread value is not a number: "+l);if("linear"===s){if(void 0===u&&(u=0),"number"!=typeof u)throw new Error("Rotation value is not a number: "+u);c.rotation=u}return c.spread=g(l,0,.99),c}(o=function(t,e){e||(e=function(t){if("string"==typeof t)return f;if(t instanceof Image)return c;if(t instanceof HTMLCanvasElement)return h;if(t instanceof i)return p;if(void 0!==t.r&&void 0!==t.g&&void 0!==t.b&&void 0!==t.a)return d;if(void 0!==t.startColor&&void 0!==t.endColor)return m;throw new Error("Cannot establish type for data ",t)}(t)),this.data=t,this.type=e,e!==h&&e!==p&&e!==c||(this.width=t.width,this.height=t.height),this.opacity=1,this.blendmode="source-over",this.transform=v,this.flip_h=!1,this.flip_v=!1,this.mask=new i,this.filters=[]}).Transform=o.IDENTITY_TRANSFORM=v,o.prototype.clone=function(){function t(t){var e,n,r={};if(r.name=t.name,void 0!==t.options){r.options={};for(var i=Object.keys(t.options),o=0;o<i.length;o+=1)e=i[o],n=t.options[e],Array.isArray(n)?r.options[e]=n.slice(0):r.options[e]=n}return r}var e=Object.create(o.prototype);e.data=this.data,e.type=this.type,e.width=this.width,e.height=this.height,e.opacity=this.opacity,e.blendmode=this.blendmode,e.transform=this.transform,e.flip_h=this.flip_h,e.flip_v=this.flip_v,e.mask=this.mask.clone(),e.filters=[],this.type===p?e.data=this.data.clone():this.type===m&&(e.data={startColor:this.data.startColor,endColor:this.data.endColor,type:this.data.type,rotation:this.data.rotation,spread:this.data.spread});for(var n=0;n<this.filters.length;n+=1)e.filters.push(t(this.filters[n]));return e},o.prototype.setOpacity=function(t){this.opacity=g(t,0,1)},o.prototype.translate=function(t,e){e=void 0===e?0:e;var n=y.translate(t,e);this.transform=this.transform.prepend(n)},o.prototype.scale=function(t,e){e=void 0===e?t:e;var n=y.scale(t,e);this.transform=this.transform.prepend(n)},o.prototype.rotate=function(t){var e=y.rotate(t);this.transform=this.transform.prepend(e)},o.prototype.skew=function(t,e){e=void 0===e?t:e;var n=y.skew(t,e);this.transform=this.transform.prepend(n)},o.prototype.flipHorizontal=function(t){this.flip_h=void 0!==t?t:!this.flip_h},o.prototype.flipVertical=function(t){this.flip_v=void 0!==t?t:!this.flip_v},o.prototype.addFilter=function(t,e){this.filters.push({name:t,options:e})},o.prototype.draw=function(t){var e=void 0===this.width?800:this.width,n=void 0===this.height?800:this.height,r=new i(e,n);r.addLayer(this),r.draw(t)},o.prototype.toCanvas=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height;var e=t.getContext("2d");return this.draw(e),t},o.fromFile=function(t){return new o(t,f)},o.fromImage=function(t){return new o(t,c)},o.fromCanvas=function(t){return t instanceof HTMLCanvasElement?o.fromHtmlCanvas(t):o.fromImageCanvas(t)},o.fromHtmlCanvas=function(t){return new o(t,h)},o.fromImageCanvas=function(t){return new o(t,p)},o.fromColor=function(t){return new o(x(t),d)},o.fromGradient=function(){return new o(w.apply(null,arguments),m)},o.prototype.isPath=function(){return this.type===f},o.prototype.isFill=function(){return this.type===d},o.prototype.isGradient=function(){return this.type===m},o.prototype.isHtmlCanvas=function(){return this.type===h},o.prototype.isImage=function(){return this.type===c},o.prototype.isImageCanvas=function(){return this.type===p};var _=function(t){this.width=t.width,this.height=t.height;var e=t.getContext("2d");this._data=e.getImageData(0,0,this.width,this.height),this.array=this._data.data};function P(t){return{x:t,y:t}}function S(t){return void 0!==t&&null!==t}function C(t){return Array.isArray(t)?function(t){var e=t[0];return{x:e,y:t.length>1?t[1]:e}}(t):"number"==typeof t?P(t):function(t){return!!t&&void 0!==t.x&&void 0!==t.y}(t)?t:void 0}_.prototype.get=function(t){t*=4;var e=this.array;return[e[t+0],e[t+1],e[t+2],e[t+3]]},_.prototype.set=function(t,e){t*=4;var n=this.array;n[t+0]=e[0],n[t+1]=e[1],n[t+2]=e[2],n[t+3]=e[3]},_.prototype.toCanvas=function(){var t=document.createElement("canvas");return t.width=this.width,t.height=this.height,t.getContext("2d").putImageData(this._data,0,0),t},(i=function(t,e){t||(t=800),e||(e=800),this.width=t,this.height=e,this.layers=[]}).prototype.clone=function(){for(var t=new i(this.width,this.height),e=0;e<this.layers.length;e+=1)t.layers.push(this.layers[e].clone());return t},i.prototype.addLayer=function(t){var e;try{return this.addGradientLayer.apply(this,arguments)}catch(t){}try{return this.addColorLayer.apply(this,arguments)}catch(t){}if(1===arguments.length&&("string"==typeof t?e=new o(t,f):t instanceof o?e=t:t instanceof HTMLCanvasElement?e=new o(t,h):t instanceof Image?e=new o(t,c):t instanceof i&&(e=new o(t,p))),!e)throw new Error("Error creating layer.");return this.layers.push(e),e},i.prototype.addColorLayer=function(){var t=x.apply(null,arguments),e=new o(t,d);return this.layers.push(e),e},i.prototype.addGradientLayer=function(){var t=w.apply(null,arguments),e=new o(t,m);return this.layers.push(e),e},i.prototype.render=function(t){return(t?l:u).render(this,t)},i.prototype.draw=function(t,e){if(e)this.render(function(e){t.drawImage(e,0,0,e.width,e.height)});else{var n=this.render();t.drawImage(n,0,0,n.width,n.height)}},(a=function(t,e,n){this.canvas=t,this.originalWidth=t?t.width:0,this.originalHeight=t?t.height:0,this.transform=e||n?y.translate(e,n):o.IDENTITY_TRANSFORM}).prototype.clone=function(){var t=new a;return t.canvas=this.canvas,t.originalWidth=this.originalWidth,t.originalHeight=this.originalHeight,t.transform=this.transform,t},a.prototype.withCanvas=function(t){var e=this.clone();return e.canvas=t,e},a.prototype._transform=function(t){var e=this.clone();return e.transform=e.transform.prepend(t),e},a.prototype.translate=function(t){var e=P(0),n=arguments;return 1===n.length&&S(t)?e=C(t):2===n.length&&(e={x:n[0],y:n[1]}),0===e.x&&0===e.y?this:this._transform(y.translate(e.x,e.y))},a.prototype.rotate=function(t){if(!t)return this;var e=P(0),n=arguments;return 2===n.length?e=C(n[1]):3===n.length&&(e={x:n[1],y:n[2]}),this._transform(y.translate(e.x,e.y).rotate(t).translate(-e.x,-e.y))},a.prototype.scale=function(t){var e=P(1),n=P(0),r=arguments;return 1===r.length&&S(t)?e=C(t):2===r.length?"number"==typeof t&&"number"==typeof r[1]?e={x:r[0],y:r[1]}:(e=C(t),n=C(r[1])):4===r.length&&(e={x:r[0],y:r[1]},n={x:r[2],y:r[3]}),1===e.x&&1===e.y?this:this._transform(y.translate(n.x,n.y).scale(e.x,e.y).translate(-n.x,-n.y))},a.prototype.skew=function(t){var e=P(0),n=P(0),r=arguments;return 1===r.length&&S(t)?e=C(t):2===r.length?"number"==typeof t&&"number"==typeof r[1]?e={x:r[0],y:r[1]}:(e=C(t),n=C(r[1])):4===r.length&&(e={x:r[0],y:r[1]},n={x:r[2],y:r[3]}),0===e.x&&0===e.y?this:this._transform(y.translate(n.x,n.y).skew(e.x,e.y).translate(-n.x,-n.y))},a.prototype.transformed=function(){return r.merge([this])},a.prototype.bounds=function(){for(var t,e,n,r,i,o=this.transform,a=this.originalWidth/2,s=this.originalHeight/2,u=[{x:-a,y:-s},{x:a,y:-s},{x:-a,y:s},{x:a,y:s}],l=0;l<4;l+=1)t=o.transformPoint(u[l]),0===l?(e=r=t.x,n=i=t.y):(t.x<e&&(e=t.x),t.x>r&&(r=t.x),t.y<n&&(n=t.y),t.y>i&&(i=t.y));return{x:e,y:n,width:r-e,height:i-n}},a.prototype.colorize=function(t){var e=o.fromColor(t);e.width=this.originalWidth,e.height=this.originalHeight;var n=new a(e.toCanvas());return n=n._transform(this.transform.matrix()),r.merge([this,n])},a.prototype.desaturate=function(t){var e=this.toLayer(!1);return e.addFilter("desaturate",t),this.withCanvas(e.toCanvas())},a.prototype.crop=function(t){var e,n,i,o,s,u,l,f,c=this.bounds(),h=t.bounds(),p=(n=h,i=(e=c).x+e.width,o=e.y+e.height,s=n.x+n.width,u=n.y+n.height,l=Math.max(e.x,n.x),f=Math.max(e.y,n.y),{x:l,y:f,width:Math.max(Math.min(i,s)-l,0),height:Math.max(Math.min(o,u)-f,0)}),d=Math.ceil(p.width),m=Math.ceil(p.height);if(0===p.width||0===p.height)throw new Error("Resulting image has no dimensions");var v=new r.ImageCanvas(d,m),y=v.addLayer(this.toLayer());return y.translate(d/2-h.width-h.x,m/2-h.height-h.y),d<h.width&&p.x>c.x&&y.translate(h.width-d,0),m<h.height&&p.y>c.y&&y.translate(0,h.height-m),new a(v.render(),p.x+d/2,p.y+m/2)},a.prototype.draw=function(t){t.save();var e=this.transform.matrix();t.transform(e[0],e[1],e[3],e[4],e[6],e[7]),t.translate(-this.originalWidth/2,-this.originalHeight/2),t.drawImage(this.canvas,0,0),t.restore()},a.prototype.toLayer=function(t){var e=document.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,e.getContext("2d").drawImage(this.canvas,0,0);var n=r.Layer.fromHtmlCanvas(e);return void 0===t&&(t=!0),t&&(n.transform=this.transform),n},a.prototype.getPixels=function(){return new _(this.canvas)},a.prototype.toImage=function(){var t=this.bounds(),e=this.crop({bounds:function(){return t}}),n=new Image;return n.width=e.canvas.width,n.height=e.canvas.height,n.src=e.canvas.toDataURL(),n},(r={}).Layer=o,r.ImageCanvas=i,r.Img=a,r.Pixels=_;var E=n(48);function T(t,e){var n=new Image;n.onload=function(){e(null,[t,this])},n.src=t}r.loadImages=function(t,e){E.map(t,T,function(t,n){if(e){for(var r,i,o={},a=0;a<n.length;a+=1)r=n[a][0],i=n[a][1],o[r]=i;e(o)}})},r.merge=function(t){var e,n,r,o,s,u,l;for(e=0;e<t.length;e+=1)n=t[e],0===e?r=n.bounds():(o=r,s=n.bounds(),u=Math.min(o.x,s.x),l=Math.min(o.y,s.y),r={x:u,y:l,width:Math.max(o.x+o.width,s.x+s.width)-u,height:Math.max(o.y+o.height,s.y+s.height)-l});var f=r.width/2+r.x,c=r.height/2+r.y,h=new i(r.width,r.height);for(e=0;e<t.length;e+=1)h.addLayer(t[e].toLayer()).translate(-f,-c);return new a(h.render(),f,c)},t.exports=r},function(t,e,n){(function(e){var n=9007199254740991,r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,u=a||s||Function("return this")();function l(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var f=Object.prototype,c=f.hasOwnProperty,h=f.toString,p=u.Symbol,d=f.propertyIsEnumerable,m=p?p.isConcatSpreadable:void 0;function v(t){return y(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?h.call(t):"";return e==i||e==o}(t)}(t)}(t)&&c.call(t,"callee")&&(!d.call(t,"callee")||h.call(t)==r)}(t)||!!(m&&t&&t[m])}var y=Array.isArray;t.exports=function(t){return t&&t.length?function t(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=v),o||(o=[]);++a<s;){var u=e[a];n>0&&r(u)?n>1?t(u,n-1,r,i,o):l(o,u):i||(o[o.length]=u)}return o}(t,1):[]}}).call(this,n(3))},function(t,e,n){"use strict";(function(t){e.isBrowser=function(){return"undefined"!=typeof window},e.isNode=function(){return"undefined"==typeof window},e.nodeBufferToArrayBuffer=function(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r<t.length;++r)n[r]=t[r];return e},e.arrayBufferToNodeBuffer=function(e){for(var n=new t(e.byteLength),r=new Uint8Array(e),i=0;i<n.length;++i)n[i]=r[i];return n},e.checkArgument=function(t,e){if(!t)throw e}}).call(this,n(76).Buffer)},function(t,e,n){"use strict";var r=n(16).decode,i=n(1),o=n(0),a=n(2);e.parse=function(t,e){var n=new o.Parser(t,e),a=n.parseULong();i.argument(1===a,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var s=n.parseULong(),u={},l=0;l<s;l++){var f=n.parseTag(),c=n.parseULong(),h=n.parseULong(),p=r.UTF8(t,e+c,h);u[f]=p}return u},e.make=function(t){var e=Object.keys(t).length,n="",r=16+12*e,i=new a.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var o in t){var s=n.length;n+=t[o],i.fields.push({name:"tag "+o,type:"TAG",value:o}),i.fields.push({name:"offset "+o,type:"ULONG",value:r+s}),i.fields.push({name:"length "+o,type:"ULONG",value:t[o].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}},function(t,e,n){"use strict";var r=n(1),i=n(0).Parser,o=new Array(9),a=n(2);o[1]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();return 1===e?{substFormat:1,coverage:this.parsePointer(i.coverage),deltaGlyphId:this.parseUShort()}:2===e?{substFormat:2,coverage:this.parsePointer(i.coverage),substitute:this.parseOffset16List()}:void r.assert(!1,"0x"+t.toString(16)+": lookup type 1 format must be 1 or 2.")},o[2]=function(){var t=this.parseUShort();return r.argument(1===t,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(i.coverage),sequences:this.parseListOfLists()}},o[3]=function(){var t=this.parseUShort();return r.argument(1===t,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(i.coverage),alternateSets:this.parseListOfLists()}},o[4]=function(){var t=this.parseUShort();return r.argument(1===t,"GSUB ligature table identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(i.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var s={sequenceIndex:i.uShort,lookupListIndex:i.uShort};o[5]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(1===e)return{substFormat:e,coverage:this.parsePointer(i.coverage),ruleSets:this.parseListOfLists(function(){var t=this.parseUShort(),e=this.parseUShort();return{input:this.parseUShortList(t-1),lookupRecords:this.parseRecordList(e,s)}})};if(2===e)return{substFormat:e,coverage:this.parsePointer(i.coverage),classDef:this.parsePointer(i.classDef),classSets:this.parseListOfLists(function(){var t=this.parseUShort(),e=this.parseUShort();return{classes:this.parseUShortList(t-1),lookupRecords:this.parseRecordList(e,s)}})};if(3===e){var n=this.parseUShort(),o=this.parseUShort();return{substFormat:e,coverages:this.parseList(n,i.pointer(i.coverage)),lookupRecords:this.parseRecordList(o,s)}}r.assert(!1,"0x"+t.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},o[6]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();return 1===e?{substFormat:1,coverage:this.parsePointer(i.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(s)}})}:2===e?{substFormat:2,coverage:this.parsePointer(i.coverage),backtrackClassDef:this.parsePointer(i.classDef),inputClassDef:this.parsePointer(i.classDef),lookaheadClassDef:this.parsePointer(i.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(s)}})}:3===e?{substFormat:3,backtrackCoverage:this.parseList(i.pointer(i.coverage)),inputCoverage:this.parseList(i.pointer(i.coverage)),lookaheadCoverage:this.parseList(i.pointer(i.coverage)),lookupRecords:this.parseRecordList(s)}:void r.assert(!1,"0x"+t.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},o[7]=function(){var t=this.parseUShort();r.argument(1===t,"GSUB Extension Substitution subtable identifier-format must be 1");var e=this.parseUShort(),n=new i(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:e,extension:o[e].call(n)}},o[8]=function(){var t=this.parseUShort();return r.argument(1===t,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(i.coverage),backtrackCoverage:this.parseList(i.pointer(i.coverage)),lookaheadCoverage:this.parseList(i.pointer(i.coverage)),substitutes:this.parseUShortList()}};var u=new Array(9);u[1]=function(t){return 1===t.substFormat?new a.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new a.Coverage(t.coverage)},{name:"deltaGlyphID",type:"USHORT",value:t.deltaGlyphId}]):new a.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new a.Coverage(t.coverage)}].concat(a.ushortList("substitute",t.substitute)))},u[3]=function(t){return r.assert(1===t.substFormat,"Lookup type 3 substFormat must be 1."),new a.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new a.Coverage(t.coverage)}].concat(a.tableList("altSet",t.alternateSets,function(t){return new a.Table("alternateSetTable",a.ushortList("alternate",t))})))},u[4]=function(t){return r.assert(1===t.substFormat,"Lookup type 4 substFormat must be 1."),new a.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new a.Coverage(t.coverage)}].concat(a.tableList("ligSet",t.ligatureSets,function(t){return new a.Table("ligatureSetTable",a.tableList("ligature",t,function(t){return new a.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:t.ligGlyph}].concat(a.ushortList("component",t.components,t.components.length+1)))}))})))},e.parse=function(t,e){var n=new i(t,e=e||0),a=n.parseVersion();return r.argument(1===a,"Unsupported GSUB table version."),{version:a,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(o)}},e.make=function(t){return new a.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new a.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new a.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new a.LookupList(t.lookups,u)}])}},function(t,e,n){"use strict";var r=n(17),i=n(0),o=n(2);e.parse=function(t,e){var n,o={},a=new i.Parser(t,e);switch(o.version=a.parseVersion(),o.italicAngle=a.parseFixed(),o.underlinePosition=a.parseShort(),o.underlineThickness=a.parseShort(),o.isFixedPitch=a.parseULong(),o.minMemType42=a.parseULong(),o.maxMemType42=a.parseULong(),o.minMemType1=a.parseULong(),o.maxMemType1=a.parseULong(),o.version){case 1:o.names=r.standardNames.slice();break;case 2:for(o.numberOfGlyphs=a.parseUShort(),o.glyphNameIndex=new Array(o.numberOfGlyphs),n=0;n<o.numberOfGlyphs;n++)o.glyphNameIndex[n]=a.parseUShort();for(o.names=[],n=0;n<o.numberOfGlyphs;n++)if(o.glyphNameIndex[n]>=r.standardNames.length){var s=a.parseChar();o.names.push(a.parseString(s))}break;case 2.5:for(o.numberOfGlyphs=a.parseUShort(),o.offset=new Array(o.numberOfGlyphs),n=0;n<o.numberOfGlyphs;n++)o.offset[n]=a.parseChar()}return o},e.make=function(){return new o.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},function(t,e,n){"use strict";var r=n(0),i=n(2),o=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];e.unicodeRanges=o,e.getUnicodeRange=function(t){for(var e=0;e<o.length;e+=1){var n=o[e];if(t>=n.begin&&t<n.end)return e}return-1},e.parse=function(t,e){var n={},i=new r.Parser(t,e);n.version=i.parseUShort(),n.xAvgCharWidth=i.parseShort(),n.usWeightClass=i.parseUShort(),n.usWidthClass=i.parseUShort(),n.fsType=i.parseUShort(),n.ySubscriptXSize=i.parseShort(),n.ySubscriptYSize=i.parseShort(),n.ySubscriptXOffset=i.parseShort(),n.ySubscriptYOffset=i.parseShort(),n.ySuperscriptXSize=i.parseShort(),n.ySuperscriptYSize=i.parseShort(),n.ySuperscriptXOffset=i.parseShort(),n.ySuperscriptYOffset=i.parseShort(),n.yStrikeoutSize=i.parseShort(),n.yStrikeoutPosition=i.parseShort(),n.sFamilyClass=i.parseShort(),n.panose=[];for(var o=0;o<10;o++)n.panose[o]=i.parseByte();return n.ulUnicodeRange1=i.parseULong(),n.ulUnicodeRange2=i.parseULong(),n.ulUnicodeRange3=i.parseULong(),n.ulUnicodeRange4=i.parseULong(),n.achVendID=String.fromCharCode(i.parseByte(),i.parseByte(),i.parseByte(),i.parseByte()),n.fsSelection=i.parseUShort(),n.usFirstCharIndex=i.parseUShort(),n.usLastCharIndex=i.parseUShort(),n.sTypoAscender=i.parseShort(),n.sTypoDescender=i.parseShort(),n.sTypoLineGap=i.parseShort(),n.usWinAscent=i.parseUShort(),n.usWinDescent=i.parseUShort(),n.version>=1&&(n.ulCodePageRange1=i.parseULong(),n.ulCodePageRange2=i.parseULong()),n.version>=2&&(n.sxHeight=i.parseShort(),n.sCapHeight=i.parseShort(),n.usDefaultChar=i.parseUShort(),n.usBreakChar=i.parseUShort(),n.usMaxContent=i.parseUShort()),n},e.make=function(t){return new i.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}},function(t,e,n){"use strict";var r=n(16),i=r.decode,o=r.encode,a=n(0),s=n(2),u=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],l={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},f={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},c={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function h(t,e,n){switch(t){case 0:if(65535===e)return"und";if(n)return n[e];break;case 1:return l[e];case 3:return c[e]}}var p="utf-16",d={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},m={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function v(t,e,n){switch(t){case 0:return p;case 1:return m[n]||d[e];case 3:if(1===e||10===e)return p}}function y(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function g(t,e,n,r,i,o){return new s.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:o}])}function b(t,e){var n=function(t,e){var n=t.length,r=e.length-n+1;t:for(var i=0;i<r;i++)for(;i<r;i++){for(var o=0;o<n;o++)if(e[i+o]!==t[o])continue t;return i}return-1}(t,e);if(n<0){n=e.length;for(var r=0,i=t.length;r<i;++r)e.push(t[r])}return n}e.parse=function(t,e,n){for(var r={},o=new a.Parser(t,e),s=o.parseUShort(),l=o.parseUShort(),f=o.offset+o.parseUShort(),c=0;c<l;c++){var d,m=o.parseUShort(),y=o.parseUShort(),g=o.parseUShort(),b=o.parseUShort(),x=u[b]||b,w=o.parseUShort(),_=o.parseUShort(),P=h(m,g,n),S=v(m,y,g);if(void 0!==S&&void 0!==P&&(d=S===p?i.UTF16(t,f+_,w):i.MACSTRING(t,f+_,w,S))){var C=r[x];void 0===C&&(C=r[x]={}),C[P]=d}}return 1===s&&o.parseUShort(),r},e.make=function(t,e){var n,r=[],i={},a=y(u);for(var h in t){var p=a[h];if(void 0===p&&(p=h),n=parseInt(p),isNaN(n))throw new Error('Name table entry "'+h+'" does not exist, see nameTableNames for complete list.');i[n]=t[h],r.push(n)}for(var d=y(l),m=y(c),x=[],w=[],_=0;_<r.length;_++){var P=i[n=r[_]];for(var S in P){var C=P[S],E=1,T=d[S],I=f[T],O=v(E,I,T),N=o.MACSTRING(C,O);void 0===N&&(E=0,(T=e.indexOf(S))<0&&(T=e.length,e.push(S)),I=4,N=o.UTF16(C));var A=b(N,w);x.push(g(E,I,T,n,N.length,A));var L=m[S];if(void 0!==L){var M=o.UTF16(C),R=b(M,w);x.push(g(3,1,L,n,M.length,R))}}}x.sort(function(t,e){return t.platformID-e.platformID||t.encodingID-e.encodingID||t.languageID-e.languageID||t.nameID-e.nameID});for(var k=new s.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:x.length},{name:"stringOffset",type:"USHORT",value:6+12*x.length}]),B=0;B<x.length;B++)k.fields.push({name:"record_"+B,type:"RECORD",value:x[B]});return k.fields.push({name:"strings",type:"LITERAL",value:w}),k}},function(t,e,n){"use strict";var r=n(0),i=n(2);e.parse=function(t,e){var n={},i=new r.Parser(t,e);return n.version=i.parseVersion(),n.numGlyphs=i.parseUShort(),1===n.version&&(n.maxPoints=i.parseUShort(),n.maxContours=i.parseUShort(),n.maxCompositePoints=i.parseUShort(),n.maxCompositeContours=i.parseUShort(),n.maxZones=i.parseUShort(),n.maxTwilightPoints=i.parseUShort(),n.maxStorage=i.parseUShort(),n.maxFunctionDefs=i.parseUShort(),n.maxInstructionDefs=i.parseUShort(),n.maxStackElements=i.parseUShort(),n.maxSizeOfInstructions=i.parseUShort(),n.maxComponentElements=i.parseUShort(),n.maxComponentDepth=i.parseUShort()),n},e.make=function(t){return new i.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}},function(t,e,n){"use strict";var r=n(1),i=n(0),o=n(2);e.make=function(t){for(var e=new o.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",r=12+4*t.length,i=0;i<t.length;++i){var a=n.indexOf(t[i]);a<0&&(a=n.length,n+=t[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+a}),e.fields.push({name:"length "+i,type:"USHORT",value:t[i].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e},e.parse=function(t,e){var n=new i.Parser(t,e),o=n.parseULong();r.argument(1===o,"Unsupported ltag table version."),n.skip("uLong",1);for(var a=n.parseULong(),s=[],u=0;u<a;u++){for(var l="",f=e+n.parseUShort(),c=n.parseUShort(),h=f;h<f+c;++h)l+=String.fromCharCode(t.getInt8(h));s.push(l)}return s}},function(t,e,n){"use strict";var r=n(0),i=n(2);e.parse=function(t,e,n,i,o){for(var a,s,u=new r.Parser(t,e),l=0;l<i;l+=1){l<n&&(a=u.parseUShort(),s=u.parseShort());var f=o.get(l);f.advanceWidth=a,f.leftSideBearing=s}},e.make=function(t){for(var e=new i.Table("hmtx",[]),n=0;n<t.length;n+=1){var r=t.get(n),o=r.advanceWidth||0,a=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:o}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:a})}return e}},function(t,e,n){"use strict";var r=n(0),i=n(2);e.parse=function(t,e){var n={},i=new r.Parser(t,e);return n.version=i.parseVersion(),n.ascender=i.parseShort(),n.descender=i.parseShort(),n.lineGap=i.parseShort(),n.advanceWidthMax=i.parseUShort(),n.minLeftSideBearing=i.parseShort(),n.minRightSideBearing=i.parseShort(),n.xMaxExtent=i.parseShort(),n.caretSlopeRise=i.parseShort(),n.caretSlopeRun=i.parseShort(),n.caretOffset=i.parseShort(),i.relativeOffset+=8,n.metricDataFormat=i.parseShort(),n.numberOfHMetrics=i.parseUShort(),n},e.make=function(t){return new i.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}},function(t,e,n){"use strict";var r=n(1),i=n(0),o=n(2);e.parse=function(t,e){var n={},o=new i.Parser(t,e);return n.version=o.parseVersion(),n.fontRevision=Math.round(1e3*o.parseFixed())/1e3,n.checkSumAdjustment=o.parseULong(),n.magicNumber=o.parseULong(),r.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),n.flags=o.parseUShort(),n.unitsPerEm=o.parseUShort(),n.created=o.parseLongDateTime(),n.modified=o.parseLongDateTime(),n.xMin=o.parseShort(),n.yMin=o.parseShort(),n.xMax=o.parseShort(),n.yMax=o.parseShort(),n.macStyle=o.parseUShort(),n.lowestRecPPEM=o.parseUShort(),n.fontDirectionHint=o.parseShort(),n.indexToLocFormat=o.parseShort(),n.glyphDataFormat=o.parseShort(),n},e.make=function(t){var e=Math.round((new Date).getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new o.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}},function(t,e,n){"use strict";var r=n(1),i=n(79),o=n(13);function a(t){this.bindConstructorValues(t)}a.prototype.bindConstructorValues=function(t){var e,n;this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||void 0!==t.unicode?[t.unicode]:[],t.xMin&&(this.xMin=t.xMin),t.yMin&&(this.yMin=t.yMin),t.xMax&&(this.xMax=t.xMax),t.yMax&&(this.yMax=t.yMax),t.advanceWidth&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",(e=t.path,n=e||{commands:[]},{configurable:!0,get:function(){return"function"==typeof n&&(n=n()),n},set:function(t){n=t}}))},a.prototype.addUnicode=function(t){0===this.unicodes.length&&(this.unicode=t),this.unicodes.push(t)},a.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},a.prototype.getPath=function(t,e,n,r){t=void 0!==t?t:0,e=void 0!==e?e:0,r=void 0!==r?r:{xScale:1,yScale:1},n=void 0!==n?n:72;for(var i=1/this.path.unitsPerEm*n,a=r.xScale*i,s=r.yScale*i,u=new o.Path,l=this.path.commands,f=0;f<l.length;f+=1){var c=l[f];"M"===c.type?u.moveTo(t+c.x*a,e+-c.y*s):"L"===c.type?u.lineTo(t+c.x*a,e+-c.y*s):"Q"===c.type?u.quadraticCurveTo(t+c.x1*a,e+-c.y1*s,t+c.x*a,e+-c.y*s):"C"===c.type?u.curveTo(t+c.x1*a,e+-c.y1*s,t+c.x2*a,e+-c.y2*s,t+c.x*a,e+-c.y*s):"Z"===c.type&&u.closePath()}return u},a.prototype.getContours=function(){if(void 0===this.points)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var i=this.points[n];e.push(i),i.lastPointOfContour&&(t.push(e),e=[])}return r.argument(0===e.length,"There are still points left in the current contour."),t},a.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];"Z"!==i.type&&(e.push(i.x),n.push(i.y)),"Q"!==i.type&&"C"!==i.type||(e.push(i.x1),n.push(i.y1)),"C"===i.type&&(e.push(i.x2),n.push(i.y2))}var o={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o},a.prototype.draw=function(t,e,n,r,i){this.getPath(e,n,r,i).draw(t)},a.prototype.drawPoints=function(t,e,n,r){function i(e,n,r,i){var o=2*Math.PI;t.beginPath();for(var a=0;a<e.length;a+=1)t.moveTo(n+e[a].x*i,r+e[a].y*i),t.arc(n+e[a].x*i,r+e[a].y*i,2,0,o,!1);t.closePath(),t.fill()}e=void 0!==e?e:0,n=void 0!==n?n:0,r=void 0!==r?r:24;for(var o=1/this.path.unitsPerEm*r,a=[],s=[],u=this.path,l=0;l<u.commands.length;l+=1){var f=u.commands[l];void 0!==f.x&&a.push({x:f.x,y:-f.y}),void 0!==f.x1&&s.push({x:f.x1,y:-f.y1}),void 0!==f.x2&&s.push({x:f.x2,y:-f.y2})}t.fillStyle="blue",i(a,e,n,o),t.fillStyle="red",i(s,e,n,o)},a.prototype.drawMetrics=function(t,e,n,r){var o;e=void 0!==e?e:0,n=void 0!==n?n:0,r=void 0!==r?r:24,o=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",i.line(t,e,-1e4,e,1e4),i.line(t,-1e4,n,1e4,n);var a=this.xMin||0,s=this.yMin||0,u=this.xMax||0,l=this.yMax||0,f=this.advanceWidth||0;t.strokeStyle="blue",i.line(t,e+a*o,-1e4,e+a*o,1e4),i.line(t,e+u*o,-1e4,e+u*o,1e4),i.line(t,-1e4,n+-s*o,1e4,n+-s*o),i.line(t,-1e4,n+-l*o,1e4,n+-l*o),t.strokeStyle="green",i.line(t,e+f*o,-1e4,e+f*o,1e4)},e.Glyph=a},function(t,e,n){"use strict";var r=n(17),i=n(25),o=n(0),a=n(13),s=n(2);function u(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!u(t[n],e[n]))return!1;return!0}return!1}function l(t,e,n){var r,i,a,s=[],u=[],l=o.getCard16(t,e);if(0!==l){var f=o.getByte(t,e+2);i=e+(l+1)*f+2;var c=e+3;for(r=0;r<l+1;r+=1)s.push(o.getOffset(t,c,f)),c+=f;a=i+s[l]}else a=e+2;for(r=0;r<s.length-1;r+=1){var h=o.getBytes(t,i+s[r],i+s[r+1]);n&&(h=n(h)),u.push(h)}return{objects:u,startOffset:e,endOffset:a}}function f(t,e){if(28===e)return t.parseByte()<<8|t.parseByte();if(29===e)return t.parseByte()<<24|t.parseByte()<<16|t.parseByte()<<8|t.parseByte();if(30===e)return function(t){for(var e="",n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var r=t.parseByte(),i=r>>4,o=15&r;if(15===i)break;if(e+=n[i],15===o)break;e+=n[o]}return parseFloat(e)}(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return 256*(e-247)+t.parseByte()+108;if(e>=251&&e<=254)return 256*-(e-251)-t.parseByte()-108;throw new Error("Invalid b0 "+e)}function c(t,e,n){e=void 0!==e?e:0;var r=new o.Parser(t,e),i=[],a=[];for(n=void 0!==n?n:t.length;r.relativeOffset<n;){var s=r.parseByte();s<=21?(12===s&&(s=1200+r.parseByte()),i.push([s,a]),a=[]):a.push(f(r,s))}return function(t){for(var e={},n=0;n<t.length;n+=1){var r,i=t[n][0],o=t[n][1];if(r=1===o.length?o[0]:o,e.hasOwnProperty(i))throw new Error("Object "+e+" already has key "+i);e[i]=r}return e}(i)}function h(t,e){return e=e<=390?r.cffStandardStrings[e]:t[e-391]}function p(t,e,n){for(var r={},i=0;i<e.length;i+=1){var o=e[i],a=t[o.op];void 0===a&&(a=void 0!==o.value?o.value:null),"SID"===o.type&&(a=h(n,a)),r[o.name]=a}return r}var d=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]}],m=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function v(t,e,n){var r,i,o,s,u=new a.Path,l=[],f=0,c=!1,h=t.defaultWidthX,p=!1,d=0,m=0;function v(t,e){p&&u.closePath(),u.moveTo(t,e),p=!0}function y(){l.length%2!=0&&!c&&(h=l.shift()+t.nominalWidthX),f+=l.length>>1,l.length=0,c=!0}return function n(a){for(var g,b,x,w,_,P,S,C,E,T,I,O,N=0;N<a.length;){var A=a[N];switch(N+=1,A){case 1:case 3:y();break;case 4:l.length>1&&!c&&(h=l.shift()+t.nominalWidthX,c=!0),m+=l.pop(),v(d,m);break;case 5:for(;l.length>0;)d+=l.shift(),m+=l.shift(),u.lineTo(d,m);break;case 6:for(;l.length>0&&(d+=l.shift(),u.lineTo(d,m),0!==l.length);)m+=l.shift(),u.lineTo(d,m);break;case 7:for(;l.length>0&&(m+=l.shift(),u.lineTo(d,m),0!==l.length);)d+=l.shift(),u.lineTo(d,m);break;case 8:for(;l.length>0;)r=d+l.shift(),i=m+l.shift(),o=r+l.shift(),s=i+l.shift(),d=o+l.shift(),m=s+l.shift(),u.curveTo(r,i,o,s,d,m);break;case 10:_=l.pop()+t.subrsBias,(P=t.subrs[_])&&n(P);break;case 11:return;case 12:switch(A=a[N],N+=1,A){case 35:r=d+l.shift(),i=m+l.shift(),o=r+l.shift(),s=i+l.shift(),S=o+l.shift(),C=s+l.shift(),E=S+l.shift(),T=C+l.shift(),I=E+l.shift(),O=T+l.shift(),d=I+l.shift(),m=O+l.shift(),l.shift(),u.curveTo(r,i,o,s,S,C),u.curveTo(E,T,I,O,d,m);break;case 34:r=d+l.shift(),i=m,o=r+l.shift(),s=i+l.shift(),S=o+l.shift(),C=s,E=S+l.shift(),T=s,I=E+l.shift(),O=m,d=I+l.shift(),u.curveTo(r,i,o,s,S,C),u.curveTo(E,T,I,O,d,m);break;case 36:r=d+l.shift(),i=m+l.shift(),o=r+l.shift(),s=i+l.shift(),S=o+l.shift(),C=s,E=S+l.shift(),T=s,I=E+l.shift(),O=T+l.shift(),d=I+l.shift(),u.curveTo(r,i,o,s,S,C),u.curveTo(E,T,I,O,d,m);break;case 37:r=d+l.shift(),i=m+l.shift(),o=r+l.shift(),s=i+l.shift(),S=o+l.shift(),C=s+l.shift(),E=S+l.shift(),T=C+l.shift(),I=E+l.shift(),O=T+l.shift(),Math.abs(I-d)>Math.abs(O-m)?d=I+l.shift():m=O+l.shift(),u.curveTo(r,i,o,s,S,C),u.curveTo(E,T,I,O,d,m);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+A),l.length=0}break;case 14:l.length>0&&!c&&(h=l.shift()+t.nominalWidthX,c=!0),p&&(u.closePath(),p=!1);break;case 18:y();break;case 19:case 20:y(),N+=f+7>>3;break;case 21:l.length>2&&!c&&(h=l.shift()+t.nominalWidthX,c=!0),m+=l.pop(),v(d+=l.pop(),m);break;case 22:l.length>1&&!c&&(h=l.shift()+t.nominalWidthX,c=!0),v(d+=l.pop(),m);break;case 23:y();break;case 24:for(;l.length>2;)r=d+l.shift(),i=m+l.shift(),o=r+l.shift(),s=i+l.shift(),d=o+l.shift(),m=s+l.shift(),u.curveTo(r,i,o,s,d,m);d+=l.shift(),m+=l.shift(),u.lineTo(d,m);break;case 25:for(;l.length>6;)d+=l.shift(),m+=l.shift(),u.lineTo(d,m);r=d+l.shift(),i=m+l.shift(),o=r+l.shift(),s=i+l.shift(),d=o+l.shift(),m=s+l.shift(),u.curveTo(r,i,o,s,d,m);break;case 26:for(l.length%2&&(d+=l.shift());l.length>0;)r=d,i=m+l.shift(),o=r+l.shift(),s=i+l.shift(),d=o,m=s+l.shift(),u.curveTo(r,i,o,s,d,m);break;case 27:for(l.length%2&&(m+=l.shift());l.length>0;)r=d+l.shift(),i=m,o=r+l.shift(),s=i+l.shift(),d=o+l.shift(),m=s,u.curveTo(r,i,o,s,d,m);break;case 28:g=a[N],b=a[N+1],l.push((g<<24|b<<16)>>16),N+=2;break;case 29:_=l.pop()+t.gsubrsBias,(P=t.gsubrs[_])&&n(P);break;case 30:for(;l.length>0&&(r=d,i=m+l.shift(),o=r+l.shift(),s=i+l.shift(),d=o+l.shift(),m=s+(1===l.length?l.shift():0),u.curveTo(r,i,o,s,d,m),0!==l.length);)r=d+l.shift(),i=m,o=r+l.shift(),s=i+l.shift(),m=s+l.shift(),d=o+(1===l.length?l.shift():0),u.curveTo(r,i,o,s,d,m);break;case 31:for(;l.length>0&&(r=d+l.shift(),i=m,o=r+l.shift(),s=i+l.shift(),m=s+l.shift(),d=o+(1===l.length?l.shift():0),u.curveTo(r,i,o,s,d,m),0!==l.length);)r=d,i=m+l.shift(),o=r+l.shift(),s=i+l.shift(),d=o+l.shift(),m=s+(1===l.length?l.shift():0),u.curveTo(r,i,o,s,d,m);break;default:A<32?console.log("Glyph "+e.index+": unknown operator "+A):A<247?l.push(A-139):A<251?(g=a[N],N+=1,l.push(256*(A-247)+g+108)):A<255?(g=a[N],N+=1,l.push(256*-(A-251)-g-108)):(g=a[N],b=a[N+1],x=a[N+2],w=a[N+3],N+=4,l.push((g<<24|b<<16|x<<8|w)/65536))}}}(n),e.advanceWidth=h,u}function y(t){return t.length<1240?107:t.length<33900?1131:32768}function g(t,e){var n,i=r.cffStandardStrings.indexOf(t);return i>=0&&(n=i),(i=e.indexOf(t))>=0?n=i+r.cffStandardStrings.length:(n=r.cffStandardStrings.length+e.length,e.push(t)),n}function b(t,e,n){for(var r={},i=0;i<t.length;i+=1){var o=t[i],a=e[o.name];void 0===a||u(a,o.value)||("SID"===o.type&&(a=g(a,n)),r[o.op]={name:o.name,type:o.type,value:a})}return r}function x(t,e){var n=new s.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=b(d,t,e),n}function w(t){var e=new s.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function _(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,i=0,o=0;o<n.commands.length;o+=1){var a,s,u=n.commands[o];if("Q"===u.type){u={type:"C",x:u.x,y:u.y,x1:1/3*r+2/3*u.x1,y1:1/3*i+2/3*u.y1,x2:1/3*u.x+2/3*u.x1,y2:1/3*u.y+2/3*u.y1}}if("M"===u.type)a=Math.round(u.x-r),s=Math.round(u.y-i),e.push({name:"dx",type:"NUMBER",value:a}),e.push({name:"dy",type:"NUMBER",value:s}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(u.x),i=Math.round(u.y);else if("L"===u.type)a=Math.round(u.x-r),s=Math.round(u.y-i),e.push({name:"dx",type:"NUMBER",value:a}),e.push({name:"dy",type:"NUMBER",value:s}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(u.x),i=Math.round(u.y);else if("C"===u.type){var l=Math.round(u.x1-r),f=Math.round(u.y1-i),c=Math.round(u.x2-u.x1),h=Math.round(u.y2-u.y1);a=Math.round(u.x-u.x2),s=Math.round(u.y-u.y2),e.push({name:"dx1",type:"NUMBER",value:l}),e.push({name:"dy1",type:"NUMBER",value:f}),e.push({name:"dx2",type:"NUMBER",value:c}),e.push({name:"dy2",type:"NUMBER",value:h}),e.push({name:"dx",type:"NUMBER",value:a}),e.push({name:"dy",type:"NUMBER",value:s}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(u.x),i=Math.round(u.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}e.parse=function(t,e,n){n.tables.cff={};var a=l(t,l(t,function(t,e){var n={};return n.formatMajor=o.getCard8(t,e),n.formatMinor=o.getCard8(t,e+1),n.size=o.getCard8(t,e+2),n.offsetSize=o.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}(t,e).endOffset,o.bytesToString).endOffset),s=l(t,a.endOffset,o.bytesToString),u=l(t,s.endOffset);n.gsubrs=u.objects,n.gsubrsBias=y(n.gsubrs);var f=function(t,e){return p(c(t,0,t.byteLength),d,e)}(new DataView(new Uint8Array(a.objects[0]).buffer),s.objects);n.tables.cff.topDict=f;var g=e+f.private[1],b=function(t,e,n,r){return p(c(t,e,n),m,r)}(t,g,f.private[0],s.objects);if(n.defaultWidthX=b.defaultWidthX,n.nominalWidthX=b.nominalWidthX,0!==b.subrs){var x=l(t,g+b.subrs);n.subrs=x.objects,n.subrsBias=y(n.subrs)}else n.subrs=[],n.subrsBias=0;var w=l(t,e+f.charStrings);n.nGlyphs=w.objects.length;var _=function(t,e,n,r){var i,a,s,u=new o.Parser(t,e);n-=1;var l=[".notdef"],f=u.parseCard8();if(0===f)for(i=0;i<n;i+=1)a=u.parseSID(),l.push(h(r,a));else if(1===f)for(;l.length<=n;)for(a=u.parseSID(),s=u.parseCard8(),i=0;i<=s;i+=1)l.push(h(r,a)),a+=1;else{if(2!==f)throw new Error("Unknown charset format "+f);for(;l.length<=n;)for(a=u.parseSID(),s=u.parseCard16(),i=0;i<=s;i+=1)l.push(h(r,a)),a+=1}return l}(t,e+f.charset,n.nGlyphs,s.objects);0===f.encoding?n.cffEncoding=new r.CffEncoding(r.cffStandardEncoding,_):1===f.encoding?n.cffEncoding=new r.CffEncoding(r.cffExpertEncoding,_):n.cffEncoding=function(t,e,n){var i,a,s={},u=new o.Parser(t,e),l=u.parseCard8();if(0===l){var f=u.parseCard8();for(i=0;i<f;i+=1)s[a=u.parseCard8()]=i}else{if(1!==l)throw new Error("Unknown encoding format "+l);var c=u.parseCard8();for(a=1,i=0;i<c;i+=1)for(var h=u.parseCard8(),p=u.parseCard8(),d=h;d<=h+p;d+=1)s[d]=a,a+=1}return new r.CffEncoding(s,n)}(t,e+f.encoding,_),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new i.GlyphSet(n);for(var P=0;P<n.nGlyphs;P+=1){var S=w.objects[P];n.glyphs.push(P,i.cffGlyphLoader(n,P,v,S))}},e.make=function(t,e){for(var n,r=new s.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/e.unitsPerEm,o={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},a=[],u=1;u<t.length;u+=1)n=t.get(u),a.push(n.name);var l=[];r.header=new s.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),r.nameIndex=function(t){var e=new s.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}([e.postScriptName]);var f=x(o,l);r.topDictIndex=w(f),r.globalSubrIndex=new s.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),r.charsets=function(t,e){for(var n=new s.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var i=g(t[r],e);n.fields.push({name:"glyph_"+r,type:"SID",value:i})}return n}(a,l),r.charStringsIndex=function(t){for(var e=new s.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var r=t.get(n),i=_(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return e}(t),r.privateDict=function(t,e){var n=new s.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=b(m,t,e),n}({},l),r.stringIndex=function(t){var e=new s.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}(l);var c=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return o.charset=c,o.encoding=0,o.charStrings=o.charset+r.charsets.sizeOf(),o.private[1]=o.charStrings+r.charStringsIndex.sizeOf(),f=x(o,l),r.topDictIndex=w(f),r}},function(t,e,n){"use strict";var r=n(1),i=n(0),o=n(2);function a(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0})}e.parse=function(t,e){var n,o={};o.version=i.getUShort(t,e),r.argument(0===o.version,"cmap table version should be 0."),o.numTables=i.getUShort(t,e+2);var a=-1;for(n=o.numTables-1;n>=0;n-=1){var s=i.getUShort(t,e+4+8*n),u=i.getUShort(t,e+4+8*n+2);if(3===s&&(0===u||1===u||10===u)){a=i.getULong(t,e+4+8*n+4);break}}if(-1===a)return null;var l=new i.Parser(t,e+a);if(o.format=l.parseUShort(),12===o.format)!function(t,e){var n,r;for(e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong(),t.groupCount=r=e.parseULong(),t.glyphIndexMap={},n=0;n<r;n+=1)for(var i=e.parseULong(),o=e.parseULong(),a=e.parseULong(),s=i;s<=o;s+=1)t.glyphIndexMap[s]=a,a++}(o,l);else{if(4!==o.format)throw new Error("Only format 4 and 12 cmap tables are supported.");!function(t,e,n,r,o){var a,s;t.length=e.parseUShort(),t.language=e.parseUShort(),t.segCount=s=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};var u=new i.Parser(n,r+o+14),l=new i.Parser(n,r+o+16+2*s),f=new i.Parser(n,r+o+16+4*s),c=new i.Parser(n,r+o+16+6*s),h=r+o+16+8*s;for(a=0;a<s-1;a+=1)for(var p,d=u.parseUShort(),m=l.parseUShort(),v=f.parseShort(),y=c.parseUShort(),g=m;g<=d;g+=1)0!==y?(h=c.offset+c.relativeOffset-2,h+=y,h+=2*(g-m),0!==(p=i.getUShort(n,h))&&(p=p+v&65535)):p=g+v&65535,t.glyphIndexMap[g]=p}(o,l,t,e,a)}return o},e.make=function(t){var e,n,r=new o.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);for(r.segments=[],e=0;e<t.length;e+=1){for(var i=t.get(e),s=0;s<i.unicodes.length;s+=1)a(r,i.unicodes[s],e);r.segments=r.segments.sort(function(t,e){return t.start-e.start})}!function(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}(r),n=r.segments.length,r.segCountX2=2*n,r.searchRange=2*Math.pow(2,Math.floor(Math.log(n)/Math.log(2))),r.entrySelector=Math.log(r.searchRange/2)/Math.log(2),r.rangeShift=r.segCountX2-r.searchRange;var u=[],l=[],f=[],c=[],h=[];for(e=0;e<n;e+=1){var p=r.segments[e];u=u.concat({name:"end_"+e,type:"USHORT",value:p.end}),l=l.concat({name:"start_"+e,type:"USHORT",value:p.start}),f=f.concat({name:"idDelta_"+e,type:"SHORT",value:p.delta}),c=c.concat({name:"idRangeOffset_"+e,type:"USHORT",value:p.offset}),void 0!==p.glyphId&&(h=h.concat({name:"glyph_"+e,type:"USHORT",value:p.glyphId}))}return r.fields=r.fields.concat(u),r.fields.push({name:"reservedPad",type:"USHORT",value:0}),r.fields=r.fields.concat(l),r.fields=r.fields.concat(f),r.fields=r.fields.concat(c),r.fields=r.fields.concat(h),r.length=14+2*u.length+2+2*l.length+2*f.length+2*c.length+2*h.length,r}},function(t,e,n){"use strict";function r(t,e,n,r,i){return Math.pow(1-i,3)*t+3*Math.pow(1-i,2)*i*e+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function i(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}i.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},i.prototype.addPoint=function(t,e){"number"==typeof t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),"number"==typeof e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},i.prototype.addX=function(t){this.addPoint(t,null)},i.prototype.addY=function(t){this.addPoint(null,t)},i.prototype.addBezier=function(t,e,n,i,o,a,s,u){var l=[t,e],f=[n,i],c=[o,a],h=[s,u];this.addPoint(t,e),this.addPoint(s,u);for(var p=0;p<=1;p++){var d=6*l[p]-12*f[p]+6*c[p],m=-3*l[p]+9*f[p]-9*c[p]+3*h[p],v=3*f[p]-3*l[p];if(0!==m){var y=Math.pow(d,2)-4*v*m;if(!(y<0)){var g=(-d+Math.sqrt(y))/(2*m);0<g&&g<1&&(0===p&&this.addX(r(l[p],f[p],c[p],h[p],g)),1===p&&this.addY(r(l[p],f[p],c[p],h[p],g)));var b=(-d-Math.sqrt(y))/(2*m);0<b&&b<1&&(0===p&&this.addX(r(l[p],f[p],c[p],h[p],b)),1===p&&this.addY(r(l[p],f[p],c[p],h[p],b)))}}else{if(0===d)continue;var x=-v/d;0<x&&x<1&&(0===p&&this.addX(r(l[p],f[p],c[p],h[p],x)),1===p&&this.addY(r(l[p],f[p],c[p],h[p],x)))}}},i.prototype.addQuad=function(t,e,n,r,i,o){var a=t+2/3*(n-t),s=e+2/3*(r-e),u=a+1/3*(i-t),l=s+1/3*(o-e);this.addBezier(t,e,a,s,u,l,i,o)},e.BoundingBox=i},function(t,e,n){"use strict";var r=n(89),i=n(45),o={combine:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)(e=arguments[t])&&(n=n.concat(e));return n},contains:function(t,e){if(!t)return!1;for(var n=0;n<t.length;n+=1)if(r.deepEqual(t[n],e))return!0;return!1},cycle:function(t,e){if(!t||e<=0)return[];for(var n=[],r=t.length,i=0;i<e;i+=1)n.push(t[i%r]);return n},equals:function(t,e){return r.deepEqual(t,e)},count:function(t){return t&&t.length?t.length:0},cull:function(t,e){if(!t)return[];if(!e)return t;var n,r=[];for(n=0;n<t.length;n++)e[n%e.length]&&r.push(t[n]);return r},distinct:function(t){if(!t)return[];var e,n,r,i=[],a=[];for(e=0,n=t.length;e<n;e+=1)r=t[e],o.contains(a,r)||(a.push(r),i.push(t[e]));return i},first:function(t){return t&&0!==t.length?t[0]:null},get:function(t,e){return t&&0!==t.length?t[e]:null},interleave:function(){const t=Array.from(arguments).filter(t=>!!t);if(0===t.length)return[];const e=[];let n=0;for(;;){for(let r=0;r<t.length;r++){let i=t[r];if(!(i.length>n))return e;e.push(i[n])}n+=1}},last:function(t){return t&&0!==t.length?t[t.length-1]:null},pick:function(t,e,n){if(!t||0===t.length||e<=0)return[];n||0===n||(n=Math.random());for(var r=i.randomGenerator(n||0),o=[],a=0;a<e;a+=1)o.push(t[Math.floor(r(0,t.length))]);return o},randomSample:function(t,e,n){if(!t||0===t.length||e<=0)return[];n||0===n||(n=Math.random());var r=o.shuffle(t,n);return e?o.slice(r,0,e):r},repeat:function(t,e,n){if(!t)return[];if(Array.isArray(t)||(t=[t]),e<=0)return[];var r,i,o,a=[];if(n)for(r=0;r<t.length;r+=1)for(o=t[r],i=0;i<e;i+=1)a.push(o);else for(r=0;r<e;r+=1)a.push.apply(a,t);return a},rest:function(t){return t?t.slice(1):[]},reverse:function(t){return t?t.slice().reverse():[]},second:function(t){return!t||t.length<2?null:t[1]},shift:function(t,e){if(!t)return[];e%=t.length;var n=t.slice(0,e),r=t.slice(e);return r.push.apply(r,n),r},shuffle:function(t,e){var n,r,o,a;for(e||0===e||(e=Math.random()),a=i.randomGenerator(e||0),n=(t=t.slice()).length-1;n>0;n--)r=Math.floor(a(0,n+1)),o=t[n],t[n]=t[r],t[r]=o;return t},slice:function(t,e,n,r){return t?r?(i=t.slice(0,e),o=t.slice(e+n),i.push.apply(i,o),i):t.slice(e,e+n):[];var i,o},sort:function(t,e){if(!t)return[];if(e){if("string"==typeof e)return t.slice().sort(function(t,n){return t[e]>n[e]?1:t[e]===n[e]?0:-1});if("function"==typeof e)return t.slice().sort(e)}return t&&void 0!==t[0]&&null!==t[0]&&"number"==typeof t[0]?t.slice().sort(function(t,e){return t-e}):t.slice().sort()},switch:function(t){var e=arguments.length-1;return(t%=e)<0&&(t+=e),arguments[t+1]},takeEvery:function(t,e,n){if(!t)return[];var r,i=[];for(n=n||0,r=0;r<t.length;r+=1)r%e===n&&i.push(t[r]);return i},zipMap:function(t,e){var n,r,i,o={},a=Math.min(t.length,e.length);for(n=0;n<a;n+=1)r=t[n],i=e[n],o[r]=i;return o}};t.exports=o},function(t,e,n){"use strict";var r=function(t){if(t<0){for(var e=r(Math.abs(t)),n=0;n<23;n+=1)e();return r(e(0,1e4))}return function(e,n){return(e=e||0)+(t=(9301*t+49297)%233280)/233280*((n=n||1)-e)}};e.randomGenerator=r},function(t,e,n){"use strict";var r=n(91),i=n(45),o=n(21),a={},s=2*Math.PI;a.abs=Math.abs,a.accumulate=function(t){if(arguments.length>1?t=arguments:1!==arguments.length||Array.isArray(t)||(t=[t]),!t||0===t.length)return[0];var e,n=[],r=0;for(e=0;e<t.length;e++)n.push(r),r+=t[e];return n},a.add=function(t,e){return 2===arguments.length?t+e:r(arguments,function(t,e){return t+e},0)},a.and=function(t,e){var n=arguments.length;if(2===n)return t&&e;if(1===n)return!!t;if(0===n)throw new Error("Wrong number of arguments");return r(arguments,function(t,e){return t&&e},!0)},a.average=function(t){if(arguments.length>1?t=arguments:1!==arguments.length||Array.isArray(t)||(t=[t]),!t||0===t.length)return 0;var e,n=0;for(e=0;e<t.length;e+=1)n+=t[e];return n/t.length},a.boolean=function(t){return!!t},a.ceil=Math.ceil,a.clamp=function(t,e,n){return e="number"==typeof e?e:0,n="number"==typeof n?n:1,t<e?e:t>n?n:t},a.compare=function(t,e,n){if("<"===n)return t<e;if(">"===n)return t>e;if("<="===n)return t<=e;if(">="===n)return t>=e;if("=="===n)return t===e;if("!="===n)return t!==e;throw new Error("Unknown comparison operation "+n)},a.cos=Math.cos,a.degrees=function(t){return 180*t/Math.PI},a.divide=function(t,e){var n=arguments.length;function i(t){if(0===t)throw new Error("Divide by zero")}if(2===n)return i(e),t/e;if(1===n)return i(t),1/t;if(0===n)throw new Error("Wrong number of arguments");return r([].slice.call(arguments,1),function(t,e){return i(e),t/e},arguments[0])},a.e=function(){return Math.E},a.even=function(t){return t%2==0},a.floor=Math.floor,a.integer=function(t){return 0|t},a.log=function(t){return t>0?Math.log(t):-Math.log(-t)},a.makeNumbers=function(t,e){if(!t)return[];e||(e="");var n,r,i=[],o=t.split(e);for(n=0;n<o.length;n+=1)(0===(r=parseFloat(o[n]))||r)&&i.push(r);return i},a.max=function(){var t=arguments;if(1===arguments.length&&Array.isArray(arguments[0])&&(t=arguments[0]),0===t.length)throw new Error("Wrong number of arguments");return Math.max.apply(null,t)},a.min=function(){var t=arguments;if(1===arguments.length&&Array.isArray(arguments[0])&&(t=arguments[0]),0===t.length)throw new Error("Wrong number of arguments");return Math.min.apply(null,t)},a.mod=function(t,e){return t%e},a.multiply=function(t,e){var n=arguments.length;return 2===n?t*e:1===n?t:r(arguments,function(t,e){return t*e},1)},a.negate=function(t){return-t},a.not=function(t){return!t},a.number=function(t){return t},a.odd=function(t){return t%2!=0},a.or=function(t,e){var n=arguments.length;if(2===n)return t||e;if(1===n)return!!t;if(0===n)throw new Error("Wrong number of arguments");return r(arguments,function(t,e){return t||e},!1)},a.perlinNoise=function(t,e,n){return o.math.noise(t,e,n)},a.pi=function(){return Math.PI},a.pow=Math.pow,a.radians=function(t){return t*Math.PI/180},a.randomNumbers=function(t,e,n,r){var o,a=arguments.length;if((a<4||!r&&0!==r)&&(r=Math.random()),3===a||4===a?(e=e||0,n=n||(0===n?0:1)):2===a?(n=e||(0===e?0:1),e=0):1===a&&(e=0,n=1),n<e){var s=n;n=e,e=s}for(var u=n-e,l=[],f=i.randomGenerator(r||0),c=0;c<t;c+=1)o=e+f(0,1)*u,l.push(o);return l},a.range=function(t,e,n,r){if(t===e)return[];if(0!==n&&(n=n||(t<e?1:-1)),n>0&&t>e)return[];if(n<0&&t<e)return[];if(0===n)return[];var i,o=[];if(t<e)if(r)for(i=t;i<=e;i+=n)o.push(i);else for(i=t;i<e;i+=n)o.push(i);else if(r)for(i=t;i>=e;i+=n)o.push(i);else for(i=t;i>e;i+=n)o.push(i);return o},a.round=function(t,e){return(e|=0)?Math.round(t/e)*e:Math.round(t)},a.sample=function(t,e,n,r){var i,o,a=[];for(a.length=t,i=r?(n-e)/t:(n-e)/(t-1),o=0;o<t;o+=1)a[o]=e+o*i;return a},a.sineWave=function(t,e,n,r,i){void 0===e&&(e=-1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0);var o=(n-e)/2;return e+o+Math.sin((i+t)*s/r)*o},a.squareWave=function(t,e,n,r,i){return void 0===e&&(e=-1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),(t+i)%r<r/2?n:e},a.triangleWave=function(t,e,n,r,i){void 0===e&&(e=-1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0);var o=0,a=t+i+r/4;return a%r!=0&&(o=a*(s/r)%s),o<0&&(o+=s),2*((n-e)/2)*(1-Math.abs(o/s*2-1))+e},a.sawtoothWave=function(t,e,n,r,i){void 0===e&&(e=-1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0);var o=0,a=t+i;return a%r!=0&&(o=a*(s/r)%s),o<0&&(o+=s),o/s*2*((n-e)/2)+e},a.sign=function(t){return t>0?1:0===t?0:-1},a.sin=Math.sin,a.sqrt=Math.sqrt,a.subtract=function(t,e){var n=arguments.length;if(2===n)return t-e;if(1===n)return-t;if(0===n)throw new Error("Wrong number of arguments");return r([].slice.call(arguments,1),function(t,e){return t-e},arguments[0])},a.tan=Math.tan,a.total=function(t){if(arguments.length>1?t=arguments:1!==arguments.length||Array.isArray(t)?0===arguments.length&&(t=[]):t=[t],0===t.length)return 0;var e,n=0;for(e=0;e<t.length;e+=1)n+=t[e];return n},a.xor=function(t,e){if(2===arguments.length)return!!(t^e);throw new Error("Wrong number of arguments")},t.exports=a},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],f=!1,c=-1;function h(){f&&u&&(f=!1,u.length?l=u.concat(l):c=-1,l.length&&p())}function p(){if(!f){var t=s(h);f=!0;for(var e=l.length;e;){for(u=l,l=[];++c<e;)u&&u[c].run();c=-1,e=l.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||f||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(t,n,r,i){(function(e){"use strict";function o(t,e){e|=0;for(var n=Math.max(t.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=t[e+i];return r}var a=function(t){var e=o(arguments,1);return function(){var n=o(arguments);return t.apply(null,e.concat(n))}},s=function(t){return function(){var e=o(arguments),n=e.pop();t.call(this,e,n)}};function u(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var l="function"==typeof t&&t,f="object"==typeof n&&"function"==typeof n.nextTick;function c(t){setTimeout(t,0)}function h(t){return function(e){var n=o(arguments,1);t(function(){e.apply(null,n)})}}var p=h(l?t:f?n.nextTick:c);function d(t){return s(function(e,n){var r;try{r=t.apply(this,e)}catch(t){return n(t)}u(r)&&"function"==typeof r.then?r.then(function(t){m(n,null,t)},function(t){m(n,t.message?t:new Error(t))}):n(null,r)})}function m(t,e,n){try{t(e,n)}catch(t){p(v,t)}}function v(t){throw t}var y="function"==typeof Symbol;function g(t){return y&&"AsyncFunction"===t[Symbol.toStringTag]}function b(t){return g(t)?d(t):t}function x(t){return function(e){var n=o(arguments,1),r=s(function(n,r){var i=this;return t(e,function(t,e){b(t).apply(i,n.concat(e))},r)});return n.length?r.apply(this,n):r}}var w="object"==typeof r&&r&&r.Object===Object&&r,_="object"==typeof self&&self&&self.Object===Object&&self,P=w||_||Function("return this")(),S=P.Symbol,C=Object.prototype,E=C.hasOwnProperty,T=C.toString,I=S?S.toStringTag:void 0;var O=Object.prototype.toString;var N="[object Null]",A="[object Undefined]",L=S?S.toStringTag:void 0;function M(t){return null==t?void 0===t?A:N:L&&L in Object(t)?function(t){var e=E.call(t,I),n=t[I];try{t[I]=void 0;var r=!0}catch(t){}var i=T.call(t);return r&&(e?t[I]=n:delete t[I]),i}(t):function(t){return O.call(t)}(t)}var R="[object AsyncFunction]",k="[object Function]",B="[object GeneratorFunction]",D="[object Proxy]";var U=9007199254740991;function F(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=U}function X(t){return null!=t&&F(t.length)&&!function(t){if(!u(t))return!1;var e=M(t);return e==k||e==B||e==R||e==D}(t)}var Y={};function j(){}function W(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}var H="function"==typeof Symbol&&Symbol.iterator,z=function(t){return H&&t[H]&&t[H]()};function q(t){return null!=t&&"object"==typeof t}var G="[object Arguments]";function V(t){return q(t)&&M(t)==G}var Z=Object.prototype,J=Z.hasOwnProperty,$=Z.propertyIsEnumerable,Q=V(function(){return arguments}())?V:function(t){return q(t)&&J.call(t,"callee")&&!$.call(t,"callee")},K=Array.isArray;var tt="object"==typeof e&&e&&!e.nodeType&&e,et=tt&&"object"==typeof i&&i&&!i.nodeType&&i,nt=et&&et.exports===tt?P.Buffer:void 0,rt=(nt?nt.isBuffer:void 0)||function(){return!1},it=9007199254740991,ot=/^(?:0|[1-9]\d*)$/;function at(t,e){return!!(e=null==e?it:e)&&("number"==typeof t||ot.test(t))&&t>-1&&t%1==0&&t<e}var st={};st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Arguments]"]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object Boolean]"]=st["[object DataView]"]=st["[object Date]"]=st["[object Error]"]=st["[object Function]"]=st["[object Map]"]=st["[object Number]"]=st["[object Object]"]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object WeakMap]"]=!1;var ut,lt="object"==typeof e&&e&&!e.nodeType&&e,ft=lt&&"object"==typeof i&&i&&!i.nodeType&&i,ct=ft&&ft.exports===lt&&w.process,ht=function(){try{return ct&&ct.binding&&ct.binding("util")}catch(t){}}(),pt=ht&&ht.isTypedArray,dt=pt?(ut=pt,function(t){return ut(t)}):function(t){return q(t)&&F(t.length)&&!!st[M(t)]},mt=Object.prototype.hasOwnProperty;function vt(t,e){var n=K(t),r=!n&&Q(t),i=!n&&!r&&rt(t),o=!n&&!r&&!i&&dt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var l in t)!e&&!mt.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||at(l,u))||s.push(l);return s}var yt=Object.prototype;var gt=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),bt=Object.prototype.hasOwnProperty;function xt(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||yt))return gt(t);var e,n,r=[];for(var i in Object(t))bt.call(t,i)&&"constructor"!=i&&r.push(i);return r}function wt(t){return X(t)?vt(t):xt(t)}function _t(t){if(X(t))return function(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}(t);var e,n,r,i,o=z(t);return o?function(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}(o):(n=wt(e=t),r=-1,i=n.length,function(){var t=n[++r];return r<i?{value:e[t],key:t}:null})}function Pt(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function St(t){return function(e,n,r){if(r=W(r||j),t<=0||!e)return r(null);var i=_t(e),o=!1,a=0;function s(t,e){if(a-=1,t)o=!0,r(t);else{if(e===Y||o&&a<=0)return o=!0,r(null);u()}}function u(){for(;a<t&&!o;){var e=i();if(null===e)return o=!0,void(a<=0&&r(null));a+=1,n(e.value,e.key,Pt(s))}}u()}}function Ct(t,e,n,r){St(e)(t,b(n),r)}function Et(t,e){return function(n,r,i){return t(n,e,r,i)}}function Tt(t,e,n){n=W(n||j);var r=0,i=0,o=t.length;function a(t,e){t?n(t):++i!==o&&e!==Y||n(null)}for(0===o&&n(null);r<o;r++)e(t[r],r,Pt(a))}var It=Et(Ct,1/0),Ot=function(t,e,n){(X(t)?Tt:It)(t,b(e),n)};function Nt(t){return function(e,n,r){return t(Ot,e,b(n),r)}}function At(t,e,n,r){r=r||j,e=e||[];var i=[],o=0,a=b(n);t(e,function(t,e,n){var r=o++;a(t,function(t,e){i[r]=e,n(t)})},function(t){r(t,i)})}var Lt=Nt(At),Mt=x(Lt);function Rt(t){return function(e,n,r,i){return t(St(n),e,b(r),i)}}var kt=Rt(At),Bt=Et(kt,1),Dt=x(Bt);function Ut(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}var Ft,Xt=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[Ft?a:++r];if(!1===e(i[s],s,i))break}return t};function Yt(t,e){return t&&Xt(t,e,wt)}function jt(t){return t!=t}function Wt(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,jt,n)}var Ht=function(t,e,n){"function"==typeof e&&(n=e,e=null),n=W(n||j);var r=wt(t).length;if(!r)return n(null);e||(e=r);var i={},a=0,s=!1,u=Object.create(null),l=[],f=[],c={};function h(t,e){l.push(function(){!function(t,e){if(s)return;var r=Pt(function(e,r){if(a--,arguments.length>2&&(r=o(arguments,1)),e){var l={};Yt(i,function(t,e){l[e]=t}),l[t]=r,s=!0,u=Object.create(null),n(e,l)}else i[t]=r,Ut(u[t]||[],function(t){t()}),p()});a++;var l=b(e[e.length-1]);e.length>1?l(i,r):l(r)}(t,e)})}function p(){if(0===l.length&&0===a)return n(null,i);for(;l.length&&a<e;){l.shift()()}}function d(e){var n=[];return Yt(t,function(t,r){K(t)&&Wt(t,e,0)>=0&&n.push(r)}),n}Yt(t,function(e,n){if(!K(e))return h(n,[e]),void f.push(n);var r=e.slice(0,e.length-1),i=r.length;if(0===i)return h(n,e),void f.push(n);c[n]=i,Ut(r,function(o){if(!t[o])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+o+"` in "+r.join(", "));!function(t,e){var n=u[t];n||(n=u[t]=[]);n.push(e)}(o,function(){0===--i&&h(n,e)})})}),function(){var t,e=0;for(;f.length;)t=f.pop(),e++,Ut(d(t),function(t){0==--c[t]&&f.push(t)});if(e!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),p()};function zt(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var qt="[object Symbol]";var Gt=1/0,Vt=S?S.prototype:void 0,Zt=Vt?Vt.toString:void 0;function Jt(t){if("string"==typeof t)return t;if(K(t))return zt(t,Jt)+"";if(function(t){return"symbol"==typeof t||q(t)&&M(t)==qt}(t))return Zt?Zt.call(t):"";var e=t+"";return"0"==e&&1/t==-Gt?"-0":e}function $t(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}(t,e,n)}var Qt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Kt="[\\ud800-\\udfff]",te="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ee="\\ud83c[\\udffb-\\udfff]",ne="[^\\ud800-\\udfff]",re="(?:\\ud83c[\\udde6-\\uddff]){2}",ie="[\\ud800-\\udbff][\\udc00-\\udfff]",oe="(?:"+te+"|"+ee+")"+"?",ae="[\\ufe0e\\ufe0f]?"+oe+("(?:\\u200d(?:"+[ne,re,ie].join("|")+")[\\ufe0e\\ufe0f]?"+oe+")*"),se="(?:"+[ne+te+"?",te,re,ie,Kt].join("|")+")",ue=RegExp(ee+"(?="+ee+")|"+se+ae,"g");function le(t){return function(t){return Qt.test(t)}(t)?function(t){return t.match(ue)||[]}(t):function(t){return t.split("")}(t)}var fe=/^\s+|\s+$/g;function ce(t,e,n){var r;if((t=null==(r=t)?"":Jt(r))&&(n||void 0===e))return t.replace(fe,"");if(!t||!(e=Jt(e)))return t;var i=le(t),o=le(e);return $t(i,function(t,e){for(var n=-1,r=t.length;++n<r&&Wt(e,t[n],0)>-1;);return n}(i,o),function(t,e){for(var n=t.length;n--&&Wt(e,t[n],0)>-1;);return n}(i,o)+1).join("")}var he=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,pe=/,/,de=/(=.+)?(\s*)$/,me=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function ve(t,e){var n={};Yt(t,function(t,e){var r,i,o=g(t),a=!o&&1===t.length||o&&0===t.length;if(K(t))r=t.slice(0,-1),t=t[t.length-1],n[e]=r.concat(r.length>0?s:t);else if(a)n[e]=t;else{if(r=i=(i=(i=(i=(i=t).toString().replace(me,"")).match(he)[2].replace(" ",""))?i.split(pe):[]).map(function(t){return ce(t.replace(de,""))}),0===t.length&&!o&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");o||r.pop(),n[e]=r.concat(s)}function s(e,n){var i=zt(r,function(t){return e[t]});i.push(n),b(t).apply(null,i)}}),Ht(n,e)}function ye(){this.head=this.tail=null,this.length=0}function ge(t,e){t.length=1,t.head=t.tail=e}function be(t,e,n){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=b(t),i=0,o=[],a=!1;function s(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(f.started=!0,K(t)||(t=[t]),0===t.length&&f.idle())return p(function(){f.drain()});for(var r=0,i=t.length;r<i;r++){var o={data:t[r],callback:n||j};e?f._tasks.unshift(o):f._tasks.push(o)}a||(a=!0,p(function(){a=!1,f.process()}))}function u(t){return function(e){i-=1;for(var n=0,r=t.length;n<r;n++){var a=t[n],s=Wt(o,a,0);0===s?o.shift():s>0&&o.splice(s,1),a.callback.apply(a,arguments),null!=e&&f.error(e,a.data)}i<=f.concurrency-f.buffer&&f.unsaturated(),f.idle()&&f.drain(),f.process()}}var l=!1,f={_tasks:new ye,concurrency:e,payload:n,saturated:j,unsaturated:j,buffer:e/4,empty:j,drain:j,error:j,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){f.drain=j,f._tasks.empty()},unshift:function(t,e){s(t,!0,e)},remove:function(t){f._tasks.remove(t)},process:function(){if(!l){for(l=!0;!f.paused&&i<f.concurrency&&f._tasks.length;){var t=[],e=[],n=f._tasks.length;f.payload&&(n=Math.min(n,f.payload));for(var a=0;a<n;a++){var s=f._tasks.shift();t.push(s),o.push(s),e.push(s.data)}i+=1,0===f._tasks.length&&f.empty(),i===f.concurrency&&f.saturated();var c=Pt(u(t));r(e,c)}l=!1}},length:function(){return f._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return f._tasks.length+i===0},pause:function(){f.paused=!0},resume:function(){!1!==f.paused&&(f.paused=!1,p(f.process))}};return f}function xe(t,e){return be(t,1,e)}ye.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},ye.prototype.empty=function(){for(;this.head;)this.shift();return this},ye.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},ye.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},ye.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):ge(this,t)},ye.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):ge(this,t)},ye.prototype.shift=function(){return this.head&&this.removeLink(this.head)},ye.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},ye.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,n=0;n<this.length;n++)t[n]=e.data,e=e.next;return t},ye.prototype.remove=function(t){for(var e=this.head;e;){var n=e.next;t(e)&&this.removeLink(e),e=n}return this};var we=Et(Ct,1);function _e(t,e,n,r){r=W(r||j);var i=b(n);we(t,function(t,n,r){i(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})}function Pe(){var t=zt(arguments,b);return function(){var e=o(arguments),n=this,r=e[e.length-1];"function"==typeof r?e.pop():r=j,_e(t,e,function(t,e,r){e.apply(n,t.concat(function(t){var e=o(arguments,1);r(t,e)}))},function(t,e){r.apply(n,[t].concat(e))})}}var Se=function(){return Pe.apply(null,o(arguments).reverse())},Ce=Array.prototype.concat,Ee=function(t,e,n,r){r=r||j;var i=b(n);kt(t,e,function(t,e){i(t,function(t){return t?e(t):e(null,o(arguments,1))})},function(t,e){for(var n=[],i=0;i<e.length;i++)e[i]&&(n=Ce.apply(n,e[i]));return r(t,n)})},Te=Et(Ee,1/0),Ie=Et(Ee,1),Oe=function(){var t=o(arguments),e=[null].concat(t);return function(){return arguments[arguments.length-1].apply(this,e)}};function Ne(t){return t}function Ae(t,e){return function(n,r,i,o){o=o||j;var a,s=!1;n(r,function(n,r,o){i(n,function(r,i){r?o(r):t(i)&&!a?(s=!0,a=e(!0,n),o(null,Y)):o()})},function(t){t?o(t):o(null,s?a:e(!1))})}}function Le(t,e){return e}var Me=Nt(Ae(Ne,Le)),Re=Rt(Ae(Ne,Le)),ke=Et(Re,1);function Be(t){return function(e){var n=o(arguments,1);n.push(function(e){var n=o(arguments,1);"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&Ut(n,function(e){console[t](e)}))}),b(e).apply(null,n)}}var De=Be("dir");function Ue(t,e,n){n=Pt(n||j);var r=b(t),i=b(e);function a(t){if(t)return n(t);var e=o(arguments,1);e.push(s),i.apply(this,e)}function s(t,e){return t?n(t):e?void r(a):n(null)}s(null,!0)}function Fe(t,e,n){n=Pt(n||j);var r=b(t),i=function(t){if(t)return n(t);var a=o(arguments,1);if(e.apply(this,a))return r(i);n.apply(null,[null].concat(a))};r(i)}function Xe(t,e,n){Fe(t,function(){return!e.apply(this,arguments)},n)}function Ye(t,e,n){n=Pt(n||j);var r=b(e),i=b(t);function o(t){if(t)return n(t);i(a)}function a(t,e){return t?n(t):e?void r(o):n(null)}i(a)}function je(t){return function(e,n,r){return t(e,r)}}function We(t,e,n){Ot(t,je(b(e)),n)}function He(t,e,n,r){St(e)(t,je(b(n)),r)}var ze=Et(He,1);function qe(t){return g(t)?t:s(function(e,n){var r=!0;e.push(function(){var t=arguments;r?p(function(){n.apply(null,t)}):n.apply(null,t)}),t.apply(this,e),r=!1})}function Ge(t){return!t}var Ve=Nt(Ae(Ge,Ge)),Ze=Rt(Ae(Ge,Ge)),Je=Et(Ze,1);function $e(t){return function(e){return null==e?void 0:e[t]}}function Qe(t,e,n,r){var i=new Array(e.length);t(e,function(t,e,r){n(t,function(t,n){i[e]=!!n,r(t)})},function(t){if(t)return r(t);for(var n=[],o=0;o<e.length;o++)i[o]&&n.push(e[o]);r(null,n)})}function Ke(t,e,n,r){var i=[];t(e,function(t,e,r){n(t,function(n,o){n?r(n):(o&&i.push({index:e,value:t}),r())})},function(t){t?r(t):r(null,zt(i.sort(function(t,e){return t.index-e.index}),$e("value")))})}function tn(t,e,n,r){(X(e)?Qe:Ke)(t,e,b(n),r||j)}var en=Nt(tn),nn=Rt(tn),rn=Et(nn,1);function on(t,e){var n=Pt(e||j),r=b(qe(t));!function t(e){if(e)return n(e);r(t)}()}var an=function(t,e,n,r){r=r||j;var i=b(n);kt(t,e,function(t,e){i(t,function(n,r){return n?e(n):e(null,{key:r,val:t})})},function(t,e){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<e.length;o++)if(e[o]){var a=e[o].key,s=e[o].val;i.call(n,a)?n[a].push(s):n[a]=[s]}return r(t,n)})},sn=Et(an,1/0),un=Et(an,1),ln=Be("log");function fn(t,e,n,r){r=W(r||j);var i={},o=b(n);Ct(t,e,function(t,e,n){o(t,e,function(t,r){if(t)return n(t);i[e]=r,n()})},function(t){r(t,i)})}var cn=Et(fn,1/0),hn=Et(fn,1);function pn(t,e){return e in t}function dn(t,e){var n=Object.create(null),r=Object.create(null);e=e||Ne;var i=b(t),a=s(function(t,a){var s=e.apply(null,t);pn(n,s)?p(function(){a.apply(null,n[s])}):pn(r,s)?r[s].push(a):(r[s]=[a],i.apply(null,t.concat(function(){var t=o(arguments);n[s]=t;var e=r[s];delete r[s];for(var i=0,a=e.length;i<a;i++)e[i].apply(null,t)})))});return a.memo=n,a.unmemoized=t,a}var mn=h(f?n.nextTick:l?t:c);function vn(t,e,n){n=n||j;var r=X(e)?[]:{};t(e,function(t,e,n){b(t)(function(t,i){arguments.length>2&&(i=o(arguments,1)),r[e]=i,n(t)})},function(t){n(t,r)})}function yn(t,e){vn(Ot,t,e)}function gn(t,e,n){vn(St(e),t,n)}var bn=function(t,e){var n=b(t);return be(function(t,e){n(t[0],e)},e,1)},xn=function(t,e){var n=bn(t,e);return n.push=function(t,e,r){if(null==r&&(r=j),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,K(t)||(t=[t]),0===t.length)return p(function(){n.drain()});e=e||0;for(var i=n._tasks.head;i&&e>=i.priority;)i=i.next;for(var o=0,a=t.length;o<a;o++){var s={data:t[o],priority:e,callback:r};i?n._tasks.insertBefore(i,s):n._tasks.push(s)}p(n.process)},delete n.unshift,n};function wn(t,e){if(e=W(e||j),!K(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var n=0,r=t.length;n<r;n++)b(t[n])(e)}function _n(t,e,n,r){_e(o(t).reverse(),e,n,r)}function Pn(t){var e=b(t);return s(function(t,n){return t.push(function(t,e){var r;t?n(null,{error:t}):(r=arguments.length<=2?e:o(arguments,1),n(null,{value:r}))}),e.apply(this,t)})}function Sn(t){var e;return K(t)?e=zt(t,Pn):(e={},Yt(t,function(t,n){e[n]=Pn.call(this,t)})),e}function Cn(t,e,n,r){tn(t,e,function(t,e){n(t,function(t,n){e(t,!n)})},r)}var En=Nt(Cn),Tn=Rt(Cn),In=Et(Tn,1);function On(t){return function(){return t}}function Nn(t,e,n){var r=5,i=0,o={times:r,intervalFunc:On(i)};if(arguments.length<3&&"function"==typeof t?(n=e||j,e=t):(!function(t,e){if("object"==typeof e)t.times=+e.times||r,t.intervalFunc="function"==typeof e.interval?e.interval:On(+e.interval||i),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||r}}(o,t),n=n||j),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var a=b(e),s=1;!function t(){a(function(e){e&&s++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(e))?setTimeout(t,o.intervalFunc(s)):n.apply(null,arguments)})}()}var An=function(t,e){e||(e=t,t=null);var n=b(e);return s(function(e,r){function i(t){n.apply(null,e.concat(t))}t?Nn(t,i,r):Nn(i,r)})};function Ln(t,e){vn(we,t,e)}var Mn=Nt(Ae(Boolean,Ne)),Rn=Rt(Ae(Boolean,Ne)),kn=Et(Rn,1);function Bn(t,e,n){var r=b(e);function i(t,e){var n=t.criteria,r=e.criteria;return n<r?-1:n>r?1:0}Lt(t,function(t,e){r(t,function(n,r){if(n)return e(n);e(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);n(null,zt(e.sort(i),$e("value")))})}function Dn(t,e,n){var r=b(t);return s(function(i,o){var a,s=!1;i.push(function(){s||(o.apply(null,arguments),clearTimeout(a))}),a=setTimeout(function(){var e=t.name||"anonymous",r=new Error('Callback function "'+e+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),s=!0,o(r)},e),r.apply(null,i)})}var Un=Math.ceil,Fn=Math.max;function Xn(t,e,n,r){var i=b(n);kt(function(t,e,n,r){for(var i=-1,o=Fn(Un((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}(0,t,1),e,i,r)}var Yn=Et(Xn,1/0),jn=Et(Xn,1);function Wn(t,e,n,r){arguments.length<=3&&(r=n,n=e,e=K(t)?[]:{}),r=W(r||j);var i=b(n);Ot(t,function(t,n,r){i(e,t,n,r)},function(t){r(t,e)})}function Hn(t,e){var n,r=null;e=e||j,ze(t,function(t,e){b(t)(function(t,i){n=arguments.length>2?o(arguments,1):i,r=t,e(!t)})},function(){e(r,n)})}function zn(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function qn(t,e,n){n=Pt(n||j);var r=b(e);if(!t())return n(null);var i=function(e){if(e)return n(e);if(t())return r(i);var a=o(arguments,1);n.apply(null,[null].concat(a))};r(i)}function Gn(t,e,n){qn(function(){return!t.apply(this,arguments)},e,n)}var Vn=function(t,e){if(e=W(e||j),!K(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var n=0;function r(e){var r=b(t[n++]);e.push(Pt(i)),r.apply(null,e)}function i(i){if(i||n===t.length)return e.apply(null,arguments);r(o(arguments,1))}r([])},Zn={apply:a,applyEach:Mt,applyEachSeries:Dt,asyncify:d,auto:Ht,autoInject:ve,cargo:xe,compose:Se,concat:Te,concatLimit:Ee,concatSeries:Ie,constant:Oe,detect:Me,detectLimit:Re,detectSeries:ke,dir:De,doDuring:Ue,doUntil:Xe,doWhilst:Fe,during:Ye,each:We,eachLimit:He,eachOf:Ot,eachOfLimit:Ct,eachOfSeries:we,eachSeries:ze,ensureAsync:qe,every:Ve,everyLimit:Ze,everySeries:Je,filter:en,filterLimit:nn,filterSeries:rn,forever:on,groupBy:sn,groupByLimit:an,groupBySeries:un,log:ln,map:Lt,mapLimit:kt,mapSeries:Bt,mapValues:cn,mapValuesLimit:fn,mapValuesSeries:hn,memoize:dn,nextTick:mn,parallel:yn,parallelLimit:gn,priorityQueue:xn,queue:bn,race:wn,reduce:_e,reduceRight:_n,reflect:Pn,reflectAll:Sn,reject:En,rejectLimit:Tn,rejectSeries:In,retry:Nn,retryable:An,seq:Pe,series:Ln,setImmediate:p,some:Mn,someLimit:Rn,someSeries:kn,sortBy:Bn,timeout:Dn,times:Yn,timesLimit:Xn,timesSeries:jn,transform:Wn,tryEach:Hn,unmemoize:zn,until:Gn,waterfall:Vn,whilst:qn,all:Ve,allLimit:Ze,allSeries:Je,any:Mn,anyLimit:Rn,anySeries:kn,find:Me,findLimit:Re,findSeries:ke,forEach:We,forEachSeries:ze,forEachLimit:He,forEachOf:Ot,forEachOfSeries:we,forEachOfLimit:Ct,inject:_e,foldl:_e,foldr:_n,select:en,selectLimit:nn,selectSeries:rn,wrapSync:d};e.default=Zn,e.apply=a,e.applyEach=Mt,e.applyEachSeries=Dt,e.asyncify=d,e.auto=Ht,e.autoInject=ve,e.cargo=xe,e.compose=Se,e.concat=Te,e.concatLimit=Ee,e.concatSeries=Ie,e.constant=Oe,e.detect=Me,e.detectLimit=Re,e.detectSeries=ke,e.dir=De,e.doDuring=Ue,e.doUntil=Xe,e.doWhilst=Fe,e.during=Ye,e.each=We,e.eachLimit=He,e.eachOf=Ot,e.eachOfLimit=Ct,e.eachOfSeries=we,e.eachSeries=ze,e.ensureAsync=qe,e.every=Ve,e.everyLimit=Ze,e.everySeries=Je,e.filter=en,e.filterLimit=nn,e.filterSeries=rn,e.forever=on,e.groupBy=sn,e.groupByLimit=an,e.groupBySeries=un,e.log=ln,e.map=Lt,e.mapLimit=kt,e.mapSeries=Bt,e.mapValues=cn,e.mapValuesLimit=fn,e.mapValuesSeries=hn,e.memoize=dn,e.nextTick=mn,e.parallel=yn,e.parallelLimit=gn,e.priorityQueue=xn,e.queue=bn,e.race=wn,e.reduce=_e,e.reduceRight=_n,e.reflect=Pn,e.reflectAll=Sn,e.reject=En,e.rejectLimit=Tn,e.rejectSeries=In,e.retry=Nn,e.retryable=An,e.seq=Pe,e.series=Ln,e.setImmediate=p,e.some=Mn,e.someLimit=Rn,e.someSeries=kn,e.sortBy=Bn,e.timeout=Dn,e.times=Yn,e.timesLimit=Xn,e.timesSeries=jn,e.transform=Wn,e.tryEach=Hn,e.unmemoize=zn,e.until=Gn,e.waterfall=Vn,e.whilst=qn,e.all=Ve,e.allLimit=Ze,e.allSeries=Je,e.any=Mn,e.anyLimit=Rn,e.anySeries=kn,e.find=Me,e.findLimit=Re,e.findSeries=ke,e.forEach=We,e.forEachSeries=ze,e.forEachLimit=He,e.forEachOf=Ot,e.forEachOfSeries=we,e.forEachOfLimit=Ct,e.inject=_e,e.foldl=_e,e.foldr=_n,e.select=en,e.selectLimit=nn,e.selectSeries=rn,e.wrapSync=d,Object.defineProperty(e,"__esModule",{value:!0})})(e)}).call(this,n(93).setImmediate,n(47),n(3),n(15)(t))},function(t,e,n){"use strict";var r=n(95),i=n(26),o=i.clamp;function a(t,e){if(!t)return e;var n,r={};for(n in e)e.hasOwnProperty(n)&&(void 0===t[n]?r[n]=e[n]:r[n]=t[n]);return r}function s(t,e,n){return n<t?0:n>=e?1:(n=(n-t)/(e-t))*n*(3-2*n)}function u(t,e,n,r,i,o,a,s){var u,l,f,c,h,p,d,m,v,y,g,b,x,w,_,P,S,C,E,T,I,O,N=i[0][0],A=i[0][1],L=i[0][2],M=i[1][0],R=i[1][1],k=i[1][2],B=i[2][0],D=i[2][1],U=i[2][2];for(l=0;l<r;l+=1)for(v=(m=l*n*4)-4*n,y=m+4*n,l<1&&(v=m),l>=n-1&&(y=m),u=0;u<n;u+=1)f=4*(l*n+u),b=(g=4*u)-4,x=g+4,u<1&&(b=g),u>=n-1&&(x=g),_=v+g,P=v+x,S=m+b,C=m+g,E=m+x,T=y+b,I=y+g,O=y+x,c=t[w=v+b]*N+t[_]*A+t[P]*L+t[S]*M+t[C]*R+t[E]*k+t[T]*B+t[I]*D+t[O]*U,h=t[w+1]*N+t[_+1]*A+t[P+1]*L+t[S+1]*M+t[C+1]*R+t[E+1]*k+t[T+1]*B+t[I+1]*D+t[O+1]*U,p=t[w+2]*N+t[_+2]*A+t[P+2]*L+t[S+2]*M+t[C+2]*R+t[E+2]*k+t[T+2]*B+t[I+2]*D+t[O+2]*U,d=o?t[w+3]*N+t[_+3]*A+t[P+3]*L+t[S+3]*M+t[C+3]*R+t[E+3]*k+t[T+3]*B+t[I+3]*D+t[O+3]*U:t[f+3],s&&(c=h=p=(c+h+p)/3),a&&(c=255-c,h=255-h,p=255-p),e[f]=c,e[f+1]=h,e[f+2]=p,e[f+3]=d}function l(t,e,n,r,i,o,a,s){var u,l,f,c,h,p,d,m,v,y,g,b,x,w,_,P,S,C,E,T,I,O,N,A,L,M,R,k,B,D,U,F,X,Y,j,W,H,z=i[0][0],q=i[0][1],G=i[0][2],V=(i[0][3],i[0][4]),Z=i[1][0],J=i[1][1],$=i[1][2],Q=(i[1][3],i[1][4]),K=i[2][0],tt=i[2][1],et=i[2][2],nt=(i[2][3],i[2][4]),rt=i[3][0],it=i[3][1],ot=i[3][2],at=(i[3][3],i[3][4]),st=i[4][0],ut=i[4][1],lt=i[4][2],ft=(i[4][3],i[4][4]);for(l=0;l<r;l+=1)for(v=(m=l*n*4)-4*n,g=m-4*n*2,y=m+4*n,b=m+4*n*2,l<1&&(v=m),l>=n-1&&(y=m),l<2&&(g=v),l>=n-2&&(b=y),u=0;u<n;u+=1)f=4*(l*n+u),w=(x=4*u)-4,_=x+4,P=x-8,S=x+8,u<1&&(w=x),u>=n-1&&(_=x),u<2&&(P=w),u>=n-2&&(S=_),E=g+w,T=g+x,I=g+_,g+S,O=v+P,N=v+w,A=v+x,L=v+_,v+S,M=m+P,R=m+w,k=m+x,B=m+_,m+S,D=y+P,U=y+w,F=y+x,X=y+_,y+S,Y=b+P,j=b+w,W=b+x,H=b+_,b+S,c=t[C=g+P]*z+t[E]*q+t[T]*G+t[I]*V+t[T]*V+t[O]*Z+t[N]*J+t[A]*$+t[L]*Q+t[A]*Q+t[M]*K+t[R]*tt+t[k]*et+t[B]*nt+t[k]*nt+t[D]*rt+t[U]*it+t[F]*ot+t[X]*at+t[F]*at+t[Y]*st+t[j]*ut+t[W]*lt+t[H]*ft+t[W]*ft,h=t[C+1]*z+t[E+1]*q+t[T+1]*G+t[I+1]*V+t[T+1]*V+t[O+1]*Z+t[N+1]*J+t[A+1]*$+t[L+1]*Q+t[A+1]*Q+t[M+1]*K+t[R+1]*tt+t[k+1]*et+t[B+1]*nt+t[k+1]*nt+t[D+1]*rt+t[U+1]*it+t[F+1]*ot+t[X+1]*at+t[F+1]*at+t[Y+1]*st+t[j+1]*ut+t[W+1]*lt+t[H+1]*ft+t[W+1]*ft,p=t[C+2]*z+t[E+2]*q+t[T+2]*G+t[I+2]*V+t[T+2]*V+t[O+2]*Z+t[N+2]*J+t[A+2]*$+t[L+2]*Q+t[A+2]*Q+t[M+2]*K+t[R+2]*tt+t[k+2]*et+t[B+2]*nt+t[k+2]*nt+t[D+2]*rt+t[U+2]*it+t[F+2]*ot+t[X+2]*at+t[F+2]*at+t[Y+2]*st+t[j+2]*ut+t[W+2]*lt+t[H+2]*ft+t[W+2]*ft,d=o?t[C+3]*z+t[E+3]*q+t[T+3]*G+t[I+3]*V+t[T+3]*V+t[O+3]*Z+t[N+3]*J+t[A+3]*$+t[L+3]*Q+t[A+3]*Q+t[M+3]*K+t[R+3]*tt+t[k+3]*et+t[B+3]*nt+t[k+3]*nt+t[D+3]*rt+t[U+3]*it+t[F+3]*ot+t[X+3]*at+t[F+3]*at+t[Y+3]*st+t[j+3]*ut+t[W+3]*lt+t[H+3]*ft+t[W+3]*ft:t[f+3],s&&(c=h=p=(c+h+p)/3),a&&(c=255-c,h=255-h,p=255-p),e[f]=c,e[f+1]=h,e[f+2]=p,e[f+3]=d}function f(t,e){return[t[(e*=4)+0],t[e+1],t[e+2],t[e+3]]}function c(t,e,n){t[(e*=4)+0]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3]}function h(t,e,n,r,i,o,a){var s,u,l,h,p,d,m;for(n=i/2+(n||0),r=o/2+(r||0),s=0;s<o;s+=1)for(u=0;u<i;u+=1)l=u-n,h=s-r,p=(m=a(p=Math.sqrt(Math.pow(l,2)+Math.pow(h,2)),d=Math.atan2(h,l)))[0],d=m[1],c(e,u+s*i,f(t,Math.round(n+Math.cos(d)*p)+Math.round(r+Math.sin(d)*p)*i))}var p={invert:function(t,e,n,r){var i,o=n*r*4;for(i=0;i<o;i+=4)e[i]=255-t[i],e[i+1]=255-t[i+1],e[i+2]=255-t[i+2],e[i+3]=t[i+3]},sepia:function(t,e,n,r){var i,o,a,s,u=n*r*4;for(i=0;i<u;i+=4)o=t[i],a=t[i+1],s=t[i+2],e[i]=.393*o+.769*a+.189*s,e[i+1]=.349*o+.686*a+.168*s,e[i+2]=.272*o+.534*a+.131*s,e[i+3]=t[i+3]},solarize:function(t,e,n,r){var i,o,a,s,u=n*r*4;for(i=0;i<u;i+=4)o=t[i],a=t[i+1],s=t[i+2],e[i]=o>127?255-o:o,e[i+1]=a>127?255-a:a,e[i+2]=s>127?255-s:s,e[i+3]=t[i+3]},brightness:function(t,e,n,r,i){i=a(i,{brightness:1,contrast:0});var s,u,l,f,c,h=n*r*4,p=o(i.contrast,-1,1)/2,d=1+o(i.brightness,-1,1),m=d<0?-d:d,v=d<0?0:d;for(c=255*-((p=.5*Math.tan((p+1)*Math.PI/4))-.5),s=0;s<h;s+=4)u=((u=t[s])+u*m+v)*p+c,l=((l=t[s+1])+l*m+v)*p+c,f=((f=t[s+2])+f*m+v)*p+c,e[s]=u,e[s+1]=l,e[s+2]=f,e[s+3]=t[s+3]},desaturate:function(t,e,n,r,i){var o,s,u,l,f,c=n*r*4;for("ITU-R BT.601"===(i=a(i,{method:"ITU-R BT.601"})).method?(u=.3,l=.59,f=.11):"ITU-R BT.709"===i.method&&(u=.2125,l=.7154,f=.0721),o=0;o<c;o+=4)s=t[o]*u+t[o+1]*l+t[o+2]*f,e[o]=s,e[o+1]=s,e[o+2]=s,e[o+3]=t[o+3]},lighten:function(t,e,n,r,i){i=a(i,{amount:.25});var s,u=n*r*4,l=1+o(i.amount,0,1);for(s=0;s<u;s+=4)e[s]=t[s]*l,e[s+1]=t[s+1]*l,e[s+2]=t[s+2]*l,e[s+3]=t[s+3]},noise:function(t,e,n,r,i){i=a(i,{amount:.5,strength:.5,mono:!1});var s,u,l,f,c,h=n*r*4,p=o(i.amount,0,1),d=o(i.strength,0,1),m=!!i.mono,v=Math.random;for(s=0;s<h;s+=4)l=t[s],f=t[s+1],c=t[s+2],(u=v())<p&&(m?(l+=u=d*(u/p*2-1)*255,f+=u,c+=u):(l+=d*v()*255,f+=d*v()*255,c+=d*v()*255)),e[s]=l,e[s+1]=f,e[s+2]=c,e[s+3]=t[s+3]},flipv:function(t,e,n,r){var i,o,a,s;for(o=0;o<r;o+=1)for(i=0;i<n;i+=1)a=4*(o*n+i),e[s=4*(o*n+(n-i-1))]=t[a],e[s+1]=t[a+1],e[s+2]=t[a+2],e[s+3]=t[a+3]},fliph:function(t,e,n,r){var i,o,a,s;for(o=0;o<r;o+=1)for(i=0;i<n;i+=1)a=4*(o*n+i),e[s=4*((r-o-1)*n+i)]=t[a],e[s+1]=t[a+1],e[s+2]=t[a+2],e[s+3]=t[a+3]},blur:function(t,e,n,i,o){o=a(o,{radius:10});for(var s=0;s<t.length;s+=1)e[s]=t[s];r(e,n,i,o.radius)},glow:function(t,e,n,r,i){var s,u,l,f,c=n*r*4,h=(i=a(i,{amount:.75,kernelSize:5})).amount,p=[];for(function(t,e,n,r,i){var a,s,u,l,f,c,h,p,d,m,v,y,g,b,x,w=[],_=[[1]];for(b=(i=o(i,3,13))+(g=-i/2+(i%2?.5:0)),u=1;u<13;u+=1)_[0][u]=0;for(u=1;u<13;u+=1)for(_[u]=[1],l=1;l<13;l+=1)_[u][l]=_[u-1][l]+_[u-1][l-1];for(x=_[i-1],u=0,y=0;u<i;u+=1)y+=x[u];for(u=0;u<i;u+=1)x[u]/=y;for(s=0;s<r;s+=1)for(a=0;a<n;a+=1){for(f=c=h=p=0,u=g;u<b;u+=1)m=a+u,v=s,y=x[u-g],m<0&&(m=0),m>=n&&(m=n-1),f+=t[d=4*(v*n+m)]*y,c+=t[d+1]*y,h+=t[d+2]*y,p+=t[d+3]*y;w[d=4*(s*n+a)]=f,w[d+1]=c,w[d+2]=h,w[d+3]=p}for(s=0;s<r;s+=1)for(a=0;a<n;a+=1){for(f=c=h=p=0,u=g;u<b;u+=1)m=a,v=s+u,y=x[u-g],v<0&&(v=0),v>=r&&(v=r-1),f+=w[d=4*(v*n+m)]*y,c+=w[d+1]*y,h+=w[d+2]*y,p+=w[d+3]*y;e[d=4*(s*n+a)]=f,e[d+1]=c,e[d+2]=h,e[d+3]=p}}(t,p,n,r,i.kernelSize),s=0;s<c;s+=4)u=t[s]+p[s]*h,l=t[s+1]+p[s+1]*h,f=t[s+2]+p[s+2]*h,u>255&&(u=255),l>255&&(l=255),f>255&&(f=255),e[s]=u,e[s+1]=l,e[s+2]=f,e[s+3]=t[s+3]},convolve3x3:function(t,e,n,r,i){u(t,e,n,r,i.kernel)},convolve5x5:function(t,e,n,r,i){l(t,e,n,r,i.kernel)},sharpen3x3:function(t,e,n,r,i){i=a(i,{strength:1});var s=-o(i.strength,0,1);u(t,e,n,r,[[s,s,s],[s,1-8*s,s],[s,s,s]])},sharpen5x5:function(t,e,n,r,i){i=a(i,{strength:1});var s=-o(i.strength,0,1);l(t,e,n,r,[[s,s,s,s,s],[s,s,s,s,s],[s,s,1-24*s,s,s],[s,s,s,s,s],[s,s,s,s,s]])},soften3x3:function(t,e,n,r){var i=1/9;u(t,e,n,r,[[i,i,i],[i,i,i],[i,i,i]])},soften5x5:function(t,e,n,r){var i=.04;l(t,e,n,r,[[i,i,i,i,i],[i,i,i,i,i],[i,i,i,i,i],[i,i,i,i,i],[i,i,i,i,i]])},crossedges:function(t,e,n,r,i){i=a(i,{strength:1});var s=5*o(i.strength,0,1);u(t,e,n,r,[[0,-s,0],[-s,0,s],[0,s,0]],!1,!0)},emboss:function(t,e,n,r,i){var o,s=n*r*4,l=(i=a(i,{amount:1,angle:0})).amount,f=i.angle,c=Math.cos(-f)*l,h=Math.sin(-f)*l,p=[];for(u(t,p,n,r,[[-c-h,-h,-h+c],[-c,0,c],[h-c,h,h+c]]),o=0;o<s;o+=4)e[o]=128+p[o],e[o+1]=128+p[o+1],e[o+2]=128+p[o+2],e[o+3]=t[o+3]},findedges:function(t,e,n,r){var i,o,a,s,l,f,c,h=n*r*4,p=[],d=[];for(u(t,p,n,r,[[-1,0,1],[-2,0,2],[-1,0,1]]),u(t,d,n,r,[[-1,-2,-1],[0,0,0],[1,2,1]]),i=0;i<h;i+=4)a=d[i],s=p[i+1],l=d[i+1],f=p[i+2],c=d[i+2],(o=p[i])<0&&(o=-o),a<0&&(a=-a),s<0&&(s=-s),l<0&&(l=-l),f<0&&(f=-f),c<0&&(c=-c),e[i]=255-.8*(o+a),e[i+1]=255-.8*(s+l),e[i+2]=255-.8*(f+c),e[i+3]=t[i+3]},edgeenhance3x3:function(t,e,n,r){var i=-1/9;u(t,e,n,r,[[i,i,i],[i,17/9,i],[i,i,i]])},edgeenhance5x5:function(t,e,n,r){var i=-.04;l(t,e,n,r,[[i,i,i,i,i],[i,i,i,i,i],[i,i,1.96,i,i],[i,i,i,i,i],[i,i,i,i,i]])},laplace3x3:function(t,e,n,r){u(t,e,n,r,[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],!1,!0,!0)},laplace5x5:function(t,e,n,r){l(t,e,n,r,[[-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1],[-1,-1,24,-1,-1],[-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1]],!1,!0,!0)},rgbAdjust:function(t,e,n,r,i){i=a(i,{r:0,g:0,b:0,a:0});var s,u,l,f,c,h=n*r*4,p=255*o(i.r,-1,1),d=255*o(i.g,-1,1),m=255*o(i.b,-1,1),v=255*o(i.a,-1,1);for(s=0;s<h;s+=4)u=t[s]+p,l=t[s+1]+d,f=t[s+2]+m,c=t[s+3]+v,u<0&&(u=0),l<0&&(l=0),f<0&&(f=0),c<0&&(c=0),u>255&&(u=255),l>255&&(l=255),f>255&&(f=255),c>255&&(c=255),e[s]=u,e[s+1]=l,e[s+2]=f,e[s+3]=c},colorfilter:function(t,e,n,r,i){var s,u,l,f,c,h,p,d,m,v,y,g=n*r*4,b=!!(i=a(i,{luminosity:!1,r:1,g:.5,b:0})).luminosity,x=o(i.r,0,1),w=o(i.g,0,1),_=o(i.b,0,1);for(s=0;s<g;s+=4)d=.3*(u=t[s]/255)+.59*(l=t[s+1]/255)+.11*(f=t[s+2]/255),u=(u+u*x)/2,l=(l+l*w)/2,f=(f+f*_)/2,b&&(c=h=u,l>h&&(h=l),f>h&&(h=f),l<c&&(c=l),f<c&&(c=f),y=(v=h-c)*((p=u===h?(l-f)/v%6:l===h?(f-u)/v+2:(u-l)/v+4)-(m=p>>0)),u=l=f=d-(.3*u+.59*l+.11*f),0===m?(u+=v,l+=y):1===m?(u+=v-y,l+=v):2===m?(l+=v,f+=y):3===m?(l+=v-y,f+=v):4===m?(u+=y,f+=v):5===m&&(u+=v,f+=v-y)),e[s]=255*u,e[s+1]=255*l,e[s+2]=255*f,e[s+3]=t[s+3]},hslAdjust:function(t,e,n,r,i){i=a(i,{h:.5,s:.3,l:.1,a:0});var s,u,l,f,c,h,p,d,m,v,y,g,b,x,w,_=n*r*4,P=o(i.h,-1,1),S=o(i.s,-1,1),C=o(i.l,-1,1),E=255*o(i.a,-1,1),T=1+S*(S<0?1:2),I=C<0?1+C:1-C,O=C<0?0:255*C;for(P=6*P%6,s=0;s<_;s+=4)u=t[s],l=t[s+1],f=t[s+2],c=t[s+3]+E,0===P&&0===S||(l>(h=u)&&(h=l),f>h&&(h=f),l<(p=u)&&(p=l),f<p&&(p=f),d=h-p,(y=(p+h)/510)>0&&d>0&&(y<=.5?((v=d/(h+p)*T)>1&&(v=1),g=y*(1+v)):((v=d/(510-h-p)*T)>1&&(v=1),g=y+v-y*v),(m=u===h?l===p?5+(h-f)/d+P:1-(h-l)/d+P:l===h?f===p?1+(h-u)/d+P:3-(h-f)/d+P:u===p?3+(h-l)/d+P:5-(h-u)/d+P)<0&&(m+=6),m>=6&&(m-=6),x=(g-(b=y+y-g))*(m-(w=m>>0)),0===w?(u=g,l=b+x,f=b):1===w?(u=g-x,l=g,f=b):2===w?(u=b,l=g,f=b+x):3===w?(u=b,l=g-x,f=g):4===w?(u=b+x,l=b,f=g):5===w&&(u=g,l=b,f=g-x),u*=255,l*=255,f*=255)),l=l*I+O,f=f*I+O,(u=u*I+O)<0&&(u=0),l<0&&(l=0),f<0&&(f=0),c<0&&(c=0),u>255&&(u=255),l>255&&(l=255),f>255&&(f=255),c>255&&(c=255),e[s]=u,e[s+1]=l,e[s+2]=f,e[s+3]=c},posterize:function(t,e,n,r,i){i=a(i,{levels:5});var s,u=n*r*4,l=o(i.levels,2,256),f=256/l,c=256/(l-1);for(s=0;s<u;s+=4)e[s]=c*(t[s]/f>>0),e[s+1]=c*(t[s+1]/f>>0),e[s+2]=c*(t[s+2]/f>>0),e[s+3]=t[s+3]},removenoise:function(t,e,n,r){var i,o,a,s,u,l,f,c,h,p,d,m,v,y,g,b,x;for(o=0;o<r;o+=1)for(h=(c=o*n*4)-4*n,p=c+4*n,o<1&&(h=c),o>=n-1&&(p=c),i=0;i<n;i+=1)f=4*(o*n+i),m=(d=4*i)-4,v=d+4,i<1&&(m=d),i>=n-1&&(v=d),y=x=t[c+m],(l=t[c+v])<y&&(y=l),l>x&&(x=l),(l=t[h+d])<y&&(y=l),l>x&&(x=l),(l=t[p+d])<y&&(y=l),l>x&&(x=l),g=t[c+m+1],(l=t[c+v+1])<g&&(g=l),(l=t[h+d+1])<g&&(g=l),(l=t[p+d+1])<g&&(g=l),b=t[c+m+2],(l=t[c+v+2])<b&&(b=l),(l=t[h+d+2])<b&&(b=l),(l=t[p+d+2])<b&&(b=l),a=t[f],s=t[f+1],u=t[f+2],a<y&&(a=y),a>x&&(a=x),s<g&&(s=g),s>void 0&&(s=void 0),u<b&&(u=b),u>void 0&&(u=void 0),e[f]=a,e[f+1]=s,e[f+2]=u,e[f+3]=t[f+3]},mosaic:function(t,e,n,r,i){i=a(i,{blockSize:8});var s,u,l,f,c,h,p,d,m,v,y,g,b,x=o(i.blockSize,1,Math.max(n,r)),w=Math.ceil(r/x),_=Math.ceil(n/x);for(s=0,0,p=0;p<w;p+=1){for(u=o(s+x,0,r),l=0,d=0;d<_;d+=1){for(f=o(l+x,0,n),m=t[c=s*n+l<<2],v=t[c+1],y=t[c+2],g=s;g<u;g+=1)for(b=l;b<f;b+=1)e[h=g*n+b<<2]=m,e[h+1]=v,e[h+2]=y,e[h+3]=t[h+3];l=f,1}s=u}},equalize:function(t,e,n,r,i){var a,s,u,l,f=n*r,c=Math.round,h=new Array(256);for(s=0;s<256;s+=1)h[s]=0;for(s=0;s<f;s+=1)u=o(c(.3*t[a=4*s]+.59*t[a+1]+.11*t[a+2]),0,255),e[a+3]=u,h[u]+=1;var p=new Array(256);for(p[0]=h[0],s=1;s<256;s+=1)p[s]=p[s-1]+h[s];for(s=0;s<256;s+=1)p[s]=p[s]/f*255;for(s=0;s<f;s+=1)l=p[u=e[(a=4*s)+3]]/(u||1),e[a]=o(c(t[a]*l),0,255),e[a+1]=o(c(t[a+1]*l),0,255),e[a+2]=o(c(t[a+2]*l),0,255),e[a+3]=t[a+3]},mask:function(t,e,n,r,i){var o,a=n*r*4,s=i.data;for(o=0;o<a;o+=4)e[o]=t[o],e[o+1]=t[o+1],e[o+2]=t[o+2],e[o+3]=t[o+3]*s[o]/255*s[o+3]/255},bump:function(t,e,n,r,i){var u=(i=a(i,{dx:0,dy:0,radius:0,zoom:0})).radius,l=o(i.zoom,0,1);return h(t,e,i.dx,i.dy,n,r,function(t,e){return[t*s(0,l,t/u),e]})},dent:function(t,e,n,r,i){var u=(i=a(i,{dx:0,dy:0,radius:0,zoom:0})).radius,l=o(i.zoom,0,1);return h(t,e,i.dx,i.dy,n,r,function(t,e){return[2*t-t*s(0,l,t/u),e]})},pinch:function(t,e,n,r,s){s=a(s,{dx:0,dy:0,zoom:0});var u=i.distance(0,0,n,r),l=o(.75*s.zoom,-.75,.75);return h(t,e,s.dx,s.dy,n,r,function(t,e){return[t*Math.pow(u/t,l)*(1-l),e]})},splash:function(t,e,n,r,i){var o=(i=a(i,{dx:0,dy:0,radius:0})).radius;return h(t,e,i.dx,i.dy,n,r,function(t,e){return[t>o?o:t,e]})},twirl:function(t,e,n,r,o){o=a(o,{dx:0,dy:0,radius:0,angle:0});var u=i.radians(o.angle),l=o.radius;return h(t,e,o.dx,o.dy,n,r,function(t,e){return[t,e+(1-s(-l,l,t))*u]})}};t.exports=p},function(t,e,n){"use strict";var r=n(96),i=n(49),o=n(26),a=r.getNativeModes();function s(t,e,n){return t.createImageData?t.createImageData(e,n):t.getImageData(0,0,e,n)}var u={};function l(t,e,n){var r=n.transform.matrix();t.translate(e.width/2,e.height/2),t.transform(r[0],r[1],r[3],r[4],r[6],r[7]),(n.flip_h||n.flip_v)&&t.scale(n.flip_h?-1:1,n.flip_v?-1:1),t.translate(-n.img.width/2,-n.img.height/2)}function f(t,e){var n,r,i,a,s,u,l,f,c=function(t,e){var n,r,i,a,s,u=e.img.width,l=e.img.height,f=[{x:0,y:0},{x:u,y:0},{x:0,y:l},{x:u,y:l}],c=o.transform();c=(c=(c=c.translate(t.width/2,t.height/2)).append(e.transform)).translate(-e.img.width/2,-e.img.height/2);for(var h=0;h<4;h+=1)n=c.transformPoint(f[h]),0===h?(r=a=n.x,i=s=n.y):(n.x<r&&(r=n.x),n.x>a&&(a=n.x),n.y<i&&(i=n.y),n.y>s&&(s=n.y));return{x:r,y:i,width:a-r,height:s-i}}(t,e);return n=c,r={x:0,y:0,width:t.width,height:t.height},i=n.x+n.width,a=n.y+n.height,s=r.x+r.width,u=r.y+r.height,l=Math.max(n.x,r.x),f=Math.max(n.y,r.y),c={x:l,y:f,width:Math.max(Math.min(i,s)-l,0),height:Math.max(Math.min(a,u)-f,0)},{x:Math.round(c.x),y:Math.round(c.y),width:Math.ceil(c.width),height:Math.ceil(c.height)}}function c(t,e,n){var r=document.createElement("canvas"),i=r.getContext("2d");return r.width=n.width,r.height=n.height,i.translate(-n.x,-n.y),l(i,t,e),i.drawImage(e.img,0,0),i.getImageData(0,0,n.width,n.height)}u.toImage=function(t){var e=new Image;return e.width=t.width,e.height=t.height,e.src=t.toDataURL(),e},u.load=function(t,e){return e.isFill()?u.generateColor(t,e):e.isGradient()?u.generateGradient(t,e):e.isHtmlCanvas()?u.loadHtmlCanvas(e.data):e.isImage()?u.loadImage(e.data):e.isImageCanvas()?u.loadImageCanvas(e.data):void 0},u.loadHtmlCanvas=function(t){return t},u.loadImageCanvas=function(t){return t.render()},u.loadImage=function(t){var e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,e.width,e.height),e},u.generateColor=function(t,e){var n=void 0!==e.width?e.width:t.width,r=void 0!==e.height?e.height:t.height,i=document.createElement("canvas"),o=i.getContext("2d");return i.width=n,i.height=r,o.fillStyle=e.data,o.fillRect(0,0,n,r),i},u.generateGradient=function(t,e){var n,r,i,o,a,s=void 0!==e.width?e.width:t.width,u=void 0!==e.height?e.height:t.height,l=s/2,f=u/2,c=document.createElement("canvas"),h=c.getContext("2d"),p=e.data,d=p.type||"linear",m=p.rotation||0;return"radial"===d?n=h.createRadialGradient(l,f,0,l,f,Math.min(s,u)/2):(m<0&&(m+=360),0<=m&&m<45?(r=0,o=s,a=u-(i=u/2*(45-m)/45)):45<=m&&m<135?(i=0,o=s-(r=s*(m-45)/90),a=u):135<=m&&m<225?(r=s,o=0,a=u-(i=u*(m-135)/90)):225<=m&&m<315?(i=u,o=s-(r=s*(1-(m-225)/90)),a=0):315<=m&&(r=0,o=s,a=u-(i=u-u/2*(m-315)/45)),n=h.createLinearGradient(r,i,o,a)),n.addColorStop(p.spread||0,p.startColor),n.addColorStop(1,p.endColor),c.width=s,c.height=u,h.fillStyle=n,h.fillRect(0,0,s,u),c},u.processImage=function(t,e){if(0===e.length)return t;for(var n,r,o=t.getContext("2d"),a=t.width,u=t.height,l=o.getImageData(0,0,a,u),f=s(o,a,u),c=0;c<e.length;c+=1)c>0&&(r=l,l=f,f=r),n=e[c],i[n.name](l.data,f.data,a,u,n.options);return o.putImageData(f,0,0),t},u.processMask=function(t,e){if(0===e.layers.length)return t;e.width=t.width,e.height=t.height;var n=u.renderBW(e),r={name:"mask",options:{data:n.getContext("2d").getImageData(0,0,n.width,n.height).data,x:0,y:0,width:n.width,height:n.height}};return u.processImage(t,[r])},u.processLayer=function(t,e){var n=u.load(t,e),r=u.processMask(n,e.mask);return u.processImage(r,e.filters)},u.mergeManualBlend=function(t,e){return function(n){for(var i,o,a,u,l,h=n.getContext("2d"),p=t.width,d=t.height,m=h.getImageData(0,0,p,d),v=s(h,p,d),y=0;y<e.length;y+=1)if(i=e[y],(l=f(t,i)).width>0&&l.height>0){if(y>0&&(a=m,m=v,v=a),u={data:c(t,i,l).data,width:l.width,height:l.height,opacity:i.opacity,dx:l.x,dy:l.y},void 0===r[i.blendmode])throw new Error("No blend mode named '"+i.blendmode+"'");o=r.realBlendMode(i.blendmode),r[o](m.data,v.data,p,d,u)}return h.putImageData(v,0,0),n}},u.singleLayerWithOpacity=function(t,e){var n=document.createElement("canvas"),r=n.getContext("2d");return n.width=t.width,n.height=t.height,r.save(),l(r,t,e),1!==e.opacity&&(r.globalAlpha=e.opacity),r.drawImage(e.img,0,0),r.restore(),n},u.mergeNativeBlend=function(t,e){return function(n){for(var i,o=n.getContext("2d"),a=0;a<e.length;a+=1)i=e[a],o.save(),l(o,t,i),1!==i.opacity&&(o.globalAlpha=i.opacity),"source-over"!==i.blendmode&&(o.globalCompositeOperation=r.realBlendMode(i.blendmode)),o.drawImage(i.img,0,0),o.restore();return n}},u.createRenderPipe=function(t,e,n){var r,i,o,s,u=[];function l(){if(void 0!==i){var n=i?t.mergeNativeBlend:t.mergeManualBlend;u.push(n(e,o))}}for(var f=1;f<n.length;f+=1)r=(s=n[f]).blendmode,void 0!==i&&i===a[r]||(l(),o=[]),o.push(s),i=a[r],f===n.length-1&&l();return u},u.merge=function(t,e){for(var n=u.createRenderPipe(u,t,e),r=u.singleLayerWithOpacity(t,e[0]),i=0;i<n.length;i+=1)r=n[i](r);return r},u.composite=function(t,e){return e&&0!==e.length?1===e.length?u.singleLayerWithOpacity(t,e[0]):u.merge(t,e):null},u.getLayerData=function(t,e){for(var n,r,i=[],o=0;o<e.length;o+=1)r=t.layers[o],n={img:e[o],opacity:r.opacity,blendmode:r.blendmode,transform:r.transform,flip_h:r.flip_h,flip_v:r.flip_v},i.push(n);return i},u.render=function(t){for(var e=[],n=0;n<t.layers.length;n+=1)e.push(u.processLayer(t,t.layers[n]));return u.composite(t,u.getLayerData(t,e))},u.renderBW=function(t){var e=u.render(t);e.getContext("2d").getImageData(0,0,e.width,e.height).data;return u.processImage(e,[{name:"desaturate",options:{method:"ITU-R BT.709"}}])},t.exports=u},function(t,e,n){"use strict";var r=n(4),i=n(14),o={translate:function(t){return t||(t=r.ZERO),(new i).translate(t.x,t.y).transformShape(this)},scale:function(t,e){var n,o;e||(e=r.ZERO),"number"==typeof t?(n=t,o=t):(n=t.x,o=t.y);var a=new i;return(a=(a=(a=a.translate(e.x,e.y)).scale(n,o)).translate(-e.x,-e.y)).transformShape(this)},rotate:function(t,e){e||(e=r.ZERO);var n=new i;return(n=(n=(n=n.translate(e.x,e.y)).rotate(t)).translate(-e.x,-e.y)).transformShape(this)},skew:function(t,e){e||(e=r.ZERO);var n=new i;return(n=(n=(n=n.translate(e.x,e.y)).skew(t.x,t.y)).translate(-e.x,-e.y)).transformShape(this)}};t.exports=o},function(t,e,n){"use strict";var r=n(6),i=n(10),o=n(14),a=null,s=function(t){var e,n=Array.prototype.slice.call(arguments,1),r=arguments[1],i=arguments[2],a=arguments[arguments.length-1];this.text=String(t),"number"==typeof r?(this._x=r,this._y=i,n=n.slice(2)):Array.isArray(r)?(this._x=r[0],this._y=r[1],n=n.slice(1)):"object"==typeof r?(this._x=void 0!==r.x?r.x:0,this._y=void 0!==r.y?r.y:0,n=n.slice(1)):(this._x=0,this._y=0),"object"==typeof a?(e=a,r!==a&&(n=n.slice(0,n.length-1))):e={},n.length?this.fontFamily=n.shift():this.fontFamily=e.fontFamily||e.fontName||e.font||"sans-serif",n.length?this.fontSize=n.shift():this.fontSize=e.fontSize||24,n.length?this.textAlign=n.shift():this.textAlign=e.align||e.textAlign||"left",n.length?this.fill=n.shift():this.fill=e.fill||"black",this.transform=new o};s.prototype.clone=function(){var t=new s;return t.text=this.text,t._x=this._x,t._y=this._y,t.fontFamily=this.fontFamily,t.fontSize=this.fontSize,t.textAlign=this.textAlign,t.fill=r.clone(this.fill),t.transform=this.transform,t},s._getDummyContext=function(){return a||(a="undefined"!=typeof document?document.createElement("canvas").getContext("2d"):{font:"10px sans-serif",measureText:function(t){var e=parseFloat(this.font);return{width:t.length*e*.6}}}),a},s.prototype._getFont=function(){return this.fontSize+"px "+this.fontFamily},s.prototype.colorize=function(t){var e=this.clone();return e.fill=r.clone(t),e},s.prototype.draw=function(t){t.save(),t.font=this._getFont(),t.textAlign=this.textAlign;var e=this.transform.m;t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.fillStyle=r.toCSS(this.fill),t.fillText(this.text,this._x,this._y),t.restore()},s.prototype.bounds=function(){var t,e=s._getDummyContext(),n=this._x;return e.font=this._getFont(),t=e.measureText(this.text),"center"===this.textAlign?n=this._x-t.width/2:"right"===this.textAlign&&(n=this._x-t.width),new i(n,this._y-this.fontSize,t.width,1.2*this.fontSize)},s.prototype.toSVG=function(){var t,e="<text";if(e+=' x="'+this._x+'"',e+=' y="'+this._y+'"',e+=' font-family="'+this.fontFamily+'"',e+=' font-size="'+this.fontSize+'"',"left"===this.textAlign?t="start":"center"===this.textAlign?t="middle":"right"===this.textAlign&&(t="end"),e+=' text-anchor="'+t+'"',"black"!==this.fill){var n=r.parse(this.fill);e+=' fill="'+n.toHex(!0)+'"',n.a<1&&(e+=' opacity="'+n.a+'"')}return this.transform.isIdentity()||(e+=' transform="matrix('+this.transform.m.join(",")+')"'),e+=">",e+=this.text,e+="</text>"},t.exports=s},function(t,e,n){"use strict";var r=function(t,e,n){this.x=void 0===t?0:t,this.y=void 0===e?0:e,this.z=void 0===n?0:n};r.ZERO=new r(0,0,0),r.up=function(){return new r(0,1,0)},r.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},r.cross=function(t,e){return new r(t.y*e.z-t.z*e.y,t.z*e.x-t.x*e.z,t.x*e.y-t.y*e.x)},r.prototype.toString=function(){return"["+this.x+", "+this.y+", "+this.z+"]"},r.prototype.toArray=function(){var t=[];return t.push(this.x),t.push(this.y),t.push(this.z),t},r.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},r.prototype.normalize=function(){var t,e;return 0===(t=this.getLength())?this:(e=1/t,new r(this.x*e,this.y*e,this.z*e))},r.prototype.add=function(t){return new r(this.x+t.x,this.y+t.y,this.z+t.z)},r.prototype.subtract=function(t){return new r(this.x-t.x,this.y-t.y,this.z-t.z)},r.prototype.transform=function(t){var e,n,i,o,a;return a=t,e=this.x*a.m[0]+this.y*a.m[4]+this.z*a.m[8]+a.m[12],n=this.x*a.m[1]+this.y*a.m[5]+this.z*a.m[9]+a.m[13],i=this.x*a.m[2]+this.y*a.m[6]+this.z*a.m[10]+a.m[14],o=this.x*a.m[3]+this.y*a.m[7]+this.z*a.m[11]+a.m[15],new r(e/o,n/o,i/o)},t.exports=r},function(t,e){function n(t,e){for(var n in t)e[n]=t[n]}function r(t,e){var r=t.prototype;if(Object.create){var i=Object.create(e.prototype);r.__proto__=i}if(!(r instanceof e)){function o(){}o.prototype=e.prototype,n(r,o=new o),t.prototype=r=o}r.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),r.constructor=t)}var i="http://www.w3.org/1999/xhtml",o={},a=o.ELEMENT_NODE=1,s=o.ATTRIBUTE_NODE=2,u=o.TEXT_NODE=3,l=o.CDATA_SECTION_NODE=4,f=o.ENTITY_REFERENCE_NODE=5,c=o.ENTITY_NODE=6,h=o.PROCESSING_INSTRUCTION_NODE=7,p=o.COMMENT_NODE=8,d=o.DOCUMENT_NODE=9,m=o.DOCUMENT_TYPE_NODE=10,v=o.DOCUMENT_FRAGMENT_NODE=11,y=o.NOTATION_NODE=12,g={},b={},x=(g.INDEX_SIZE_ERR=(b[1]="Index size error",1),g.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2),g.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3)),w=(g.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4),g.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5),g.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6),g.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7),g.NOT_FOUND_ERR=(b[8]="Not found",8)),_=(g.NOT_SUPPORTED_ERR=(b[9]="Not supported",9),g.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10));g.INVALID_STATE_ERR=(b[11]="Invalid state",11),g.SYNTAX_ERR=(b[12]="Syntax error",12),g.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13),g.NAMESPACE_ERR=(b[14]="Invalid namespace",14),g.INVALID_ACCESS_ERR=(b[15]="Invalid access",15);function P(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,b[t]),this.message=b[t],Error.captureStackTrace&&Error.captureStackTrace(this,P);return n.code=t,e&&(this.message=this.message+": "+e),n}function S(){}function C(t,e){this._node=t,this._refresh=e,E(this)}function E(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);nt(t,"length",r.length),n(r,t),t._inc=e}}function T(){}function I(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function O(t,e,n,r){if(r?e[I(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&B(i,t,r),function(t,e,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(e._nsMap[n.prefix?n.localName:""]=n.value)}(i,t,n))}}function N(t,e,n){var r=I(e,n);if(!(r>=0))throw P(w,new Error(t.tagName+"@"+n));for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var o=t.ownerDocument;o&&(B(o,t,n),n.ownerElement=null)}}function A(t){if(this._features={},t)for(var e in t)this._features=t[e]}function L(){}function M(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function R(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(R(t,e))return!0}while(t=t.nextSibling)}function k(){}function B(t,e,n,r){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete e._nsMap[n.prefix?n.localName:""]}function D(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function U(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,D(t.ownerDocument,t),e}function F(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===v){var i=e.firstChild;if(null==i)return e;var o=e.lastChild}else i=o=e;var a=n?n.previousSibling:t.lastChild;i.previousSibling=a,o.nextSibling=n,a?a.nextSibling=i:t.firstChild=i,null==n?t.lastChild=o:n.previousSibling=o;do{i.parentNode=t}while(i!==o&&(i=i.nextSibling));return D(t.ownerDocument||t,t),e.nodeType==v&&(e.firstChild=e.lastChild=null),e}function X(){this._nsMap={}}function Y(){}function j(){}function W(){}function H(){}function z(){}function q(){}function G(){}function V(){}function Z(){}function J(){}function $(){}function Q(){}function K(t,e){var n=[],r=9==this.nodeType?this.documentElement:this,i=r.prefix,o=r.namespaceURI;if(o&&null==i&&null==(i=r.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return et(this,n,t,e,a),n.join("")}function tt(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix==r)return a.namespace!=i}return!0}function et(t,e,n,r,o){if(r){if(!(t=r(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case a:o||(o=[]);o.length;var c=t.attributes,y=c.length,g=t.firstChild,b=t.tagName;n=i===t.namespaceURI||n,e.push("<",b);for(var x=0;x<y;x++){"xmlns"==(w=c.item(x)).prefix?o.push({prefix:w.localName,namespace:w.value}):"xmlns"==w.nodeName&&o.push({prefix:"",namespace:w.value})}for(x=0;x<y;x++){var w;if(tt(w=c.item(x),0,o)){var _=w.prefix||"",P=w.namespaceURI,S=_?" xmlns:"+_:" xmlns";e.push(S,'="',P,'"'),o.push({prefix:_,namespace:P})}et(w,e,n,r,o)}if(tt(t,0,o)){_=t.prefix||"",P=t.namespaceURI,S=_?" xmlns:"+_:" xmlns";e.push(S,'="',P,'"'),o.push({prefix:_,namespace:P})}if(g||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(b)){if(e.push(">"),n&&/^script$/i.test(b))for(;g;)g.data?e.push(g.data):et(g,e,n,r,o),g=g.nextSibling;else for(;g;)et(g,e,n,r,o),g=g.nextSibling;e.push("</",b,">")}else e.push("/>");return;case d:case v:for(g=t.firstChild;g;)et(g,e,n,r,o),g=g.nextSibling;return;case s:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,M),'"');case u:return e.push(t.data.replace(/[<&]/g,M));case l:return e.push("<![CDATA[",t.data,"]]>");case p:return e.push("\x3c!--",t.data,"--\x3e");case m:var C=t.publicId,E=t.systemId;if(e.push("<!DOCTYPE ",t.name),C)e.push(' PUBLIC "',C),E&&"."!=E&&e.push('" "',E),e.push('">');else if(E&&"."!=E)e.push(' SYSTEM "',E,'">');else{var T=t.internalSubset;T&&e.push(" [",T,"]"),e.push(">")}return;case h:return e.push("<?",t.target," ",t.data,"?>");case f:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function nt(t,e,n){t[e]=n}P.prototype=Error.prototype,n(g,P),S.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)et(this[r],n,t,e);return n.join("")}},C.prototype.item=function(t){return E(this),this[t]},r(C,S),T.prototype={length:0,item:S.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new P(_);var n=this.getNamedItem(t.nodeName);return O(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new P(_);return e=this.getNamedItemNS(t.namespaceURI,t.localName),O(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return N(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return N(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}},A.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!(!n||e&&!(e in n))},createDocument:function(t,e,n){var r=new k;if(r.implementation=this,r.childNodes=new S,r.doctype=n,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new q;return r.name=t,r.nodeName=t,r.publicId=e,r.systemId=n,r}},L.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return F(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return U(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,n,r){var i=new n.constructor;for(var o in n){var u=n[o];"object"!=typeof u&&u!=i[o]&&(i[o]=u)}n.childNodes&&(i.childNodes=new S);i.ownerDocument=e;switch(i.nodeType){case a:var l=n.attributes,f=i.attributes=new T,c=l.length;f._ownerElement=i;for(var h=0;h<c;h++)i.setAttributeNode(t(e,l.item(h),!0));break;case s:r=!0}if(r)for(var p=n.firstChild;p;)i.appendChild(t(e,p,r)),p=p.nextSibling;return i}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==u&&t.nodeType==u?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var r in n)if(n[r]==t)return r;e=e.nodeType==s?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==s?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},n(o,L),n(o,L.prototype),k.prototype={nodeName:"#document",nodeType:d,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==v){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return null==this.documentElement&&t.nodeType==a&&(this.documentElement=t),F(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),U(this,t)},importNode:function(t,e){return function t(e,n,r){var i;switch(n.nodeType){case a:(i=n.cloneNode(!1)).ownerDocument=e;case v:break;case s:r=!0}i||(i=n.cloneNode(!1));i.ownerDocument=e;i.parentNode=null;if(r)for(var o=n.firstChild;o;)i.appendChild(t(e,o,r)),o=o.nextSibling;return i}(this,t,e)},getElementById:function(t){var e=null;return R(this.documentElement,function(n){if(n.nodeType==a&&n.getAttribute("id")==t)return e=n,!0}),e},createElement:function(t){var e=new X;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new S,(e.attributes=new T)._ownerElement=e,e},createDocumentFragment:function(){var t=new J;return t.ownerDocument=this,t.childNodes=new S,t},createTextNode:function(t){var e=new W;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new H;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new z;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new $;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new Y;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Z;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new X,r=e.split(":"),i=n.attributes=new T;return n.childNodes=new S,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new Y,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}},r(k,L),X.prototype={nodeType:a,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===v?this.insertBefore(t,null):function(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e),r=t.lastChild}return r=t.lastChild,e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,D(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new C(this,function(e){var n=[];return R(e,function(r){r===e||r.nodeType!=a||"*"!==t&&r.tagName!=t||n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new C(this,function(n){var r=[];return R(n,function(i){i===n||i.nodeType!==a||"*"!==t&&i.namespaceURI!==t||"*"!==e&&i.localName!=e||r.push(i)}),r})}},k.prototype.getElementsByTagName=X.prototype.getElementsByTagName,k.prototype.getElementsByTagNameNS=X.prototype.getElementsByTagNameNS,r(X,L),Y.prototype.nodeType=s,r(Y,L),j.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(b[x])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){n=this.data.substring(0,t)+n+this.data.substring(t+e),this.nodeValue=this.data=n,this.length=n.length}},r(j,L),W.prototype={nodeName:"#text",nodeType:u,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(W,j),H.prototype={nodeName:"#comment",nodeType:p},r(H,j),z.prototype={nodeName:"#cdata-section",nodeType:l},r(z,j),q.prototype.nodeType=m,r(q,L),G.prototype.nodeType=y,r(G,L),V.prototype.nodeType=c,r(V,L),Z.prototype.nodeType=f,r(Z,L),J.prototype.nodeName="#document-fragment",J.prototype.nodeType=v,r(J,L),$.prototype.nodeType=h,r($,L),Q.prototype.serializeToString=function(t,e,n){return K.call(t,e,n)},L.prototype.toString=K;try{if(Object.defineProperty){Object.defineProperty(C.prototype,"length",{get:function(){return E(this),this.$$length}}),Object.defineProperty(L.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case a:case v:var n=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case a:case v:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),nt=function(t,e,n){t["$$"+e]=n}}}catch(t){}e.DOMImplementation=A,e.XMLSerializer=Q},function(t,e,n){"use strict";e.generator=function t(e){if(e<0){for(var n=t(Math.abs(e)),r=0;r<23;r+=1)n();return t(n(0,1e4))}return function(t,n){return(t=t||0)+(e=(9301*e+49297)%233280)/233280*((n=n||1)-t)}}},function(t,e,n){"use strict";var r={};function i(t){var e;return 0===t?"00":((e=t.toString(16).toUpperCase()).length<2&&(e="0"+e),e)}r.namedColors={lightpink:[1,.71,.76],pink:[1,.75,.8],crimson:[.86,.08,.24],lavenderblush:[1,.94,.96],palevioletred:[.86,.44,.58],hotpink:[1,.41,.71],deeppink:[1,.08,.58],mediumvioletred:[.78,.08,.52],orchid:[.85,.44,.84],thistle:[.85,.75,.85],plum:[.87,.63,.87],violet:[.93,.51,.93],fuchsia:[1,0,1],darkmagenta:[.55,0,.55],purple:[.5,0,.5],mediumorchid:[.73,.33,.83],darkviolet:[.58,0,.83],darkorchid:[.6,.2,.8],indigo:[.29,0,.51],blueviolet:[.54,.17,.89],mediumpurple:[.58,.44,.86],mediumslateblue:[.48,.41,.93],slateblue:[.42,.35,.8],darkslateblue:[.28,.24,.55],ghostwhite:[.97,.97,1],lavender:[.9,.9,.98],blue:[0,0,1],mediumblue:[0,0,.8],darkblue:[0,0,.55],navy:[0,0,.5],midnightblue:[.1,.1,.44],royalblue:[.25,.41,.88],cornflowerblue:[.39,.58,.93],lightsteelblue:[.69,.77,.87],lightslategray:[.47,.53,.6],slategray:[.44,.5,.56],dodgerblue:[.12,.56,1],aliceblue:[.94,.97,1],steelblue:[.27,.51,.71],lightskyblue:[.53,.81,.98],skyblue:[.53,.81,.92],deepskyblue:[0,.75,1],lightblue:[.68,.85,.9],powderblue:[.69,.88,.9],cadetblue:[.37,.62,.63],darkturquoise:[0,.81,.82],azure:[.94,1,1],lightcyan:[.88,1,1],paleturquoise:[.69,.93,.93],aqua:[0,1,1],darkcyan:[0,.55,.55],teal:[0,.5,.5],darkslategray:[.18,.31,.31],mediumturquoise:[.28,.82,.8],lightseagreen:[.13,.7,.67],turquoise:[.25,.88,.82],aquamarine:[.5,1,.83],mediumaquamarine:[.4,.8,.67],mediumspringgreen:[0,.98,.6],mintcream:[.96,1,.98],springgreen:[0,1,.5],mediumseagreen:[.24,.7,.44],seagreen:[.18,.55,.34],honeydew:[.94,1,.94],darkseagreen:[.56,.74,.56],palegreen:[.6,.98,.6],lightgreen:[.56,.93,.56],limegreen:[.2,.8,.2],lime:[0,1,0],forestgreen:[.13,.55,.13],green:[0,.5,0],darkgreen:[0,.39,0],lawngreen:[.49,.99,0],chartreuse:[.5,1,0],greenyellow:[.68,1,.18],darkolivegreen:[.33,.42,.18],yellowgreen:[.6,.8,.2],olivedrab:[.42,.56,.14],ivory:[1,1,.94],beige:[.96,.96,.86],lightyellow:[1,1,.88],lightgoldenrodyellow:[.98,.98,.82],yellow:[1,1,0],olive:[.5,.5,0],darkkhaki:[.74,.72,.42],palegoldenrod:[.93,.91,.67],lemonchiffon:[1,.98,.8],khaki:[.94,.9,.55],gold:[1,.84,0],cornsilk:[1,.97,.86],goldenrod:[.85,.65,.13],darkgoldenrod:[.72,.53,.04],floralwhite:[1,.98,.94],oldlace:[.99,.96,.9],wheat:[.96,.87,.07],orange:[1,.65,0],moccasin:[1,.89,.71],papayawhip:[1,.94,.84],blanchedalmond:[1,.92,.8],navajowhite:[1,.87,.68],antiquewhite:[.98,.92,.84],tan:[.82,.71,.55],burlywood:[.87,.72,.53],darkorange:[1,.55,0],bisque:[1,.89,.77],linen:[.98,.94,.9],peru:[.8,.52,.25],peachpuff:[1,.85,.73],sandybrown:[.96,.64,.38],chocolate:[.82,.41,.12],saddlebrown:[.55,.27,.07],seashell:[1,.96,.93],sienna:[.63,.32,.18],lightsalmon:[1,.63,.48],coral:[1,.5,.31],orangered:[1,.27,0],darksalmon:[.91,.59,.48],tomato:[1,.39,.28],salmon:[.98,.5,.45],mistyrose:[1,.89,.88],lightcoral:[.94,.5,.5],snow:[1,.98,.98],rosybrown:[.74,.56,.56],indianred:[.8,.36,.36],red:[1,0,0],brown:[.65,.16,.16],firebrick:[.7,.13,.13],darkred:[.55,0,0],maroon:[.5,0,0],white:[1,1,1],whitesmoke:[.96,.96,.96],gainsboro:[.86,.86,.86],lightgrey:[.83,.83,.83],silver:[.75,.75,.75],darkgray:[.66,.66,.66],gray:[.5,.5,.5],grey:[.5,.5,.5],dimgray:[.41,.41,.41],dimgrey:[.41,.41,.41],black:[0,0,0],cyan:[0,.68,.94],transparent:[0,0,0,0],bark:[.25,.19,.13]},r.rgb2hex=function(t,e,n){return"#"+i(Math.round(255*t))+i(Math.round(255*e))+i(Math.round(255*n))},r.rgba2hex=function(t,e,n,r){return"#"+i(Math.round(255*t))+i(Math.round(255*e))+i(Math.round(255*n))+i(Math.round(255*r))},r.hex2rgb=function(t){if(3!==(t=t.replace(/^#/,"")).length&&6!==t.length||!/^[0-9a-fA-F]*$/.test(t))throw new Error("Invalid hex value: #"+t);return 3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[parseInt(t.substr(0,2),16)/255,parseInt(t.substr(2,2),16)/255,parseInt(t.substr(4,2),16)/255]},r.rgb2hsb=function(t,e,n){var r=0,i=0,o=Math.max(t,e,n),a=o-Math.min(t,e,n);return 0!==o&&(i=a/o),0!==i&&(r=t===o?0+(e-n)/a:e===o?2+(n-t)/a:4+(t-e)/a),(r*=60/360)<0&&(r+=1),[r,i,o]},r.hsb2rgb=function(t,e,n){if(0===e)return[n,n,n];t=t%1*6;var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-e*i),s=n*(1-e*(1-i));return r>4?[n,o,a]:[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n]][parseInt(r,10)]},r.rgb2hsl=function(t,e,n){var r,i,o=Math.min(t,e,n),a=Math.max(t,e,n),s=a-o;return a===o?r=0:t===a?r=(e-n)/s:e===a?r=2+(n-t)/s:n===a&&(r=4+(t-e)/s),(r=Math.min(60*r,360))<0&&(r+=360),i=(o+a)/2,[r/360,a===o?0:i<=.5?s/(a+o):s/(2-a-o),i]},r.hsl2rgb=function(t,e,n){var r,i,o,a,s;if(0===e)return[s=n,s,s];r=2*n-(i=n<.5?n*(1+e):n+e-n*e),a=[0,0,0];for(var u=0;u<3;u++)(o=t+1/3*-(u-1))<0&&(o+=1),o>1&&(o-=1),s=6*o<1?r+6*(i-r)*o:2*o<1?i:3*o<2?r+(i-r)*(2/3-o)*6:r,a[u]=s;return a},t.exports=r},function(t,e,n){"use strict";n.r(e);var r=function(){return new i};function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(t){a(o,t,this.t),a(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new i;function a(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var s=1e-6,u=Math.PI,l=u/2,f=u/4,c=2*u,h=180/u,p=u/180,d=Math.abs,m=Math.atan,v=Math.atan2,y=Math.cos,g=Math.ceil,b=Math.exp,x=(Math.floor,Math.log),w=Math.pow,_=Math.sin,P=Math.sign||function(t){return t>0?1:t<0?-1:0},S=Math.sqrt,C=Math.tan;function E(t){return t>1?0:t<-1?u:Math.acos(t)}function T(t){return t>1?l:t<-1?-l:Math.asin(t)}function I(t){return(t=_(t/2))*t}function O(){}function N(t,e){t&&L.hasOwnProperty(t.type)&&L[t.type](t,e)}var A={Feature:function(t,e){N(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)N(n[r].geometry,e)}},L={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){M(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)M(n[r],e,0)},Polygon:function(t,e){R(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)R(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)N(n[r],e)}};function M(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function R(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)M(t[n],e,1);e.polygonEnd()}var k,B,D,U,F,X=function(t,e){t&&A.hasOwnProperty(t.type)?A[t.type](t,e):N(t,e)},Y=r(),j=r(),W={point:O,lineStart:O,lineEnd:O,polygonStart:function(){Y.reset(),W.lineStart=H,W.lineEnd=z},polygonEnd:function(){var t=+Y;j.add(t<0?c+t:t),this.lineStart=this.lineEnd=this.point=O},sphere:function(){j.add(c)}};function H(){W.point=q}function z(){G(k,B)}function q(t,e){W.point=G,k=t,B=e,D=t*=p,U=y(e=(e*=p)/2+f),F=_(e)}function G(t,e){e=(e*=p)/2+f;var n=(t*=p)-D,r=n>=0?1:-1,i=r*n,o=y(e),a=_(e),s=F*a,u=U*o+s*y(i),l=s*r*_(i);Y.add(v(l,u)),D=t,U=o,F=a}var V=function(t){return j.reset(),X(t,W),2*j};function Z(t){return[v(t[1],t[0]),T(t[2])]}function J(t){var e=t[0],n=t[1],r=y(n);return[r*y(e),r*_(e),_(n)]}function $(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Q(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function K(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function tt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function et(t){var e=S(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var nt,rt,it,ot,at,st,ut,lt,ft,ct,ht=r(),pt={point:dt,lineStart:vt,lineEnd:yt,polygonStart:function(){pt.point=gt,pt.lineStart=bt,pt.lineEnd=xt,ht.reset(),W.polygonStart()},polygonEnd:function(){W.polygonEnd(),pt.point=dt,pt.lineStart=vt,pt.lineEnd=yt,Y<0?(nt=-(it=180),rt=-(ot=90)):ht>s?ot=90:ht<-s&&(rt=-90),ct[0]=nt,ct[1]=it}};function dt(t,e){ft.push(ct=[nt=t,it=t]),e<rt&&(rt=e),e>ot&&(ot=e)}function mt(t,e){var n=J([t*p,e*p]);if(lt){var r=Q(lt,n),i=Q([r[1],-r[0],0],r);et(i),i=Z(i);var o,a=t-at,s=a>0?1:-1,u=i[0]*h*s,l=d(a)>180;l^(s*at<u&&u<s*t)?(o=i[1]*h)>ot&&(ot=o):l^(s*at<(u=(u+360)%360-180)&&u<s*t)?(o=-i[1]*h)<rt&&(rt=o):(e<rt&&(rt=e),e>ot&&(ot=e)),l?t<at?wt(nt,t)>wt(nt,it)&&(it=t):wt(t,it)>wt(nt,it)&&(nt=t):it>=nt?(t<nt&&(nt=t),t>it&&(it=t)):t>at?wt(nt,t)>wt(nt,it)&&(it=t):wt(t,it)>wt(nt,it)&&(nt=t)}else ft.push(ct=[nt=t,it=t]);e<rt&&(rt=e),e>ot&&(ot=e),lt=n,at=t}function vt(){pt.point=mt}function yt(){ct[0]=nt,ct[1]=it,pt.point=dt,lt=null}function gt(t,e){if(lt){var n=t-at;ht.add(d(n)>180?n+(n>0?360:-360):n)}else st=t,ut=e;W.point(t,e),mt(t,e)}function bt(){W.lineStart()}function xt(){gt(st,ut),W.lineEnd(),d(ht)>s&&(nt=-(it=180)),ct[0]=nt,ct[1]=it,lt=null}function wt(t,e){return(e-=t)<0?e+360:e}function _t(t,e){return t[0]-e[0]}function Pt(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var St,Ct,Et,Tt,It,Ot,Nt,At,Lt,Mt,Rt,kt,Bt,Dt,Ut,Ft,Xt=function(t){var e,n,r,i,o,a,s;if(ot=it=-(nt=rt=1/0),ft=[],X(t,pt),n=ft.length){for(ft.sort(_t),e=1,o=[r=ft[0]];e<n;++e)Pt(r,(i=ft[e])[0])||Pt(r,i[1])?(wt(r[0],i[1])>wt(r[0],r[1])&&(r[1]=i[1]),wt(i[0],r[1])>wt(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=wt(r[1],i[0]))>a&&(a=s,nt=i[0],it=r[1])}return ft=ct=null,nt===1/0||rt===1/0?[[NaN,NaN],[NaN,NaN]]:[[nt,rt],[it,ot]]},Yt={sphere:O,point:jt,lineStart:Ht,lineEnd:Gt,polygonStart:function(){Yt.lineStart=Vt,Yt.lineEnd=Zt},polygonEnd:function(){Yt.lineStart=Ht,Yt.lineEnd=Gt}};function jt(t,e){t*=p;var n=y(e*=p);Wt(n*y(t),n*_(t),_(e))}function Wt(t,e,n){Et+=(t-Et)/++St,Tt+=(e-Tt)/St,It+=(n-It)/St}function Ht(){Yt.point=zt}function zt(t,e){t*=p;var n=y(e*=p);Dt=n*y(t),Ut=n*_(t),Ft=_(e),Yt.point=qt,Wt(Dt,Ut,Ft)}function qt(t,e){t*=p;var n=y(e*=p),r=n*y(t),i=n*_(t),o=_(e),a=v(S((a=Ut*o-Ft*i)*a+(a=Ft*r-Dt*o)*a+(a=Dt*i-Ut*r)*a),Dt*r+Ut*i+Ft*o);Ct+=a,Ot+=a*(Dt+(Dt=r)),Nt+=a*(Ut+(Ut=i)),At+=a*(Ft+(Ft=o)),Wt(Dt,Ut,Ft)}function Gt(){Yt.point=jt}function Vt(){Yt.point=Jt}function Zt(){$t(kt,Bt),Yt.point=jt}function Jt(t,e){kt=t,Bt=e,t*=p,e*=p,Yt.point=$t;var n=y(e);Dt=n*y(t),Ut=n*_(t),Ft=_(e),Wt(Dt,Ut,Ft)}function $t(t,e){t*=p;var n=y(e*=p),r=n*y(t),i=n*_(t),o=_(e),a=Ut*o-Ft*i,s=Ft*r-Dt*o,u=Dt*i-Ut*r,l=S(a*a+s*s+u*u),f=T(l),c=l&&-f/l;Lt+=c*a,Mt+=c*s,Rt+=c*u,Ct+=f,Ot+=f*(Dt+(Dt=r)),Nt+=f*(Ut+(Ut=i)),At+=f*(Ft+(Ft=o)),Wt(Dt,Ut,Ft)}var Qt=function(t){St=Ct=Et=Tt=It=Ot=Nt=At=Lt=Mt=Rt=0,X(t,Yt);var e=Lt,n=Mt,r=Rt,i=e*e+n*n+r*r;return i<1e-12&&(e=Ot,n=Nt,r=At,Ct<s&&(e=Et,n=Tt,r=It),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[v(n,e)*h,T(r/S(i))*h]},Kt=function(t){return function(){return t}},te=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};function ee(t,e){return[t>u?t-c:t<-u?t+c:t,e]}function ne(t,e,n){return(t%=c)?e||n?te(ie(t),oe(e,n)):ie(t):e||n?oe(e,n):ee}function re(t){return function(e,n){return[(e+=t)>u?e-c:e<-u?e+c:e,n]}}function ie(t){var e=re(t);return e.invert=re(-t),e}function oe(t,e){var n=y(t),r=_(t),i=y(e),o=_(e);function a(t,e){var a=y(e),s=y(t)*a,u=_(t)*a,l=_(e),f=l*n+s*r;return[v(u*i-f*o,s*n-l*r),T(f*i+u*o)]}return a.invert=function(t,e){var a=y(e),s=y(t)*a,u=_(t)*a,l=_(e),f=l*i-u*o;return[v(u*i+l*o,s*n+f*r),T(f*n-s*r)]},a}ee.invert=ee;var ae=function(t){function e(e){return(e=t(e[0]*p,e[1]*p))[0]*=h,e[1]*=h,e}return t=ne(t[0]*p,t[1]*p,t.length>2?t[2]*p:0),e.invert=function(e){return(e=t.invert(e[0]*p,e[1]*p))[0]*=h,e[1]*=h,e},e};function se(t,e,n,r,i,o){if(n){var a=y(e),s=_(e),u=r*n;null==i?(i=e+r*c,o=e-u/2):(i=ue(a,i),o=ue(a,o),(r>0?i<o:i>o)&&(i+=r*c));for(var l,f=i;r>0?f>o:f<o;f-=u)l=Z([a,-s*y(f),-s*_(f)]),t.point(l[0],l[1])}}function ue(t,e){(e=J(e))[0]-=t,et(e);var n=E(-e[1]);return((-e[2]<0?-n:n)+c-s)%c}var le=function(){var t,e,n=Kt([0,0]),r=Kt(90),i=Kt(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=h,n[1]*=h}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*p,u=i.apply(this,arguments)*p;return t=[],e=ne(-a[0]*p,-a[1]*p,0).invert,se(o,s,u,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:Kt([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:Kt(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:Kt(+t),a):i},a},fe=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:O,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},ce=function(t,e){return d(t[0]-e[0])<s&&d(t[1]-e[1])<s};function he(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var pe=function(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(ce(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new he(r,t,null,!0)),u.push(n.o=new he(r,null,n,!1)),s.push(n=new he(a,t,null,!1)),u.push(n.o=new he(a,null,n,!0))}}),s.length){for(u.sort(e),de(s),de(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,f,c=s[0];;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=l.length;o<a;++o)i.point((f=l[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(l=h.p.z,o=l.length-1;o>=0;--o)i.point((f=l[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}};function de(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var me=r(),ve=function(t,e){var n=e[0],r=e[1],i=_(r),o=[_(n),-y(n),0],a=0,h=0;me.reset(),1===i?r=l+s:-1===i&&(r=-l-s);for(var p=0,d=t.length;p<d;++p)if(g=(m=t[p]).length)for(var m,g,b=m[g-1],x=b[0],w=b[1]/2+f,P=_(w),S=y(w),C=0;C<g;++C,x=I,P=N,S=A,b=E){var E=m[C],I=E[0],O=E[1]/2+f,N=_(O),A=y(O),L=I-x,M=L>=0?1:-1,R=M*L,k=R>u,B=P*N;if(me.add(v(B*M*_(R),S*A+B*y(R))),a+=k?L+M*c:L,k^x>=n^I>=n){var D=Q(J(b),J(E));et(D);var U=Q(o,D);et(U);var F=(k^L>=0?-1:1)*T(U[2]);(r>F||r===F&&(D[0]||D[1]))&&(h+=k^L>=0?1:-1)}}return(a<-s||a<s&&me<-s)^1&h},ye=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};var ge,be;1===(ge=ye).length&&(be=ge,ge=function(t,e){return ye(be(t),e)});var xe=Array.prototype,we=(xe.slice,xe.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var _e=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};var Pe=function(t,e,n,r){return function(i){var o,a,s,u=e(i),l=fe(),f=e(l),c=!1,h={point:p,lineStart:m,lineEnd:v,polygonStart:function(){h.point=y,h.lineStart=g,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=m,h.lineEnd=v,a=_e(a);var t=ve(o,r);a.length?(c||(i.polygonStart(),c=!0),pe(a,Ce,t,n,i)):t&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(e,n){t(e,n)&&i.point(e,n)}function d(t,e){u.point(t,e)}function m(){h.point=d,u.lineStart()}function v(){h.point=p,u.lineEnd()}function y(t,e){s.push([t,e]),f.point(t,e)}function g(){f.lineStart(),s=[]}function b(){y(s[0][0],s[0][1]),f.lineEnd();var t,e,n,r,u=f.clean(),h=l.result(),p=h.length;if(s.pop(),o.push(s),s=null,p)if(1&u){if((e=(n=h[0]).length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else p>1&&2&u&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Se))}return h}};function Se(t){return t.length>1}function Ce(t,e){return((t=t.x)[0]<0?t[1]-l-s:l-t[1])-((e=e.x)[0]<0?e[1]-l-s:l-e[1])}var Ee=Pe(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var f=o>0?u:-u,c=d(o-n);d(c-u)<s?(t.point(n,r=(r+a)/2>0?l:-l),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(f,r),t.point(o,r),e=0):i!==f&&c>=u&&(d(n-i)<s&&(n-=i*s),d(o-f)<s&&(o-=f*s),r=function(t,e,n,r){var i,o,a=_(t-n);return d(a)>s?m((_(e)*(o=y(r))*_(n)-_(r)*(i=y(e))*_(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(f,r),e=0),t.point(n=o,r=a),i=f},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*l,r.point(-u,i),r.point(0,i),r.point(u,i),r.point(u,0),r.point(u,-i),r.point(0,-i),r.point(-u,-i),r.point(-u,0),r.point(-u,i);else if(d(t[0]-e[0])>s){var o=t[0]<e[0]?u:-u;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-u,-l]);var Te=function(t){var e=y(t),n=6*p,r=e>0,i=d(e)>s;function o(t,n){return y(t)*y(n)>e}function a(t,n,r){var i=[1,0,0],o=Q(J(t),J(n)),a=$(o,o),l=o[0],f=a-l*l;if(!f)return!r&&t;var c=e*a/f,h=-e*l/f,p=Q(i,o),m=tt(i,c);K(m,tt(o,h));var v=p,y=$(m,v),g=$(v,v),b=y*y-g*($(m,m)-1);if(!(b<0)){var x=S(b),w=tt(v,(-y-x)/g);if(K(w,m),w=Z(w),!r)return w;var _,P=t[0],C=n[0],E=t[1],T=n[1];C<P&&(_=P,P=C,C=_);var I=C-P,O=d(I-u)<s;if(!O&&T<E&&(_=E,E=T,T=_),O||I<s?O?E+T>0^w[1]<(d(w[0]-P)<s?E:T):E<=w[1]&&w[1]<=T:I>u^(P<=w[0]&&w[0]<=C)){var N=tt(v,(-y+x)/g);return K(N,m),[w,Z(N)]}}}function l(e,n){var i=r?t:u-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Pe(o,function(t){var e,n,f,c,h;return{lineStart:function(){c=f=!1,h=1},point:function(p,d){var m,v=[p,d],y=o(p,d),g=r?y?0:l(p,d):y?l(p+(p<0?u:-u),d):0;if(!e&&(c=f=y)&&t.lineStart(),y!==f&&(!(m=a(e,v))||ce(e,m)||ce(v,m))&&(v[0]+=s,v[1]+=s,y=o(v[0],v[1])),y!==f)h=0,y?(t.lineStart(),m=a(v,e),t.point(m[0],m[1])):(m=a(e,v),t.point(m[0],m[1]),t.lineEnd()),e=m;else if(i&&e&&r^y){var b;g&n||!(b=a(v,e,!0))||(h=0,r?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1])))}!y||e&&ce(e,v)||t.point(v[0],v[1]),e=v,f=y,n=g},lineEnd:function(){f&&t.lineEnd(),e=null},clean:function(){return h|(c&&f)<<1}}},function(e,r,i,o){se(o,t,n,i,e,r)},r?[0,-t]:[-u,t-u])},Ie=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],l=0,f=1,c=e[0]-s,h=e[1]-u;if(a=n-s,c||!(a>0)){if(a/=c,c<0){if(a<l)return;a<f&&(f=a)}else if(c>0){if(a>f)return;a>l&&(l=a)}if(a=i-s,c||!(a<0)){if(a/=c,c<0){if(a>f)return;a>l&&(l=a)}else if(c>0){if(a<l)return;a<f&&(f=a)}if(a=r-u,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>l&&(l=a)}if(a=o-u,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<f&&(f=a)}return l>0&&(t[0]=s+l*c,t[1]=u+l*h),f<1&&(e[0]=s+f*c,e[1]=u+f*h),!0}}}}},Oe=1e9,Ne=-Oe;function Ae(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,u){var f=0,c=0;if(null==i||(f=a(i,s))!==(c=a(o,s))||l(i,o)<0^s>0)do{u.point(0===f||3===f?t:n,f>1?r:e)}while((f=(f+s+4)%4)!==c);else u.point(o[0],o[1])}function a(r,i){return d(r[0]-t)<s?i>0?0:3:d(r[0]-n)<s?i>0?2:1:d(r[1]-e)<s?i>0?1:0:i>0?3:2}function u(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var s,l,f,c,h,p,d,m,v,y,g,b=a,x=fe(),w={point:_,lineStart:function(){w.point=P,l&&l.push(f=[]);y=!0,v=!1,d=m=NaN},lineEnd:function(){s&&(P(c,h),p&&v&&x.rejoin(),s.push(x.result()));w.point=_,v&&b.lineEnd()},polygonStart:function(){b=x,s=[],l=[],g=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,a,s=l[n],u=1,f=s.length,c=s[0],h=c[0],p=c[1];u<f;++u)o=h,a=p,c=s[u],h=c[0],p=c[1],a<=r?p>r&&(h-o)*(r-a)>(p-a)*(t-o)&&++e:p<=r&&(h-o)*(r-a)<(p-a)*(t-o)&&--e;return e}(),n=g&&e,i=(s=_e(s)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&pe(s,u,e,o,a),a.polygonEnd());b=a,s=l=f=null}};function _(t,e){i(t,e)&&b.point(t,e)}function P(o,a){var s=i(o,a);if(l&&f.push([o,a]),y)c=o,h=a,p=s,y=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&v)b.point(o,a);else{var u=[d=Math.max(Ne,Math.min(Oe,d)),m=Math.max(Ne,Math.min(Oe,m))],x=[o=Math.max(Ne,Math.min(Oe,o)),a=Math.max(Ne,Math.min(Oe,a))];Ie(u,x,t,e,n,r)?(v||(b.lineStart(),b.point(u[0],u[1])),b.point(x[0],x[1]),s||b.lineEnd(),g=!1):s&&(b.lineStart(),b.point(o,a),g=!1)}d=o,m=a,v=s}return w}}var Le,Me,Re,ke=function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=Ae(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}},Be=r(),De={sphere:O,point:O,lineStart:function(){De.point=Fe,De.lineEnd=Ue},lineEnd:O,polygonStart:O,polygonEnd:O};function Ue(){De.point=De.lineEnd=O}function Fe(t,e){Le=t*=p,Me=_(e*=p),Re=y(e),De.point=Xe}function Xe(t,e){t*=p;var n=_(e*=p),r=y(e),i=d(t-Le),o=y(i),a=r*_(i),s=Re*n-Me*r*o,u=Me*n+Re*r*o;Be.add(v(S(a*a+s*s),u)),Le=t,Me=n,Re=r}var Ye=function(t){return Be.reset(),X(t,De),+Be},je=[null,null],We={type:"LineString",coordinates:je},He=function(t,e){return je[0]=t,je[1]=e,Ye(We)},ze={Feature:function(t,e){return Ge(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Ge(n[r].geometry,e))return!0;return!1}},qe={Sphere:function(){return!0},Point:function(t,e){return Ve(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ve(n[r],e))return!0;return!1},LineString:function(t,e){return Ze(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ze(n[r],e))return!0;return!1},Polygon:function(t,e){return Je(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Je(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Ge(n[r],e))return!0;return!1}};function Ge(t,e){return!(!t||!qe.hasOwnProperty(t.type))&&qe[t.type](t,e)}function Ve(t,e){return 0===He(t,e)}function Ze(t,e){var n=He(t[0],t[1]);return He(t[0],e)+He(e,t[1])<=n+s}function Je(t,e){return!!ve(t.map($e),Qe(e))}function $e(t){return(t=t.map(Qe)).pop(),t}function Qe(t){return[t[0]*p,t[1]*p]}var Ke=function(t,e){return(t&&ze.hasOwnProperty(t.type)?ze[t.type]:Ge)(t,e)};function tn(t,e,n){var r=we(t,e-s,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function en(t,e,n){var r=we(t,e-s,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function nn(){var t,e,n,r,i,o,a,u,l,f,c,h,p=10,m=p,v=90,y=360,b=2.5;function x(){return{type:"MultiLineString",coordinates:w()}}function w(){return we(g(r/v)*v,n,v).map(c).concat(we(g(u/y)*y,a,y).map(h)).concat(we(g(e/p)*p,t,p).filter(function(t){return d(t%v)>s}).map(l)).concat(we(g(o/m)*m,i,m).filter(function(t){return d(t%y)>s}).map(f))}return x.lines=function(){return w().map(function(t){return{type:"LineString",coordinates:t}})},x.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(h(a).slice(1),c(n).reverse().slice(1),h(u).reverse().slice(1))]}},x.extent=function(t){return arguments.length?x.extentMajor(t).extentMinor(t):x.extentMinor()},x.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),u>a&&(t=u,u=a,a=t),x.precision(b)):[[r,u],[n,a]]},x.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),x.precision(b)):[[e,o],[t,i]]},x.step=function(t){return arguments.length?x.stepMajor(t).stepMinor(t):x.stepMinor()},x.stepMajor=function(t){return arguments.length?(v=+t[0],y=+t[1],x):[v,y]},x.stepMinor=function(t){return arguments.length?(p=+t[0],m=+t[1],x):[p,m]},x.precision=function(s){return arguments.length?(b=+s,l=tn(o,i,90),f=en(e,t,b),c=tn(u,a,90),h=en(r,n,b),x):b},x.extentMajor([[-180,-90+s],[180,90-s]]).extentMinor([[-180,-80-s],[180,80+s]])}function rn(){return nn()()}var on,an,sn,un,ln=function(t,e){var n=t[0]*p,r=t[1]*p,i=e[0]*p,o=e[1]*p,a=y(r),s=_(r),u=y(o),l=_(o),f=a*y(n),c=a*_(n),d=u*y(i),m=u*_(i),g=2*T(S(I(o-r)+a*u*I(i-n))),b=_(g),x=g?function(t){var e=_(t*=g)/b,n=_(g-t)/b,r=n*f+e*d,i=n*c+e*m,o=n*s+e*l;return[v(i,r)*h,v(o,S(r*r+i*i))*h]}:function(){return[n*h,r*h]};return x.distance=g,x},fn=function(t){return t},cn=r(),hn=r(),pn={point:O,lineStart:O,lineEnd:O,polygonStart:function(){pn.lineStart=dn,pn.lineEnd=yn},polygonEnd:function(){pn.lineStart=pn.lineEnd=pn.point=O,cn.add(d(hn)),hn.reset()},result:function(){var t=cn/2;return cn.reset(),t}};function dn(){pn.point=mn}function mn(t,e){pn.point=vn,on=sn=t,an=un=e}function vn(t,e){hn.add(un*t-sn*e),sn=t,un=e}function yn(){vn(on,an)}var gn=pn,bn=1/0,xn=bn,wn=-bn,_n=wn;var Pn,Sn,Cn,En,Tn={point:function(t,e){t<bn&&(bn=t);t>wn&&(wn=t);e<xn&&(xn=e);e>_n&&(_n=e)},lineStart:O,lineEnd:O,polygonStart:O,polygonEnd:O,result:function(){var t=[[bn,xn],[wn,_n]];return wn=_n=-(xn=bn=1/0),t}},In=0,On=0,Nn=0,An=0,Ln=0,Mn=0,Rn=0,kn=0,Bn=0,Dn={point:Un,lineStart:Fn,lineEnd:jn,polygonStart:function(){Dn.lineStart=Wn,Dn.lineEnd=Hn},polygonEnd:function(){Dn.point=Un,Dn.lineStart=Fn,Dn.lineEnd=jn},result:function(){var t=Bn?[Rn/Bn,kn/Bn]:Mn?[An/Mn,Ln/Mn]:Nn?[In/Nn,On/Nn]:[NaN,NaN];return In=On=Nn=An=Ln=Mn=Rn=kn=Bn=0,t}};function Un(t,e){In+=t,On+=e,++Nn}function Fn(){Dn.point=Xn}function Xn(t,e){Dn.point=Yn,Un(Cn=t,En=e)}function Yn(t,e){var n=t-Cn,r=e-En,i=S(n*n+r*r);An+=i*(Cn+t)/2,Ln+=i*(En+e)/2,Mn+=i,Un(Cn=t,En=e)}function jn(){Dn.point=Un}function Wn(){Dn.point=zn}function Hn(){qn(Pn,Sn)}function zn(t,e){Dn.point=qn,Un(Pn=Cn=t,Sn=En=e)}function qn(t,e){var n=t-Cn,r=e-En,i=S(n*n+r*r);An+=i*(Cn+t)/2,Ln+=i*(En+e)/2,Mn+=i,Rn+=(i=En*t-Cn*e)*(Cn+t),kn+=i*(En+e),Bn+=3*i,Un(Cn=t,En=e)}var Gn=Dn;function Vn(t){this._context=t}Vn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,c)}},result:O};var Zn,Jn,$n,Qn,Kn,tr=r(),er={point:O,lineStart:function(){er.point=nr},lineEnd:function(){Zn&&rr(Jn,$n),er.point=O},polygonStart:function(){Zn=!0},polygonEnd:function(){Zn=null},result:function(){var t=+tr;return tr.reset(),t}};function nr(t,e){er.point=rr,Jn=Qn=t,$n=Kn=e}function rr(t,e){Qn-=t,Kn-=e,tr.add(S(Qn*Qn+Kn*Kn)),Qn=t,Kn=e}var ir=er;function or(){this._string=[]}function ar(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}or.prototype={_radius:4.5,_circle:ar(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=ar(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var sr=function(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),X(t,n(r))),r.result()}return o.area=function(t){return X(t,n(gn)),gn.result()},o.measure=function(t){return X(t,n(ir)),ir.result()},o.bounds=function(t){return X(t,n(Tn)),Tn.result()},o.centroid=function(t){return X(t,n(Gn)),Gn.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,fn):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new or):new Vn(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)},ur=function(t){return{stream:lr(t)}};function lr(t){return function(e){var n=new fr;for(var r in t)n[r]=t[r];return n.stream=e,n}}function fr(){}function cr(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),X(n,t.stream(Tn)),e(Tn.result()),null!=r&&t.clipExtent(r),t}function hr(t,e,n){return cr(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])},n)}function pr(t,e,n){return hr(t,[[0,0],e],n)}function dr(t,e,n){return cr(t,function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])},n)}function mr(t,e,n){return cr(t,function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])},n)}fr.prototype={constructor:fr,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var vr=16,yr=y(30*p),gr=function(t,e){return+e?function(t,e){function n(r,i,o,a,u,l,f,c,h,p,m,y,g,b){var x=f-r,w=c-i,_=x*x+w*w;if(_>4*e&&g--){var P=a+p,C=u+m,E=l+y,I=S(P*P+C*C+E*E),O=T(E/=I),N=d(d(E)-1)<s||d(o-h)<s?(o+h)/2:v(C,P),A=t(N,O),L=A[0],M=A[1],R=L-r,k=M-i,B=w*R-x*k;(B*B/_>e||d((x*R+w*k)/_-.5)>.3||a*p+u*m+l*y<yr)&&(n(r,i,o,a,u,l,L,M,N,P/=I,C/=I,E,g,b),b.point(L,M),n(L,M,N,P,C,E,f,c,h,p,m,y,g,b))}}return function(e){var r,i,o,a,s,u,l,f,c,h,p,d,m={point:v,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),m.lineStart=x},polygonEnd:function(){e.polygonEnd(),m.lineStart=y}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){f=NaN,m.point=g,e.lineStart()}function g(r,i){var o=J([r,i]),a=t(r,i);n(f,c,l,h,p,d,f=a[0],c=a[1],l=r,h=o[0],p=o[1],d=o[2],vr,e),e.point(f,c)}function b(){m.point=v,e.lineEnd()}function x(){y(),m.point=w,m.lineEnd=_}function w(t,e){g(r=t,e),i=f,o=c,a=h,s=p,u=d,m.point=g}function _(){n(f,c,l,h,p,d,i,o,r,a,s,u,vr,e),m.lineEnd=b,b()}return m}}(t,e):function(t){return lr({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var br=lr({point:function(t,e){this.stream.point(t*p,e*p)}});function xr(t,e,n,r){var i=y(r),o=_(r),a=i*t,s=o*t,u=i/t,l=o/t,f=(o*n-i*e)/t,c=(o*e+i*n)/t;function h(t,r){return[a*t-s*r+e,n-s*t-a*r]}return h.invert=function(t,e){return[u*t-l*e+f,c-l*t-u*e]},h}function wr(t){return _r(function(){return t})()}function _r(t){var e,n,r,i,o,a,s,u,l,f,c=150,d=480,m=250,v=0,y=0,g=0,b=0,x=0,w=0,_=null,P=Ee,C=null,E=fn,T=.5;function I(t){return u(t[0]*p,t[1]*p)}function O(t){return(t=u.invert(t[0],t[1]))&&[t[0]*h,t[1]*h]}function N(){var t=xr(c,0,0,w).apply(null,e(v,y)),r=(w?xr:function(t,e,n){function r(r,i){return[e+t*r,n-t*i]}return r.invert=function(r,i){return[(r-e)/t,(n-i)/t]},r})(c,d-t[0],m-t[1],w);return n=ne(g,b,x),s=te(e,r),u=te(n,s),a=gr(s,T),A()}function A(){return l=f=null,I}return I.stream=function(t){return l&&f===t?l:l=br(function(t){return lr({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(P(a(E(f=t)))))},I.preclip=function(t){return arguments.length?(P=t,_=void 0,A()):P},I.postclip=function(t){return arguments.length?(E=t,C=r=i=o=null,A()):E},I.clipAngle=function(t){return arguments.length?(P=+t?Te(_=t*p):(_=null,Ee),A()):_*h},I.clipExtent=function(t){return arguments.length?(E=null==t?(C=r=i=o=null,fn):Ae(C=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),A()):null==C?null:[[C,r],[i,o]]},I.scale=function(t){return arguments.length?(c=+t,N()):c},I.translate=function(t){return arguments.length?(d=+t[0],m=+t[1],N()):[d,m]},I.center=function(t){return arguments.length?(v=t[0]%360*p,y=t[1]%360*p,N()):[v*h,y*h]},I.rotate=function(t){return arguments.length?(g=t[0]%360*p,b=t[1]%360*p,x=t.length>2?t[2]%360*p:0,N()):[g*h,b*h,x*h]},I.angle=function(t){return arguments.length?(w=t%360*p,N()):w*h},I.precision=function(t){return arguments.length?(a=gr(s,T=t*t),A()):S(T)},I.fitExtent=function(t,e){return hr(I,t,e)},I.fitSize=function(t,e){return pr(I,t,e)},I.fitWidth=function(t,e){return dr(I,t,e)},I.fitHeight=function(t,e){return mr(I,t,e)},function(){return e=t.apply(this,arguments),I.invert=e.invert&&O,N()}}function Pr(t){var e=0,n=u/3,r=_r(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*p,n=t[1]*p):[e*h,n*h]},i}function Sr(t,e){var n=_(t),r=(n+_(e))/2;if(d(r)<s)return function(t){var e=y(t);function n(t,n){return[t*e,_(n)/e]}return n.invert=function(t,n){return[t/e,T(n*e)]},n}(t);var i=1+n*(2*r-n),o=S(i)/r;function a(t,e){var n=S(i-2*r*_(e))/r;return[n*_(t*=r),o-n*y(t)]}return a.invert=function(t,e){var n=o-e;return[v(t,d(n))/r*P(n),T((i-(t*t+n*n)*r*r)/(2*r))]},a}var Cr=function(){return Pr(Sr).scale(155.424).center([0,33.6442])},Er=function(){return Cr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var Tr=function(){var t,e,n,r,i,o,a=Er(),u=Cr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Cr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,e){o=[t,e]}};function c(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function h(){return t=e=null,c}return c.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:a).invert(t)},c.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),u.stream(n),l.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},c.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),l.precision(t),h()):a.precision()},c.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),l.scale(t),c.translate(a.translate())):a.scale()},c.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],c=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,c-.238*e],[o+.455*e,c+.238*e]]).stream(f),r=u.translate([o-.307*e,c+.201*e]).clipExtent([[o-.425*e+s,c+.12*e+s],[o-.214*e-s,c+.234*e-s]]).stream(f),i=l.translate([o-.205*e,c+.212*e]).clipExtent([[o-.214*e+s,c+.166*e+s],[o-.115*e-s,c+.234*e-s]]).stream(f),h()},c.fitExtent=function(t,e){return hr(c,t,e)},c.fitSize=function(t,e){return pr(c,t,e)},c.fitWidth=function(t,e){return dr(c,t,e)},c.fitHeight=function(t,e){return mr(c,t,e)},c.scale(1070)};function Ir(t){return function(e,n){var r=y(e),i=y(n),o=t(r*i);return[o*i*_(e),o*_(n)]}}function Or(t){return function(e,n){var r=S(e*e+n*n),i=t(r),o=_(i),a=y(i);return[v(e*o,r*a),T(r&&n*o/r)]}}var Nr=Ir(function(t){return S(2/(1+t))});Nr.invert=Or(function(t){return 2*T(t/2)});var Ar=function(){return wr(Nr).scale(124.75).clipAngle(179.999)},Lr=Ir(function(t){return(t=E(t))&&t/_(t)});Lr.invert=Or(function(t){return t});var Mr=function(){return wr(Lr).scale(79.4188).clipAngle(179.999)};function Rr(t,e){return[t,x(C((l+e)/2))]}Rr.invert=function(t,e){return[t,2*m(b(e))-l]};var kr=function(){return Br(Rr).scale(961/c)};function Br(t){var e,n,r,i=wr(t),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,f=null;function c(){var o=u*a(),s=i(ae(i.rotate()).invert([0,0]));return l(null==f?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===Rr?[[Math.max(s[0]-o,f),e],[Math.min(s[0]+o,n),r]]:[[f,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),c()):a()},i.translate=function(t){return arguments.length?(s(t),c()):s()},i.center=function(t){return arguments.length?(o(t),c()):o()},i.clipExtent=function(t){return arguments.length?(null==t?f=e=n=r=null:(f=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),c()):null==f?null:[[f,e],[n,r]]},c()}function Dr(t){return C((l+t)/2)}function Ur(t,e){var n=y(t),r=t===e?_(t):x(n/y(e))/x(Dr(e)/Dr(t)),i=n*w(Dr(t),r)/r;if(!r)return Rr;function o(t,e){i>0?e<-l+s&&(e=-l+s):e>l-s&&(e=l-s);var n=i/w(Dr(e),r);return[n*_(r*t),i-n*y(r*t)]}return o.invert=function(t,e){var n=i-e,o=P(r)*S(t*t+n*n);return[v(t,d(n))/r*P(n),2*m(w(i/o,1/r))-l]},o}var Fr=function(){return Pr(Ur).scale(109.5).parallels([30,30])};function Xr(t,e){return[t,e]}Xr.invert=Xr;var Yr=function(){return wr(Xr).scale(152.63)};function jr(t,e){var n=y(t),r=t===e?_(t):(n-y(e))/(e-t),i=n/r+t;if(d(r)<s)return Xr;function o(t,e){var n=i-e,o=r*t;return[n*_(o),i-n*y(o)]}return o.invert=function(t,e){var n=i-e;return[v(t,d(n))/r*P(n),i-P(r)*S(t*t+n*n)]},o}var Wr=function(){return Pr(jr).scale(131.154).center([0,13.9389])};function Hr(t,e){var n=y(e),r=y(t)*n;return[n*_(t)/r,_(e)/r]}Hr.invert=Or(m);var zr=function(){return wr(Hr).scale(144.049).clipAngle(60)};function qr(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?fn:lr({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}var Gr=function(){var t,e,n,r,i,o,a=1,s=0,u=0,l=1,f=1,c=fn,h=null,p=fn;function d(){return r=i=null,o}return o={stream:function(t){return r&&i===t?r:r=c(p(i=t))},postclip:function(r){return arguments.length?(p=r,h=t=e=n=null,d()):p},clipExtent:function(r){return arguments.length?(p=null==r?(h=t=e=n=null,fn):Ae(h=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),d()):null==h?null:[[h,t],[e,n]]},scale:function(t){return arguments.length?(c=qr((a=+t)*l,a*f,s,u),d()):a},translate:function(t){return arguments.length?(c=qr(a*l,a*f,s=+t[0],u=+t[1]),d()):[s,u]},reflectX:function(t){return arguments.length?(c=qr(a*(l=t?-1:1),a*f,s,u),d()):l<0},reflectY:function(t){return arguments.length?(c=qr(a*l,a*(f=t?-1:1),s,u),d()):f<0},fitExtent:function(t,e){return hr(o,t,e)},fitSize:function(t,e){return pr(o,t,e)},fitWidth:function(t,e){return dr(o,t,e)},fitHeight:function(t,e){return mr(o,t,e)}}};function Vr(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Vr.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(d(n)>s&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Zr=function(){return wr(Vr).scale(175.295)};function Jr(t,e){return[y(e)*_(t),_(e)]}Jr.invert=Or(T);var $r=function(){return wr(Jr).scale(249.5).clipAngle(90+s)};function Qr(t,e){var n=y(e),r=1+y(t)*n;return[n*_(t)/r,_(e)/r]}Qr.invert=Or(function(t){return 2*m(t)});var Kr=function(){return wr(Qr).scale(250).clipAngle(142)};function ti(t,e){return[x(C((l+e)/2)),-t]}ti.invert=function(t,e){return[-e,2*m(b(t))-l]};var ei=function(){var t=Br(ti),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};n.d(e,"geoArea",function(){return V}),n.d(e,"geoBounds",function(){return Xt}),n.d(e,"geoCentroid",function(){return Qt}),n.d(e,"geoCircle",function(){return le}),n.d(e,"geoClipAntimeridian",function(){return Ee}),n.d(e,"geoClipCircle",function(){return Te}),n.d(e,"geoClipExtent",function(){return ke}),n.d(e,"geoClipRectangle",function(){return Ae}),n.d(e,"geoContains",function(){return Ke}),n.d(e,"geoDistance",function(){return He}),n.d(e,"geoGraticule",function(){return nn}),n.d(e,"geoGraticule10",function(){return rn}),n.d(e,"geoInterpolate",function(){return ln}),n.d(e,"geoLength",function(){return Ye}),n.d(e,"geoPath",function(){return sr}),n.d(e,"geoAlbers",function(){return Er}),n.d(e,"geoAlbersUsa",function(){return Tr}),n.d(e,"geoAzimuthalEqualArea",function(){return Ar}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return Nr}),n.d(e,"geoAzimuthalEquidistant",function(){return Mr}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return Lr}),n.d(e,"geoConicConformal",function(){return Fr}),n.d(e,"geoConicConformalRaw",function(){return Ur}),n.d(e,"geoConicEqualArea",function(){return Cr}),n.d(e,"geoConicEqualAreaRaw",function(){return Sr}),n.d(e,"geoConicEquidistant",function(){return Wr}),n.d(e,"geoConicEquidistantRaw",function(){return jr}),n.d(e,"geoEquirectangular",function(){return Yr}),n.d(e,"geoEquirectangularRaw",function(){return Xr}),n.d(e,"geoGnomonic",function(){return zr}),n.d(e,"geoGnomonicRaw",function(){return Hr}),n.d(e,"geoIdentity",function(){return Gr}),n.d(e,"geoProjection",function(){return wr}),n.d(e,"geoProjectionMutator",function(){return _r}),n.d(e,"geoMercator",function(){return kr}),n.d(e,"geoMercatorRaw",function(){return Rr}),n.d(e,"geoNaturalEarth1",function(){return Zr}),n.d(e,"geoNaturalEarth1Raw",function(){return Vr}),n.d(e,"geoOrthographic",function(){return $r}),n.d(e,"geoOrthographicRaw",function(){return Jr}),n.d(e,"geoStereographic",function(){return Kr}),n.d(e,"geoStereographicRaw",function(){return Qr}),n.d(e,"geoTransverseMercator",function(){return ei}),n.d(e,"geoTransverseMercatorRaw",function(){return ti}),n.d(e,"geoRotation",function(){return ae}),n.d(e,"geoStream",function(){return X}),n.d(e,"geoTransform",function(){return ur})},function(t,e,n){"use strict";var r=n(82),i=n(17),o=n(81),a=n(40),s=n(0),u=n(43),l=n(13),f=n(29),c=n(42),h=n(41),p=n(72),d=n(71),m=n(70),v=n(31),y=n(39),g=n(38),b=n(37),x=n(69),w=n(36),_=n(68),P=n(35),S=n(34),C=n(33),E=n(32),T=n(30);function I(t,e){n(24).readFile(t,function(t,n){if(t)return e(t.message);e(null,f.nodeBufferToArrayBuffer(n))})}function O(t,e){var n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="arraybuffer",n.onload=function(){return 200!==n.status?e("Font could not be loaded: "+n.statusText):e(null,n.response)},n.send()}function N(t,e){for(var n=[],r=12,i=0;i<e;i+=1){var o=s.getTag(t,r),a=s.getULong(t,r+4),u=s.getULong(t,r+8),l=s.getULong(t,r+12);n.push({tag:o,checksum:a,offset:u,length:l,compression:!1}),r+=16}return n}function A(t,e){if("WOFF"===e.compression){var n=new Uint8Array(t.buffer,e.offset+2,e.compressedLength-2),i=new Uint8Array(e.originalLength);if(r(n,i),i.byteLength!==e.originalLength)throw new Error("Decompression error: "+e.tag+" decompressed length doesn't match recorded length");return{data:new DataView(i.buffer,0),offset:0}}return{data:t,offset:e.offset}}function L(t){var e,n,r,a,u,l,f,I,O,L,M,R,k,B=new o.Font({empty:!0}),D=new DataView(t,0),U=[],F=s.getTag(D,0);if(F===String.fromCharCode(0,1,0,0))B.outlinesFormat="truetype",U=N(D,r=s.getUShort(D,4));else if("OTTO"===F)B.outlinesFormat="cff",U=N(D,r=s.getUShort(D,4));else{if("wOFF"!==F)throw new Error("Unsupported OpenType signature "+F);var X=s.getTag(D,4);if(X===String.fromCharCode(0,1,0,0))B.outlinesFormat="truetype";else{if("OTTO"!==X)throw new Error("Unsupported OpenType flavor "+F);B.outlinesFormat="cff"}U=function(t,e){for(var n=[],r=44,i=0;i<e;i+=1){var o,a=s.getTag(t,r),u=s.getULong(t,r+4),l=s.getULong(t,r+8),f=s.getULong(t,r+12);o=l<f&&"WOFF",n.push({tag:a,offset:u,compression:o,compressedLength:l,originalLength:f}),r+=20}return n}(D,r=s.getUShort(D,12))}for(var Y=0;Y<r;Y+=1){var j,W=U[Y];switch(W.tag){case"cmap":j=A(D,W),B.tables.cmap=c.parse(j.data,j.offset),B.encoding=new i.CmapEncoding(B.tables.cmap);break;case"fvar":u=W;break;case"head":j=A(D,W),B.tables.head=y.parse(j.data,j.offset),B.unitsPerEm=B.tables.head.unitsPerEm,e=B.tables.head.indexToLocFormat;break;case"hhea":j=A(D,W),B.tables.hhea=g.parse(j.data,j.offset),B.ascender=B.tables.hhea.ascender,B.descender=B.tables.hhea.descender,B.numberOfHMetrics=B.tables.hhea.numberOfHMetrics;break;case"hmtx":O=W;break;case"ltag":j=A(D,W),n=w.parse(j.data,j.offset);break;case"maxp":j=A(D,W),B.tables.maxp=P.parse(j.data,j.offset),B.numGlyphs=B.tables.maxp.numGlyphs;break;case"name":R=W;break;case"OS/2":j=A(D,W),B.tables.os2=C.parse(j.data,j.offset);break;case"post":j=A(D,W),B.tables.post=E.parse(j.data,j.offset),B.glyphNames=new i.GlyphNames(B.tables.post);break;case"glyf":l=W;break;case"loca":M=W;break;case"CFF ":a=W;break;case"kern":L=W;break;case"GPOS":f=W;break;case"GSUB":I=W;break;case"meta":k=W}}var H=A(D,R);if(B.tables.name=S.parse(H.data,H.offset,n),B.names=B.tables.name,l&&M){var z=0===e,q=A(D,M),G=_.parse(q.data,q.offset,B.numGlyphs,z),V=A(D,l);B.glyphs=d.parse(V.data,V.offset,G,B)}else{if(!a)throw new Error("Font doesn't contain TrueType or CFF outlines.");var Z=A(D,a);h.parse(Z.data,Z.offset,B)}var J=A(D,O);if(b.parse(J.data,J.offset,B.numberOfHMetrics,B.numGlyphs,B.glyphs),i.addGlyphNames(B),L){var $=A(D,L);B.kerningPairs=x.parse($.data,$.offset)}else B.kerningPairs={};if(f){var Q=A(D,f);m.parse(Q.data,Q.offset,B)}if(I){var K=A(D,I);B.tables.gsub=v.parse(K.data,K.offset)}if(u){var tt=A(D,u);B.tables.fvar=p.parse(tt.data,tt.offset,B.names)}if(k){var et=A(D,k);B.tables.meta=T.parse(et.data,et.offset),B.metas=B.tables.meta}return B}e._parse=s,e.Font=o.Font,e.Glyph=a.Glyph,e.Path=l.Path,e.BoundingBox=u.BoundingBox,e.parse=L,e.load=function(t,e){("undefined"==typeof window?I:O)(t,function(t,n){if(t)return e(t);var r;try{r=L(n)}catch(t){return e(t,null)}return e(null,r)})},e.loadSync=function(t){var e=n(24).readFileSync(t);return L(f.nodeBufferToArrayBuffer(e))}},,,function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(module,exports,__webpack_require__){var indexOf=__webpack_require__(61),Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,n){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(t){return function(t,e,n){t[e]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var n=e.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(t),function(e){n[e]=t[e]}),forEach(globals,function(e){t[e]&&(n[e]=t[e])});var o=Object_keys(n),a=r.call(n,this.code);return forEach(Object_keys(n),function(e){(e in t||-1===indexOf(o,e))&&(t[e]=n[e])}),forEach(globals,function(e){e in t||defineProp(t,e,n[e])}),document.body.removeChild(e),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),n=this.runInContext(e);return forEach(Object_keys(e),function(n){t[n]=e[n]}),n},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var n=Script(e);return n[t].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"==typeof t&&forEach(Object_keys(t),function(n){e[n]=t[n]}),e}},function(t,e,n){"use strict";e.BUILTIN_USERS={core:!0,demo:!0,skel:!0,template:!0,tutorial:!0}},function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};f.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},f.prototype.delete=function(t){delete this.map[s(t)]},f.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},f.prototype.set=function(t,e){this.map[s(t)]=u(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),l(t)},f.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},f.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),l(t)},e.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];g.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},t.Headers=f,t.Request=v,t.Response=g,t.fetch=function(t,n){return new Promise(function(r,i){var o=new v(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new f,t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new g(i,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function f(t){this.map={},t instanceof f?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function c(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function h(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function p(t){var e=new FileReader,n=h(e);return e.readAsArrayBuffer(t),n}function d(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,e,n,r=c(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=h(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(t,e){var n,r,i=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function y(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function g(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},function(t,e,n){n(64);var r="undefined"!=typeof self&&self||this;t.exports=r.fetch.bind(r)},,,function(t,e,n){"use strict";var r=n(0);e.parse=function(t,e,n,i){for(var o=new r.Parser(t,e),a=i?o.parseUShort:o.parseULong,s=[],u=0;u<n+1;u+=1){var l=a.call(o);i&&(l*=2),s.push(l)}return s}},function(t,e,n){"use strict";var r=n(1),i=n(0);e.parse=function(t,e){var n=new i.Parser(t,e),o=n.parseUShort();if(0===o)return function(t){var e={};t.skip("uShort");var n=t.parseUShort();r.argument(0===n,"Unsupported kern sub-table version."),t.skip("uShort",2);var i=t.parseUShort();t.skip("uShort",3);for(var o=0;o<i;o+=1){var a=t.parseUShort(),s=t.parseUShort(),u=t.parseShort();e[a+","+s]=u}return e}(n);if(1===o)return function(t){var e={};t.skip("uShort"),t.parseULong()>1&&console.warn("Only the first kern subtable is supported."),t.skip("uLong");var n=255&t.parseUShort();if(t.skip("uShort"),0===n){var r=t.parseUShort();t.skip("uShort",3);for(var i=0;i<r;i+=1){var o=t.parseUShort(),a=t.parseUShort(),s=t.parseShort();e[o+","+a]=s}}return e}(n);throw new Error("Unsupported kern table version ("+o+").")}},function(t,e,n){"use strict";var r=n(1),i=n(0);function o(t,e){for(var n=new i.Parser(t,e),r=n.parseUShort(),o=[],a=0;a<r;a++)o[n.parseTag()]={offset:n.parseUShort()};return o}function a(t,e){var n=new i.Parser(t,e),r=n.parseUShort();if(1===r){var o=n.parseUShort(),a=n.parseUShort(),s=n.parseUShortList(a);return function(t){return s[t-o]||0}}if(2===r){for(var u=n.parseUShort(),l=[],f=[],c=[],h=0;h<u;h++)l[h]=n.parseUShort(),f[h]=n.parseUShort(),c[h]=n.parseUShort();return function(t){for(var e=0,n=l.length-1;e<n;){var r=e+n+1>>1;t<l[r]?n=r-1:e=r}return l[e]<=t&&t<=f[e]&&c[e]||0}}}function s(t,e){var n,r=new i.Parser(t,e),o=r.parseUShort(),s=function(t,e){var n=new i.Parser(t,e),r=n.parseUShort(),o=n.parseUShort();if(1===r)return n.parseUShortList(o);if(2===r){for(var a=[];o--;)for(var s=n.parseUShort(),u=n.parseUShort(),l=n.parseUShort(),f=s;f<=u;f++)a[l++]=f;return a}}(t,e+r.parseUShort()),u=r.parseUShort(),l=r.parseUShort();if(4===u&&0===l){var f={};if(1===o){for(var c=r.parseUShort(),h=[],p=r.parseOffset16List(c),d=0;d<c;d++){var m=p[d],v=f[m];if(!v){v={},r.relativeOffset=m;for(var y=r.parseUShort();y--;){var g=r.parseUShort();u&&(n=r.parseShort()),l&&r.parseShort(),v[g]=n}}h[s[d]]=v}return function(t,e){var n=h[t];if(n)return n[e]}}if(2===o){for(var b=r.parseUShort(),x=r.parseUShort(),w=r.parseUShort(),_=r.parseUShort(),P=a(t,e+b),S=a(t,e+x),C=[],E=0;E<w;E++)for(var T=C[E]=[],I=0;I<_;I++)u&&(n=r.parseShort()),l&&r.parseShort(),T[I]=n;var O={};for(E=0;E<s.length;E++)O[s[E]]=1;return function(t,e){if(O[t]){var n=P(t),r=S(e),i=C[n];return i?i[r]:void 0}}}}}function u(t,e){var n=new i.Parser(t,e),r=n.parseUShort(),o=n.parseUShort(),a=16&o,u=n.parseUShort(),l=n.parseOffset16List(u),f={lookupType:r,lookupFlag:o,markFilteringSet:a?n.parseUShort():-1};if(2===r){for(var c=[],h=0;h<u;h++){var p=s(t,e+l[h]);p&&c.push(p)}f.getKerningValue=function(t,e){for(var n=c.length;n--;){var r=c[n](t,e);if(void 0!==r)return r}return 0}}return f}e.parse=function(t,e,n){var a=new i.Parser(t,e),s=a.parseFixed();r.argument(1===s,"Unsupported GPOS table version."),o(t,e+a.parseUShort()),o(t,e+a.parseUShort());var l=a.parseUShort();a.relativeOffset=l;for(var f=a.parseUShort(),c=a.parseOffset16List(f),h=e+l,p=0;p<f;p++){var d=u(t,h+c[p]);2!==d.lookupType||n.getGposKerningValue||(n.getGposKerningValue=d.getKerningValue)}}},function(t,e,n){"use strict";var r=n(1),i=n(25),o=n(0),a=n(13);function s(t,e,n,r,i){var o;return(e&r)>0?(o=t.parseByte(),0==(e&i)&&(o=-o),o=n+o):o=(e&i)>0?n:n+t.parseShort(),o}function u(t,e,n){var i,a,u=new o.Parser(e,n);if(t.numberOfContours=u.parseShort(),t._xMin=u.parseShort(),t._yMin=u.parseShort(),t._xMax=u.parseShort(),t._yMax=u.parseShort(),t.numberOfContours>0){var l,f=t.endPointIndices=[];for(l=0;l<t.numberOfContours;l+=1)f.push(u.parseUShort());for(t.instructionLength=u.parseUShort(),t.instructions=[],l=0;l<t.instructionLength;l+=1)t.instructions.push(u.parseByte());var c=f[f.length-1]+1;for(i=[],l=0;l<c;l+=1)if(a=u.parseByte(),i.push(a),(8&a)>0)for(var h=u.parseByte(),p=0;p<h;p+=1)i.push(a),l+=1;if(r.argument(i.length===c,"Bad flags."),f.length>0){var d,m=[];if(c>0){for(l=0;l<c;l+=1)a=i[l],(d={}).onCurve=!!(1&a),d.lastPointOfContour=f.indexOf(l)>=0,m.push(d);var v=0;for(l=0;l<c;l+=1)a=i[l],(d=m[l]).x=s(u,a,v,2,16),v=d.x;var y=0;for(l=0;l<c;l+=1)a=i[l],(d=m[l]).y=s(u,a,y,4,32),y=d.y}t.points=m}else t.points=[]}else if(0===t.numberOfContours)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var g=!0;g;){i=u.parseUShort();var b={glyphIndex:u.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&i)>0?(2&i)>0?(b.dx=u.parseShort(),b.dy=u.parseShort()):b.matchedPoints=[u.parseUShort(),u.parseUShort()]:(2&i)>0?(b.dx=u.parseChar(),b.dy=u.parseChar()):b.matchedPoints=[u.parseByte(),u.parseByte()],(8&i)>0?b.xScale=b.yScale=u.parseF2Dot14():(64&i)>0?(b.xScale=u.parseF2Dot14(),b.yScale=u.parseF2Dot14()):(128&i)>0&&(b.xScale=u.parseF2Dot14(),b.scale01=u.parseF2Dot14(),b.scale10=u.parseF2Dot14(),b.yScale=u.parseF2Dot14()),t.components.push(b),g=!!(32&i)}}}function l(t,e){for(var n=[],r=0;r<t.length;r+=1){var i=t[r],o={x:e.xScale*i.x+e.scale01*i.y+e.dx,y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(o)}return n}function f(t){var e=new a.Path;if(!t)return e;for(var n=function(t){for(var e=[],n=[],i=0;i<t.length;i+=1){var o=t[i];n.push(o),o.lastPointOfContour&&(e.push(n),n=[])}return r.argument(0===n.length,"There are still points left in the current contour."),e}(t),i=0;i<n.length;i+=1){var o,s,u=n[i],l=u[0],f=u[u.length-1];l.onCurve?(o=null,s=!0):(o=l=f.onCurve?f:{x:(l.x+f.x)/2,y:(l.y+f.y)/2},s=!1),e.moveTo(l.x,l.y);for(var c=s?1:0;c<u.length;c+=1){var h=u[c],p=0===c?l:u[c-1];if(p.onCurve&&h.onCurve)e.lineTo(h.x,h.y);else if(p.onCurve&&!h.onCurve)o=h;else if(p.onCurve||h.onCurve){if(p.onCurve||!h.onCurve)throw new Error("Invalid state.");e.quadraticCurveTo(o.x,o.y,h.x,h.y),o=null}else{var d={x:(p.x+h.x)/2,y:(p.y+h.y)/2};e.quadraticCurveTo(p.x,p.y,d.x,d.y),o=h}}l!==f&&(o?e.quadraticCurveTo(o.x,o.y,l.x,l.y):e.lineTo(l.x,l.y))}return e.closePath(),e}function c(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var r=e.components[n],i=t.get(r.glyphIndex);if(i.getPath(),i.points){var o;if(void 0===r.matchedPoints)o=l(i.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+e.name);var a=e.points[r.matchedPoints[0]],s=i.points[r.matchedPoints[1]],u={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};s=l([s],u)[0],u.dx=a.x-s.x,u.dy=a.y-s.y,o=l(i.points,u)}e.points=e.points.concat(o)}}return f(e.points)}e.parse=function(t,e,n,r){var o,a=new i.GlyphSet(r);for(o=0;o<n.length-1;o+=1){var s=n[o];s!==n[o+1]?a.push(o,i.ttfGlyphLoader(r,o,u,t,e+s,c)):a.push(o,i.glyphLoader(r,o))}return a}},function(t,e,n){"use strict";var r=n(1),i=n(0),o=n(2);function a(t,e){var n=JSON.stringify(t),r=256;for(var i in e){var o=parseInt(i);if(o&&!(o<256)){if(JSON.stringify(e[i])===n)return o;r<=o&&(r=o+1)}}return e[r]=t,r}function s(t,e,n){var r=a(e.name,n);return[{name:"tag_"+t,type:"TAG",value:e.tag},{name:"minValue_"+t,type:"FIXED",value:e.minValue<<16},{name:"defaultValue_"+t,type:"FIXED",value:e.defaultValue<<16},{name:"maxValue_"+t,type:"FIXED",value:e.maxValue<<16},{name:"flags_"+t,type:"USHORT",value:0},{name:"nameID_"+t,type:"USHORT",value:r}]}function u(t,e,n){var r={},o=new i.Parser(t,e);return r.tag=o.parseTag(),r.minValue=o.parseFixed(),r.defaultValue=o.parseFixed(),r.maxValue=o.parseFixed(),o.skip("uShort",1),r.name=n[o.parseUShort()]||{},r}function l(t,e,n,r){for(var i=[{name:"nameID_"+t,type:"USHORT",value:a(e.name,r)},{name:"flags_"+t,type:"USHORT",value:0}],o=0;o<n.length;++o){var s=n[o].tag;i.push({name:"axis_"+t+" "+s,type:"FIXED",value:e.coordinates[s]<<16})}return i}function f(t,e,n,r){var o={},a=new i.Parser(t,e);o.name=r[a.parseUShort()]||{},a.skip("uShort",1),o.coordinates={};for(var s=0;s<n.length;++s)o.coordinates[n[s].tag]=a.parseFixed();return o}e.make=function(t,e){var n=new o.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:t.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:t.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*t.axes.length}]);n.offsetToData=n.sizeOf();for(var r=0;r<t.axes.length;r++)n.fields=n.fields.concat(s(r,t.axes[r],e));for(var i=0;i<t.instances.length;i++)n.fields=n.fields.concat(l(i,t.instances[i],t.axes,e));return n},e.parse=function(t,e,n){var o=new i.Parser(t,e),a=o.parseULong();r.argument(65536===a,"Unsupported fvar table version.");var s=o.parseOffset16();o.skip("uShort",1);for(var l=o.parseUShort(),c=o.parseUShort(),h=o.parseUShort(),p=o.parseUShort(),d=[],m=0;m<l;m++)d.push(u(t,e+s+m*c,n));for(var v=[],y=e+s+l*c,g=0;g<h;g++)v.push(f(t,y+g*p,d,n));return{axes:d,instances:v}}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,f=-7,c=n?i-1:0,h=n?-1:1,p=t[e+c];for(c+=h,o=p&(1<<-f)-1,p>>=-f,f+=s;f>0;o=256*o+t[e+c],c+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+t[e+c],c+=h,f-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,f=(1<<l)-1,c=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+c>=1?h/u:h*Math.pow(2,1-c))*u>=2&&(a++,u/=2),a+c>=f?(s=0,a=f):a+c>=1?(s=(e*u-1)*Math.pow(2,i),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+p]=255&a,p+=d,a/=256,l-=8);t[n+p-d]|=128*m}},function(t,e,n){"use strict";e.byteLength=function(t){return 3*t.length/4-l(t)},e.toByteArray=function(t){var e,n,r,a,s,u=t.length;a=l(t),s=new o(3*u/4-a),n=a>0?u-4:u;var f=0;for(e=0;e<n;e+=4)r=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],s[f++]=r>>16&255,s[f++]=r>>8&255,s[f++]=255&r;2===a?(r=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,s[f++]=255&r):1===a&&(r=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,s[f++]=r>>8&255,s[f++]=255&r);return s},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o="",a=[],s=0,u=n-i;s<u;s+=16383)a.push(f(t,s,s+16383>u?u:s+16383));1===i?(e=t[n-1],o+=r[e>>2],o+=r[e<<4&63],o+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],o+=r[e>>10],o+=r[e>>4&63],o+=r[e<<2&63],o+="=");return a.push(o),a.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function f(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e,n){"use strict";(function(t){var r=n(75),i=n(74),o=n(73);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(f(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(r)return X(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var f=-1;for(o=n;o<s;o++)if(l(t,o)===l(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var c=!0,h=0;h<u;h++)if(l(t,o+h)!==l(e,h)){c=!1;break}if(c)return o}return-1}function g(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,r){return j(X(e,t.length-n),t,n,r)}function x(t,e,n,r){return j(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return x(t,e,n,r)}function _(t,e,n,r){return j(Y(e),t,n,r)}function P(t,e,n,r){return j(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,l=t[i],f=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c<=n)switch(c){case 1:l<128&&(f=l);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,c=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=c}return function(t){var e=t.length;if(e<=E)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=E));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return f(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return c(null,t)},u.allocUnsafeSlow=function(t){return c(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,a=n-e,s=Math.min(o,a),l=this.slice(r,i),f=t.slice(e,n),c=0;c<s;++c)if(l[c]!==f[c]){o=l[c],a=f[c];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function O(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=F(t[o]);return i}function N(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function M(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function k(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,o){return o||k(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function D(t,e,n,r,o){return o||k(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||A(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||A(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||A(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||A(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||A(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||A(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||A(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||A(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||A(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||L(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||L(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return D(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return D(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:X(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function X(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(3))},function(t,e,n){"use strict";var r=n(1);function i(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,o=t[i].tag;if(o===e)return i;o<e?n=i+1:r=i-1}return-n-1}function o(t,e){this.font=t,this.tableName=e}o.prototype={searchTag:i,binSearch:function(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,o=t[i];if(o===e)return i;o<e?n=i+1:r=i-1}return-n-1},getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(t){return t.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var r=t.scripts[n].tag;if("DFLT"===r)return r;"latn"===r&&(e=!0)}return e?"latn":void 0}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var r=n.scripts,o=i(n.scripts,t);if(o>=0)return r[o].script;if(e){var a={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-o,0,a),a.script}}},getLangSysTable:function(t,e,n){var r=this.getScriptTable(t,n);if(r){if(!e||"dflt"===e||"DFLT"===e)return r.defaultLangSys;var o=i(r.langSysRecords,e);if(o>=0)return r.langSysRecords[o].langSys;if(n){var a={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-o,0,a),a.langSys}}},getFeatureTable:function(t,e,n,i){var o=this.getLangSysTable(t,e,i);if(o){for(var a,s=o.featureIndexes,u=this.font.tables[this.tableName].features,l=0;l<s.length;l++)if((a=u[s[l]]).tag===n)return a.feature;if(i){var f=u.length;return r.assert(0===f||n>=u[f-1].tag,"Features must be added in alphabetical order."),a={tag:n,feature:{params:0,lookupListIndexes:[]}},u.push(a),s.push(f),a.feature}}},getLookupTables:function(t,e,n,r,i){var o=this.getFeatureTable(t,e,n,i),a=[];if(o){for(var s,u=o.lookupListIndexes,l=this.font.tables[this.tableName].lookups,f=0;f<u.length;f++)(s=l[u[f]]).lookupType===r&&a.push(s);if(0===a.length&&i){s={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var c=l.length;return l.push(s),u.push(c),[s]}}return a},expandCoverage:function(t){if(1===t.format)return t.glyphs;for(var e=[],n=t.ranges,r=0;r<n;r++)for(var i=n[r],o=i.start,a=i.end,s=o;s<=a;s++)e.push(s);return e}},t.exports=o},function(t,e,n){"use strict";var r=n(1),i=n(77),o=function(t){i.call(this,t,"gsub")};function a(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function s(t,e,n){for(var r=t.subtables,i=0;i<r.length;i++){var o=r[i];if(o.substFormat===e)return o}if(n)return r.push(n),n}(o.prototype=i.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},o.prototype.getSingle=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,1),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++){var u,l=a[s],f=this.expandCoverage(l.coverage);if(1===l.substFormat){var c=l.deltaGlyphId;for(u=0;u<f.length;u++){var h=f[u];r.push({sub:h,by:h+c})}}else{var p=l.substitute;for(u=0;u<f.length;u++)r.push({sub:f[u],by:p[u]})}}return r},o.prototype.getAlternates=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,3),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var u=a[s],l=this.expandCoverage(u.coverage),f=u.alternateSets,c=0;c<l.length;c++)r.push({sub:l[c],by:f[c]});return r},o.prototype.getLigatures=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,4),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var u=a[s],l=this.expandCoverage(u.coverage),f=u.ligatureSets,c=0;c<l.length;c++)for(var h=l[c],p=f[c],d=0;d<p.length;d++){var m=p[d];r.push({sub:[h].concat(m.components),by:m.ligGlyph})}return r},o.prototype.addSingle=function(t,e,n,i){var o=s(this.getLookupTables(n,i,t,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});r.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);var a=e.sub,u=this.binSearch(o.coverage.glyphs,a);u<0&&(u=-1-u,o.coverage.glyphs.splice(u,0,a),o.substitute.splice(u,0,0)),o.substitute[u]=e.by},o.prototype.addAlternate=function(t,e,n,i){var o=s(this.getLookupTables(n,i,t,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});r.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);var a=e.sub,u=this.binSearch(o.coverage.glyphs,a);u<0&&(u=-1-u,o.coverage.glyphs.splice(u,0,a),o.alternateSets.splice(u,0,0)),o.alternateSets[u]=e.by},o.prototype.addLigature=function(t,e,n,i){var o=this.getLookupTables(n,i,t,4,!0)[0],s=o.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},o.subtables[0]=s),r.assert(1===s.coverage.format,"Ligature: unable to modify coverage table format "+s.coverage.format);var u=e.sub[0],l=e.sub.slice(1),f={ligGlyph:e.by,components:l},c=this.binSearch(s.coverage.glyphs,u);if(c>=0){for(var h=s.ligatureSets[c],p=0;p<h.length;p++)if(a(h[p].components,l))return;h.push(f)}else c=-1-c,s.coverage.glyphs.splice(c,0,u),s.ligatureSets.splice(c,0,[f])},o.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n)}},o.prototype.add=function(t,e,n,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,r);switch(t){case"aalt":case"salt":return"number"==typeof e.by?this.addSingle(t,e,n,r):this.addAlternate(t,e,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,r)}},t.exports=o},function(t,e,n){"use strict";e.line=function(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}},function(t,e,n){"use strict";var r=n(1),i=n(2),o=n(42),a=n(41),s=n(39),u=n(38),l=n(37),f=n(36),c=n(35),h=n(34),p=n(33),d=n(32),m=n(31),v=n(30);function y(t){return Math.log(t)/Math.log(2)|0}function g(t){for(;t.length%4!=0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32)}function b(t,e,n,r){return new i.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==t?t:""},{name:"checkSum",type:"ULONG",value:void 0!==e?e:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0}])}function x(t){var e=new i.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,y(e.numTables));e.searchRange=16*n,e.entrySelector=y(n),e.rangeShift=16*e.numTables-e.searchRange;for(var o=[],a=[],s=e.sizeOf()+b().sizeOf()*e.numTables;s%4!=0;)s+=1,a.push({name:"padding",type:"BYTE",value:0});for(var u=0;u<t.length;u+=1){var l=t[u];r.argument(4===l.tableName.length,"Table name"+l.tableName+" is invalid.");var f=l.sizeOf(),c=b(l.tableName,g(l.encode()),s,f);for(o.push({name:c.tag+" Table Record",type:"RECORD",value:c}),a.push({name:l.tableName+" table",type:"RECORD",value:l}),s+=f,r.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!=0;)s+=1,a.push({name:"padding",type:"BYTE",value:0})}return o.sort(function(t,e){return t.value.tag>e.value.tag?1:-1}),e.fields=e.fields.concat(o),e.fields=e.fields.concat(a),e}function w(t,e,n){for(var r=0;r<e.length;r+=1){var i=t.charToGlyphIndex(e[r]);if(i>0)return t.glyphs.get(i).getMetrics()}return n}e.computeCheckSum=g,e.make=x,e.fontToTable=function(t){for(var e,n=[],r=[],i=[],y=[],b=[],_=[],P=[],S=0,C=0,E=0,T=0,I=0,O=0;O<t.glyphs.length;O+=1){var N=t.glyphs.get(O),A=0|N.unicode;if(isNaN(N.advanceWidth))throw new Error("Glyph "+N.name+" ("+O+"): advanceWidth is not a number.");(e>A||void 0===e)&&A>0&&(e=A),S<A&&(S=A);var L=p.getUnicodeRange(A);if(L<32)C|=1<<L;else if(L<64)E|=1<<L-32;else if(L<96)T|=1<<L-64;else{if(!(L<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");I|=1<<L-96}if(".notdef"!==N.name){var M=N.getMetrics();n.push(M.xMin),r.push(M.yMin),i.push(M.xMax),y.push(M.yMax),_.push(M.leftSideBearing),P.push(M.rightSideBearing),b.push(N.advanceWidth)}}var R={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,y),advanceWidthMax:Math.max.apply(null,b),advanceWidthAvg:function(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}(b),minLeftSideBearing:Math.min.apply(null,_),maxLeftSideBearing:Math.max.apply(null,_),minRightSideBearing:Math.min.apply(null,P)};R.ascender=t.ascender,R.descender=t.descender;var k=s.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:R.xMin,yMin:R.yMin,xMax:R.xMax,yMax:R.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),B=u.make({ascender:R.ascender,descender:R.descender,advanceWidthMax:R.advanceWidthMax,minLeftSideBearing:R.minLeftSideBearing,minRightSideBearing:R.minRightSideBearing,xMaxExtent:R.maxLeftSideBearing+(R.xMax-R.xMin),numberOfHMetrics:t.glyphs.length}),D=c.make(t.glyphs.length),U=p.make({xAvgCharWidth:Math.round(R.advanceWidthAvg),usWeightClass:t.tables.os2.usWeightClass,usWidthClass:t.tables.os2.usWidthClass,usFirstCharIndex:e,usLastCharIndex:S,ulUnicodeRange1:C,ulUnicodeRange2:E,ulUnicodeRange3:T,ulUnicodeRange4:I,fsSelection:t.tables.os2.fsSelection,sTypoAscender:R.ascender,sTypoDescender:R.descender,sTypoLineGap:0,usWinAscent:R.yMax,usWinDescent:Math.abs(R.yMin),ulCodePageRange1:1,sxHeight:w(t,"xyvw",{yMax:Math.round(R.ascender/2)}).yMax,sCapHeight:w(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",R).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0}),F=l.make(t.glyphs),X=o.make(t.glyphs),Y=t.getEnglishName("fontFamily"),j=t.getEnglishName("fontSubfamily"),W=Y+" "+j,H=t.getEnglishName("postScriptName");H||(H=Y.replace(/\s/g,"")+"-"+j);var z={};for(var q in t.names)z[q]=t.names[q];z.uniqueID||(z.uniqueID={en:t.getEnglishName("manufacturer")+":"+W}),z.postScriptName||(z.postScriptName={en:H}),z.preferredFamily||(z.preferredFamily=t.names.fontFamily),z.preferredSubfamily||(z.preferredSubfamily=t.names.fontSubfamily);var G=[],V=h.make(z,G),Z=G.length>0?f.make(G):void 0,J=d.make(),$=a.make(t.glyphs,{version:t.getEnglishName("version"),fullName:W,familyName:Y,weightName:j,postScriptName:H,unitsPerEm:t.unitsPerEm,fontBBox:[0,R.yMin,R.ascender,R.advanceWidthMax]}),Q=t.metas&&Object.keys(t.metas).length>0?v.make(t.metas):void 0,K=[k,B,D,U,V,X,J,$,F];Z&&K.push(Z),t.tables.gsub&&K.push(m.make(t.tables.gsub)),Q&&K.push(Q);var tt=x(K),et=g(tt.encode()),nt=tt.fields,rt=!1;for(O=0;O<nt.length;O+=1)if("head table"===nt[O].name){nt[O].value.checkSumAdjustment=2981146554-et,rt=!0;break}if(!rt)throw new Error("Could not find head table with checkSum to adjust.");return tt}},function(t,e,n){"use strict";var r=n(13),i=n(80),o=n(17),a=n(25),s=n(78),u=n(29);function l(t){(t=t||{}).empty||(u.checkArgument(t.familyName,"When creating a new Font object, familyName is required."),u.checkArgument(t.styleName,"When creating a new Font object, styleName is required."),u.checkArgument(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),u.checkArgument(t.ascender,"When creating a new Font object, ascender is required."),u.checkArgument(t.descender,"When creating a new Font object, descender is required."),u.checkArgument(t.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||t.familyName+t.styleName},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables={os2:{usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new a.GlyphSet(this,t.glyphs||[]),this.encoding=new o.DefaultEncoding(this),this.substitution=new s(this),this.tables=this.tables||{}}l.prototype.hasChar=function(t){return null!==this.encoding.charToGlyphIndex(t)},l.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)},l.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n},l.prototype.stringToGlyphs=function(t,e){var n;e=e||this.defaultRenderOptions;var r=[];for(n=0;n<t.length;n+=1){var i=t[n];r.push(this.charToGlyphIndex(i))}var o=r.length;if(e.features){var a=e.script||this.substitution.getDefaultScriptName(),s=[];for(e.features.liga&&(s=s.concat(this.substitution.getFeature("liga",a,e.language))),e.features.rlig&&(s=s.concat(this.substitution.getFeature("rlig",a,e.language))),n=0;n<o;n+=1)for(var u=0;u<s.length;u++){for(var l=s[u],f=l.sub,c=f.length,h=0;h<c&&f[h]===r[n+h];)h++;h===c&&(r.splice(n,c,l.by),o=o-c+1)}}var p=new Array(o),d=this.glyphs.get(0);for(n=0;n<o;n+=1)p[n]=this.glyphs.get(r[n])||d;return p},l.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)},l.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n},l.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""},l.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.getGposKerningValue;return n?n(t,e):this.kerningPairs[t+","+e]||0},l.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},l.prototype.forEachGlyph=function(t,e,n,r,i,o){e=void 0!==e?e:0,n=void 0!==n?n:0,r=void 0!==r?r:72,i=i||this.defaultRenderOptions;for(var a=1/this.unitsPerEm*r,s=this.stringToGlyphs(t,i),u=0;u<s.length;u+=1){var l=s[u];if(o(l,e,n,r,i),l.advanceWidth&&(e+=l.advanceWidth*a),i.kerning&&u<s.length-1)e+=this.getKerningValue(l,s[u+1])*a;i.letterSpacing?e+=i.letterSpacing*r:i.tracking&&(e+=i.tracking/1e3*r)}},l.prototype.getPath=function(t,e,n,i,o){var a=new r.Path;return this.forEachGlyph(t,e,n,i,o,function(t,e,n,r){var i=t.getPath(e,n,r);a.extend(i)}),a},l.prototype.getPaths=function(t,e,n,r,i){var o=[];return this.forEachGlyph(t,e,n,r,i,function(t,e,n,r){var i=t.getPath(e,n,r);o.push(i)}),o},l.prototype.draw=function(t,e,n,r,i,o){this.getPath(e,n,r,i,o).draw(t)},l.prototype.drawPoints=function(t,e,n,r,i,o){this.forEachGlyph(e,n,r,i,o,function(e,n,r,i){e.drawPoints(t,n,r,i)})},l.prototype.drawMetrics=function(t,e,n,r,i,o){this.forEachGlyph(e,n,r,i,o,function(e,n,r,i){e.drawMetrics(t,n,r,i)})},l.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en},l.prototype.validate=function(){var t=[],e=this;function n(e,n){e||t.push(n)}function r(t){var r=e.getEnglishName(t);n(r&&r.trim().length>0,"No English "+t+" specified.")}r("fontFamily"),r("weightName"),r("manufacturer"),r("copyright"),r("version"),n(this.unitsPerEm>0,"No unitsPerEm specified.")},l.prototype.toTables=function(){return i.fontToTable(this)},l.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},l.prototype.toArrayBuffer=function(){for(var t=this.toTables().encode(),e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r<t.length;r++)n[r]=t[r];return e},l.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+r+".otf";var i=this.toArrayBuffer();if(u.isBrowser())window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,i.byteLength,function(e){e.root.getFile(t,{create:!0},function(t){t.createWriter(function(e){var n=new DataView(i),r=new Blob([n],{type:"font/opentype"});e.write(r),e.addEventListener("writeend",function(){location.href=t.toURL()},!1)})})},function(t){throw new Error(t.name+": "+t.message)});else{var o=n(24),a=u.arrayBufferToNodeBuffer(i);o.writeFileSync(t,a)}},l.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},l.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},l.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900},e.Font=l},function(t,e){var n=0,r=-3;function i(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var o=new i,a=new i,s=new Uint8Array(30),u=new Uint16Array(30),l=new Uint8Array(30),f=new Uint16Array(30),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new i,p=new Uint8Array(320);function d(t,e,n,r){var i,o;for(i=0;i<n;++i)t[i]=0;for(i=0;i<30-n;++i)t[i+n]=i/n|0;for(o=r,i=0;i<30;++i)e[i]=o,o+=1<<t[i]}var m=new Uint16Array(16);function v(t,e,n,r){var i,o;for(i=0;i<16;++i)t.table[i]=0;for(i=0;i<r;++i)t.table[e[n+i]]++;for(t.table[0]=0,o=0,i=0;i<16;++i)m[i]=o,o+=t.table[i];for(i=0;i<r;++i)e[n+i]&&(t.trans[m[e[n+i]]++]=i)}function y(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],t.bitcount=7);var e=1&t.tag;return t.tag>>>=1,e}function g(t,e,n){if(!e)return n;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var r=t.tag&65535>>>16-e;return t.tag>>>=e,t.bitcount-=e,r+n}function b(t,e){for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var n=0,r=0,i=0,o=t.tag;do{r=2*r+(1&o),o>>>=1,++i,n+=e.table[i],r-=e.table[i]}while(r>=0);return t.tag=o,t.bitcount-=i,e.trans[n+r]}function x(t,e,n){var r,i,o,a,s,u;for(r=g(t,5,257),i=g(t,5,1),o=g(t,4,4),a=0;a<19;++a)p[a]=0;for(a=0;a<o;++a){var l=g(t,3,0);p[c[a]]=l}for(v(h,p,0,19),s=0;s<r+i;){var f=b(t,h);switch(f){case 16:var d=p[s-1];for(u=g(t,2,3);u;--u)p[s++]=d;break;case 17:for(u=g(t,3,3);u;--u)p[s++]=0;break;case 18:for(u=g(t,7,11);u;--u)p[s++]=0;break;default:p[s++]=f}}v(e,p,0,r),v(n,p,r,i)}function w(t,e,r){for(;;){var i,o,a,c,h=b(t,e);if(256===h)return n;if(h<256)t.dest[t.destLen++]=h;else for(i=g(t,s[h-=257],u[h]),o=b(t,r),c=a=t.destLen-g(t,l[o],f[o]);c<a+i;++c)t.dest[t.destLen++]=t.dest[c]}}function _(t){for(var e,i;t.bitcount>8;)t.sourceIndex--,t.bitcount-=8;if((e=256*(e=t.source[t.sourceIndex+1])+t.source[t.sourceIndex])!==(65535&~(256*t.source[t.sourceIndex+3]+t.source[t.sourceIndex+2])))return r;for(t.sourceIndex+=4,i=e;i;--i)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitcount=0,n}!function(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[168+n]=280+n;for(n=0;n<112;++n)t.trans[176+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}(o,a),d(s,u,4,3),d(l,f,2,1),s[28]=0,u[28]=258,t.exports=function(t,e){var s,u,l=new function(t,e){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,this.destLen=0,this.ltree=new i,this.dtree=new i}(t,e);do{switch(s=y(l),g(l,2,0)){case 0:u=_(l);break;case 1:u=w(l,o,a);break;case 2:x(l,l.ltree,l.dtree),u=w(l,l.ltree,l.dtree);break;default:u=r}if(u!==n)throw new Error("Data error")}while(!s);return l.destLen<l.dest.length?"function"==typeof l.dest.slice?l.dest.slice(0,l.destLen):l.dest.subarray(0,l.destLen):l.dest}},function(t,e,n){"use strict";var r={easeInQuad:function(t,e,n,r){return n*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){return 0===t?e:n*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){return t===r?e+n:n*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,n,r){return 0===t?e:t===r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0===t?e:1==(t/=r)?e+n:(o||(o=.3*r),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)+e)},easeOutElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0===t?e:1==(t/=r)?e+n:(o||(o=.3*r),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((t*r-i)*(2*Math.PI)/o)+n+e)},easeInOutElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0===t?e:2==(t/=r/2)?e+n:(o||(o=r*(.3*1.5)),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)*.5+n+e)},easeInBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*(t/=r)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInBounce:function(t,e,n,i){return n-r.easeOutBounce(i-t,0,n,i)+e},easeOutBounce:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,i){return t<i/2?.5*r.easeInBounce(2*t,0,n,i)+e:.5*r.easeOutBounce(2*t-i,0,n,i)+.5*n+e},easing:function(t){var e=r[t],n=Array.prototype.slice.call(arguments,1);return e.apply(null,n)}};t.exports=r},function(t,e,n){"use strict";var r=n(21),i=n(27),o=n(46),a={};function s(t,e,n){return Math.min(n,Math.max(e,t))}function u(t,e){return e.transformShape(t)}function l(t,e){return t._transform(e.m)}function f(t,e){if(t instanceof r.Path||t instanceof r.Group||t instanceof r.Text||void 0!==t.x&&void 0!==t.y)return u(t,e);if(Array.isArray(t)){for(var n=[],o=0;o<t.length;o+=1)n.push(f(t[o],e));return n}return t instanceof i.Img?l(t,e):void 0}a.HORIZONTAL="horizontal",a.VERTICAL="vertical",a.BOTH="both",a.LEFT="left",a.RIGHT="right",a.CENTER="center",a.TOP="top",a.BOTTOM="bottom",a.MIDDLE="middle",a.align=function(t,e,n,i){if(t){var o,s,u=e.x,l=e.y,c=r.bounds(t);return o=n===a.LEFT?u-c.x:n===a.RIGHT?u-c.x-c.width:n===a.CENTER?u-c.x-c.width/2:0,s=i===a.TOP?l-c.y:i===a.BOTTOM?l-c.y-c.height:i===a.MIDDLE?l-c.y-c.height/2:0,f(t,(new r.Transform).translate(o,s))}},a.colorize=function(t,e){var n=arguments;if(("object"!=typeof e||e instanceof r.Color)&&(e={},void 0!==n[1]&&(e.fill=n[1]),void 0!==n[2]&&(e.stroke=n[2]),void 0!==n[3]&&(e.strokeWidth=n[3])),t instanceof r.Path||t instanceof r.Group)return t.colorize(e);if(t instanceof i.Img||t instanceof r.Text){if(e.fill||0===e.fill)return t.colorize(e.fill);throw new Error("No color given")}},a.copy=function(t,e,n,o,a,s){if(!t)return[];var f,c,h,p,d,m=[],v=0,y=0,g=0,b=1,x=1,w=!1;for(t instanceof r.Path||t instanceof r.Group||t instanceof r.Text?d=u:Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y?(w=!0,d=u):t instanceof i.Img&&(d=l),f=0;f<e;f+=1){for(c=new r.Transform,h=0;h<n.length;h+=1)"t"===(p=n[h])?c=c.translate(v,y):"r"===p?c=c.rotate(g):"s"===p&&(c=c.scale(b,x));w?m=m.concat(d(t,c)):m.push(d(t,c)),v+=o.x,y+=o.y,g+=a,b+=s.x,x+=s.y}return m},a.flip=function(t,e){if("none"===e)return t;if(t instanceof r.Path||t instanceof r.Group||t instanceof r.Text||Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y){var n=e===a.HORIZONTAL||e===a.BOTH?-1:1,o=e===a.VERTICAL||e===a.BOTH?-1:1;return r.scale(t,new r.Point(n,o),r.centerPoint(t))}if(t instanceof i.Img){var s=t,u=s.toLayer(!1);return e!==a.HORIZONTAL&&e!==a.BOTH||u.flipHorizontal(),e!==a.VERTICAL&&e!==a.BOTH||u.flipVertical(),s.withCanvas(u.toCanvas())}},a.fit=function(t,e,n,i,o){if(t){o=void 0!==o&&o;var a,s,u,l=r.bounds(t),c=l.x,h=l.y,p=l.width,d=l.height;return p=p>1e-12?p:0,d=d>1e-12?d:0,a=(a=new r.Transform).translate(e.x,e.y),o?(s=p>0?n/p:1,u=d>0?i/d:1):(s=p>0?n/p:Number.MAX_VALUE,u=d>0?i/d:Number.MAX_VALUE,s=u=Math.min(s,u)),f(t,a=(a=a.scale(s,u)).translate(-p/2-c,-d/2-h))}},a.fitTo=function(t,e,n){if(t){if(!e)return t;var i=r.bounds(e),o=i.x,s=i.y,u=i.width,l=i.height;return a.fit(t,{x:o+u/2,y:s+l/2},u,l,n)}},a.hslAdjust=function(t,e,n,o,a){if(a||(a=0),t instanceof i.Img){var u=t,l=u.toLayer(!1);return l.addFilter("hslAdjust",{h:e,s:n,l:o,a:a}),u.withCanvas(l.toCanvas())}e=s(e,-1,1),n=s(n,-1,1),o=s(o,-1,1),a=s(a,-1,1);var f,c,h,p,d,m,v,y,g,b,x,w,_=1+n*(n<0?1:2),P=o<0?1+o:1-o,S=o<0?0:o;return e=6*e%6,function i(o){if(o instanceof r.Group){for(var s=[],u=0;u<o.shapes.length;u+=1)s.push(i(o.shapes[u]));return new r.Group(s)}if(o instanceof r.Path){var l=o.clone();return l.fill=i(l.fill),l.stroke=i(l.stroke),l}var C=o;return C instanceof r.Color||(C=r.Color.parse(C)),f=C.r,c=C.g,h=C.b,0===e&&0===n||(c>(p=f)&&(p=c),h>p&&(p=h),c<(d=f)&&(d=c),h<d&&(d=h),m=p-d,(g=(d+p)/2)>0&&m>0&&(g<=.5?((y=m/(p+d)*_)>1&&(y=1),t=g*(1+y)):((y=m/(2-p-d)*_)>1&&(y=1),t=g+y-g*y),(v=f===p?c===d?5+(p-h)/m+e:1-(p-c)/m+e:c===p?h===d?1+(p-f)/m+e:3-(p-h)/m+e:f===d?3+(p-c)/m+e:5-(p-f)/m+e)<0&&(v+=6),v>=6&&(v-=6),x=(t-(b=g+g-t))*(v-(w=v>>0)),0===w?(f=t,c=b+x,h=b):1===w?(f=t-x,c=t,h=b):2===w?(f=b,c=t,h=b+x):3===w?(f=b,c=t-x,h=t):4===w?(f=b+x,c=b,h=t):5===w&&(f=t,c=b,h=t-x))),c=c*P+S,h=h*P+S,(f=f*P+S)<0&&(f=0),c<0&&(c=0),h<0&&(h=0),f>1&&(f=1),c>1&&(c=1),h>1&&(h=1),new r.Color(f,c,h,C.a+a)}(t)},a.rgbAdjust=function(t,e,n,o,a){return a||(a=0),e=s(e,-1,1),n=s(n,-1,1),o=s(o,-1,1),a=s(a,-1,1),function t(s){if(s instanceof i.Img){var u=s,l=u.toLayer(!1);return l.addFilter("rgbAdjust",{r:e,g:n,b:o,a:a}),u.withCanvas(l.toCanvas())}if(s instanceof r.Group){for(var f=[],c=0;c<s.shapes.length;c+=1)f.push(t(s.shapes[c]));return new r.Group(f)}if(s instanceof r.Path){var h=s.clone();return h.fill=t(h.fill),h.stroke=t(h.stroke),h}var p=s;return p instanceof r.Color||(p=r.Color.parse(p)),new r.Color(p.r+e,p.g+n,p.b+o,p.a+a)}(t)},a.stack=function(t,e,n){if(!t)return[];if(t.length<=1)return t;var i,o,a,s,u,l,c=t[0].bounds(),h=[];if("e"===e)for(a=c.x,i=0;i<t.length;i+=1)l=(o=t[i]).bounds(),u=(new r.Transform).translate(a-l.x,0),h.push(f(o,u)),a+=l.width+n;else if("w"===e)for(a=c.x+c.width,i=0;i<t.length;i+=1)l=(o=t[i]).bounds(),u=(new r.Transform).translate(a-(l.x+l.width),0),h.push(f(o,u)),a-=l.width+n;else if("n"===e)for(s=c.y+c.height,i=0;i<t.length;i+=1)l=(o=t[i]).bounds(),u=(new r.Transform).translate(0,s-(l.y+l.height)),h.push(f(o,u)),s-=l.height+n;else if("s"===e)for(s=c.y,i=0;i<t.length;i+=1)l=(o=t[i]).bounds(),u=(new r.Transform).translate(0,s-l.y),h.push(f(o,u)),s+=l.height+n;return h},a.angle=function(t,e){var n=arguments;return 4===n.length?(t=r.Point.read(n[0],n[1]),e=r.Point.read(n[2],n[3])):(t=r.Point.read(t),e=r.Point.read(e)),o.degrees(Math.atan2(e.y-t.y,e.x-t.x))},a.coordinates=function(t,e,n){var i=arguments;return 4===i.length?(t=r.Point.read(i[0],i[1]),e=i[2],n=i[3]):t=r.Point.read(t),r.geo.coordinates(t.x,t.y,e,n)},a.distance=function(t,e){var n=arguments;return 4===n.length?(t=r.Point.read(n[0],n[1]),e=r.Point.read(n[2],n[3])):(t=r.Point.read(t),e=r.Point.read(e)),Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},a.grayColor=function(t,e){return e||0===e||(e=1),r.Color.gray(t,e,1)},a.hexColor=function(t){var e;return e=t,"#"!==(t=!isNaN(parseFloat(e))&&isFinite(e)?t.toString(16):String(t))[0]&&(t="#"+t),r.Color.parse(t)},a.hslColor=function(t,e,n,i){return i||0===i||(i=1),r.Color.hsl(t,e,n,i,1)},a.rgbColor=function(t,e,n,i){return i||0===i||(i=1),r.Color.rgb(t,e,n,i,1)},a.desaturate=function(t,e){return t?t.desaturate({method:e}):null},a.invert=function(t){if(!t)return null;if(t instanceof i.Img){var e=t,n=e.toLayer(!1);return n.addFilter("invert"),e.withCanvas(n.toCanvas())}return t.invert()},t.exports=a},function(t,e,n){"use strict";var r=n(21),i=n(27),o=i.Img,a=i.Layer,s=i.ImageCanvas,u={blend:function(t,e,n){var i=t.bounds(),a=e.bounds(),u=new r.Rect(i.x,i.y,i.width,i.height).unite(a),l=Math.ceil(u.width),f=Math.ceil(u.height),c=l/2+u.x,h=f/2+u.y,p=new s(l,f);p.addLayer(t.toLayer()).translate(-c,-h);var d=p.addLayer(e.toLayer());return d.translate(-c,-h),d.blendmode=n,new o(p.render(),c,h)},blur:function(t,e){var n=t.toLayer(!1);return n.addFilter("blur",{radius:e}),t.withCanvas(n.toCanvas())},brighten:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("brightness",{brightness:e/100,contrast:n/100}),t.withCanvas(r.toCanvas())},bump:function(t,e,n,r){var i=t.toLayer(!1);return i.addFilter("bump",{dx:e.x,dy:e.y,radius:n,zoom:r/100}),t.withCanvas(i.toCanvas())},colorImage:function(t,e,n){var r=a.fromColor(n);return r.width=t,r.height=e,new o(r.toCanvas())},crop:function(t,e){return t.crop(e)},crossEdges:function(t,e){var n=t.toLayer(!1);return n.addFilter("crossedges",{strength:e/100}),t.withCanvas(n.toCanvas())},dent:function(t,e,n,r){var i=t.toLayer(!1);return i.addFilter("dent",{dx:e.x,dy:e.y,radius:n,zoom:r/100}),t.withCanvas(i.toCanvas())},emboss:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("emboss",{amount:e/100,angle:n}),t.withCanvas(r.toCanvas())},equalize:function(t){var e=t.toLayer(!1);return e.addFilter("equalize"),t.withCanvas(e.toCanvas())},findEdges:function(t){var e=t.toLayer(!1);return e.addFilter("findedges"),t.withCanvas(e.toCanvas())},glow:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("glow",{amount:e/100,kernelSize:n}),t.withCanvas(r.toCanvas())},gradientImage:function(t,e,n,r,i,s,u){var l=a.fromGradient(n,r,i,s,u/100);return l.width=t,l.height=e,new o(l.toCanvas())},histogram:function(t,e,n){var r,i,o,a,s=t.getPixels(),u=new Array(256);for(r=0;r<u.length;r+=1)u[r]=0;if("lum"===e)for(r=0;r<s.width*s.height;r+=1)a=.2125*(o=s.get(r))[0]+.7154*o[1]+.0721*o[2],u[Math.round(a)]+=1;else for("red"===e&&(i=0),"green"===e&&(i=1),"blue"===e&&(i=2),"alpha"===e&&(i=3),r=0;r<s.width*s.height;r+=1)u[a=(o=s.get(r))[i]]+=1;if(n)for(r=0;r<u.length;r+=1)u[r]/=s.width*s.height;return u},lightTunnel:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("splash",{dx:e.x,dy:e.y,radius:n}),t.withCanvas(r.toCanvas())},luminanceBW:function(t){var e=t.toLayer(!1);return e.addFilter("luminancebw"),t.withCanvas(e.toCanvas())},mask:function(t,e){t=t.transformed(),e=e.transformed();var n=t.toLayer(!1),i=e.toLayer(),o=t.bounds(),a=e.bounds(),s=new r.Rect(o.x,o.y,o.width,o.height).unite(a),u=Math.ceil(s.width),l=Math.ceil(s.height),f=u/2+s.x,c=l/2+s.y;i.translate(-f,-c);var h=n.mask.addLayer("white");return h.width=n.width,h.height=n.height,n.mask.addLayer(i),t.withCanvas(n.toCanvas())},mosaic:function(t,e){var n=t.toLayer(!1);return n.addFilter("mosaic",{blockSize:e}),t.withCanvas(n.toCanvas())},pinch:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("pinch",{dx:e.x,dy:e.y,zoom:n/100}),t.withCanvas(r.toCanvas())},posterize:function(t,e){var n=t.toLayer(!1);return n.addFilter("posterize",{levels:e}),t.withCanvas(n.toCanvas())},removeNoise:function(t){var e=t.toLayer(!1);return e.addFilter("removenoise"),t.withCanvas(e.toCanvas())},solarize:function(t){var e=t.toLayer(!1);return e.addFilter("solarize"),t.withCanvas(e.toCanvas())},toBitmap:function(t,e){var n,r=document.createElement("canvas"),i=(n=e?e.bounds():t.bounds()).x,a=n.y,s=r.width=Math.ceil(n.width),u=r.height=Math.ceil(n.height),l=r.getContext("2d");return l.translate(-i,-a),t.draw(l),new o(r,s/2+i,u/2+a)},toPixels:function(t,e){e=e>1?e:1;for(var n=t.canvas,i=n.width,o=n.height,a=n.getContext("2d").getImageData(0,0,n.width,n.height).data,s=4*n.width,u=[],l=0;l<o;l+=e)for(var f=0;f<i;f+=e){var c=l*s+4*f,h=a[c],p=a[c+1],d=a[c+2],m=a[c+3];u.push({x:f-i/2,y:l-o/2,r:h,g:p,b:d,a:m,color:new r.Color(h/255,p/255,d/255,m/255)})}return u},twirl:function(t,e,n,r){var i=t.toLayer(!1);return i.addFilter("twirl",{dx:e.x,dy:e.y,radius:n,angle:r}),t.withCanvas(i.toCanvas())}};t.exports=u},function(t,e,n){(function(t,n){var r=200,i="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,u=1/0,l=9007199254740991,f="[object Arguments]",c="[object Array]",h="[object Boolean]",p="[object Date]",d="[object Error]",m="[object Function]",v="[object GeneratorFunction]",y="[object Map]",g="[object Number]",b="[object Object]",x="[object RegExp]",w="[object Set]",_="[object String]",P="[object Symbol]",S="[object ArrayBuffer]",C="[object DataView]",E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/,I=/^\./,O=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,A=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[f]=M[c]=M[S]=M[h]=M[C]=M[p]=M[d]=M[m]=M[y]=M[g]=M[b]=M[x]=M[w]=M[_]=M["[object WeakMap]"]=!1;var R="object"==typeof t&&t&&t.Object===Object&&t,k="object"==typeof self&&self&&self.Object===Object&&self,B=R||k||Function("return this")(),D="object"==typeof e&&e&&!e.nodeType&&e,U=D&&"object"==typeof n&&n&&!n.nodeType&&n,F=U&&U.exports===D&&R.process,X=function(){try{return F&&F.binding("util")}catch(t){}}(),Y=X&&X.isTypedArray;function j(t,e,n,r){for(var i=-1,o=t?t.length:0;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function W(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function H(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var G,V,Z,J=Array.prototype,$=Function.prototype,Q=Object.prototype,K=B["__core-js_shared__"],tt=(G=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",et=$.toString,nt=Q.hasOwnProperty,rt=Q.toString,it=RegExp("^"+et.call(nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=B.Symbol,at=B.Uint8Array,st=Q.propertyIsEnumerable,ut=J.splice,lt=(V=Object.keys,Z=Object,function(t){return V(Z(t))}),ft=zt(B,"DataView"),ct=zt(B,"Map"),ht=zt(B,"Promise"),pt=zt(B,"Set"),dt=zt(B,"WeakMap"),mt=zt(Object,"create"),vt=Kt(ft),yt=Kt(ct),gt=Kt(ht),bt=Kt(pt),xt=Kt(dt),wt=ot?ot.prototype:void 0,_t=wt?wt.valueOf:void 0,Pt=wt?wt.toString:void 0;function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ct(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.__data__=new Et;++e<n;)this.add(t[e])}function It(t){this.__data__=new Ct(t)}function Ot(t,e){var n=ae(t)||oe(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!nt.call(t,o)||i&&("length"==o||Gt(o,r))||n.push(o);return n}function Nt(t,e){for(var n=t.length;n--;)if(ie(t[n][0],e))return n;return-1}function At(t,e,n,r){return Rt(t,function(t,i,o){e(r,t,n(t),o)}),r}St.prototype.clear=function(){this.__data__=mt?mt(null):{}},St.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},St.prototype.get=function(t){var e=this.__data__;if(mt){var n=e[t];return n===o?void 0:n}return nt.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:nt.call(e,t)},St.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?o:e,this},Ct.prototype.clear=function(){this.__data__=[]},Ct.prototype.delete=function(t){var e=this.__data__,n=Nt(e,t);return!(n<0||(n==e.length-1?e.pop():ut.call(e,n,1),0))},Ct.prototype.get=function(t){var e=this.__data__,n=Nt(e,t);return n<0?void 0:e[n][1]},Ct.prototype.has=function(t){return Nt(this.__data__,t)>-1},Ct.prototype.set=function(t,e){var n=this.__data__,r=Nt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Et.prototype.clear=function(){this.__data__={hash:new St,map:new(ct||Ct),string:new St}},Et.prototype.delete=function(t){return Ht(this,t).delete(t)},Et.prototype.get=function(t){return Ht(this,t).get(t)},Et.prototype.has=function(t){return Ht(this,t).has(t)},Et.prototype.set=function(t,e){return Ht(this,t).set(t,e),this},Tt.prototype.add=Tt.prototype.push=function(t){return this.__data__.set(t,o),this},Tt.prototype.has=function(t){return this.__data__.has(t)},It.prototype.clear=function(){this.__data__=new Ct},It.prototype.delete=function(t){return this.__data__.delete(t)},It.prototype.get=function(t){return this.__data__.get(t)},It.prototype.has=function(t){return this.__data__.has(t)},It.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ct){var i=n.__data__;if(!ct||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new Et(i)}return n.set(t,e),this};var Lt,Mt,Rt=(Lt=function(t,e){return t&&kt(t,e,de)},function(t,e){if(null==t)return t;if(!se(t))return Lt(t,e);for(var n=t.length,r=Mt?n:-1,i=Object(t);(Mt?r--:++r<n)&&!1!==e(i[r],r,i););return t}),kt=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}();function Bt(t,e){for(var n=0,r=(e=Vt(e,t)?[e]:jt(e)).length;null!=t&&n<r;)t=t[Qt(e[n++])];return n&&n==r?t:void 0}function Dt(t,e){return null!=t&&e in Object(t)}function Ut(t,e,n,r,i){return t===e||(null==t||null==e||!fe(t)&&!ce(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var u=ae(t),l=ae(e),m=c,v=c;u||(m=(m=qt(t))==f?b:m);l||(v=(v=qt(e))==f?b:v);var E=m==b&&!H(t),T=v==b&&!H(e),I=m==v;if(I&&!E)return o||(o=new It),u||pe(t)?Wt(t,e,n,r,i,o):function(t,e,n,r,i,o,u){switch(n){case C:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!r(new at(t),new at(e)));case h:case p:case g:return ie(+t,+e);case d:return t.name==e.name&&t.message==e.message;case x:case _:return t==e+"";case y:var l=z;case w:var f=o&s;if(l||(l=q),t.size!=e.size&&!f)return!1;var c=u.get(t);if(c)return c==e;o|=a,u.set(t,e);var m=Wt(l(t),l(e),r,i,o,u);return u.delete(t),m;case P:if(_t)return _t.call(t)==_t.call(e)}return!1}(t,e,m,n,r,i,o);if(!(i&s)){var O=E&&nt.call(t,"__wrapped__"),N=T&&nt.call(e,"__wrapped__");if(O||N){var A=O?t.value():t,L=N?e.value():e;return o||(o=new It),n(A,L,r,i,o)}}if(!I)return!1;return o||(o=new It),function(t,e,n,r,i,o){var a=i&s,u=de(t),l=u.length,f=de(e).length;if(l!=f&&!a)return!1;for(var c=l;c--;){var h=u[c];if(!(a?h in e:nt.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=a;++c<l;){h=u[c];var v=t[h],y=e[h];if(r)var g=a?r(y,v,h,e,t,o):r(v,y,h,t,e,o);if(!(void 0===g?v===y||n(v,y,r,i,o):g)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var b=t.constructor,x=e.constructor;b!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o)}(t,e,Ut,n,r,i))}function Ft(t){return!(!fe(t)||tt&&tt in t)&&(ue(t)||H(t)?it:A).test(Kt(t))}function Xt(t){return"function"==typeof t?t:null==t?me:"object"==typeof t?ae(t)?function(t,e){if(Vt(t)&&Zt(e))return Jt(Qt(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:Bt(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,i=-1,o=(e=Vt(e,t)?[e]:jt(e)).length;for(;++i<o;){var a=Qt(e[i]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;return!!(o=t?t.length:0)&&le(o)&&Gt(a,o)&&(ae(t)||oe(t))}(t,e,Dt)}(n,t):Ut(e,r,void 0,a|s)}}(t[0],t[1]):function(t){var e=function(t){var e=de(t),n=e.length;for(;n--;){var r=e[n],i=t[r];e[n]=[r,i,Zt(i)]}return e}(t);if(1==e.length&&e[0][2])return Jt(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,u=!r;if(null==t)return!o;for(t=Object(t);i--;){var l=n[i];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){var f=(l=n[i])[0],c=t[f],h=l[1];if(u&&l[2]){if(void 0===c&&!(f in t))return!1}else{var p=new It;if(r)var d=r(c,h,f,t,e,p);if(!(void 0===d?Ut(h,c,r,a|s,p):d))return!1}}return!0}(n,t,e)}}(t):Vt(e=t)?(n=Qt(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return Bt(e,t)}}(e);var e,n}function Yt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||Q,e!==r)return lt(t);var e,n,r,i=[];for(var o in Object(t))nt.call(t,o)&&"constructor"!=o&&i.push(o);return i}function jt(t){return ae(t)?t:$t(t)}function Wt(t,e,n,r,i,o){var u=i&s,l=t.length,f=e.length;if(l!=f&&!(u&&f>l))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var h=-1,p=!0,d=i&a?new Tt:void 0;for(o.set(t,e),o.set(e,t);++h<l;){var m=t[h],v=e[h];if(r)var y=u?r(v,m,h,e,t,o):r(m,v,h,t,e,o);if(void 0!==y){if(y)continue;p=!1;break}if(d){if(!W(e,function(t,e){if(!d.has(e)&&(m===t||n(m,t,r,i,o)))return d.add(e)})){p=!1;break}}else if(m!==v&&!n(m,v,r,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Ht(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function zt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Ft(n)?n:void 0}var qt=function(t){return rt.call(t)};function Gt(t,e){return!!(e=null==e?l:e)&&("number"==typeof t||L.test(t))&&t>-1&&t%1==0&&t<e}function Vt(t,e){if(ae(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!he(t))||(T.test(t)||!E.test(t)||null!=e&&t in Object(e))}function Zt(t){return t==t&&!fe(t)}function Jt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(ft&&qt(new ft(new ArrayBuffer(1)))!=C||ct&&qt(new ct)!=y||ht&&"[object Promise]"!=qt(ht.resolve())||pt&&qt(new pt)!=w||dt&&"[object WeakMap]"!=qt(new dt))&&(qt=function(t){var e=rt.call(t),n=e==b?t.constructor:void 0,r=n?Kt(n):void 0;if(r)switch(r){case vt:return C;case yt:return y;case gt:return"[object Promise]";case bt:return w;case xt:return"[object WeakMap]"}return e});var $t=re(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(he(t))return Pt?Pt.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(e);var n=[];return I.test(t)&&n.push(""),t.replace(O,function(t,e,r,i){n.push(r?i.replace(N,"$1"):e||t)}),n});function Qt(t){if("string"==typeof t||he(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function Kt(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var te,ee,ne=(te=function(t,e,n){nt.call(t,n)?t[n].push(e):t[n]=[e]},function(t,e){var n=ae(t)?j:At,r=ee?ee():{};return n(t,te,Xt(e),r)});function re(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(re.Cache||Et),n}function ie(t,e){return t===e||t!=t&&e!=e}function oe(t){return function(t){return ce(t)&&se(t)}(t)&&nt.call(t,"callee")&&(!st.call(t,"callee")||rt.call(t)==f)}re.Cache=Et;var ae=Array.isArray;function se(t){return null!=t&&le(t.length)&&!ue(t)}function ue(t){var e=fe(t)?rt.call(t):"";return e==m||e==v}function le(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=l}function fe(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ce(t){return!!t&&"object"==typeof t}function he(t){return"symbol"==typeof t||ce(t)&&rt.call(t)==P}var pe=Y?function(t){return function(e){return t(e)}}(Y):function(t){return ce(t)&&le(t.length)&&!!M[rt.call(t)]};function de(t){return se(t)?Ot(t):Yt(t)}function me(t){return t}n.exports=ne}).call(this,n(3),n(15)(t))},function(t,e){var n=9007199254740991,r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;function s(t,e){return function(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(e,function(e){return t[e]})}var u,l,f=Object.prototype,c=f.hasOwnProperty,h=f.toString,p=f.propertyIsEnumerable,d=(u=Object.keys,l=Object,function(t){return u(l(t))});function m(t,e){var n=g(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&b(t)}(t)&&c.call(t,"callee")&&(!p.call(t,"callee")||h.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],i=n.length,o=!!i;for(var a in t)!e&&!c.call(t,a)||o&&("length"==a||y(a,i))||n.push(a);return n}function v(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||f,e!==r)return d(t);var e,n,r,i=[];for(var o in Object(t))c.call(t,o)&&"constructor"!=o&&i.push(o);return i}function y(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}var g=Array.isArray;function b(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?h.call(t):"";return e==i||e==o}(t)}t.exports=function(t){return t?s(t,function(t){return b(t)?m(t):v(t)}(t)):[]}},function(t,e,n){"use strict";var r=n(87),i=n(86),o=n(44),a={convert:function(t,e,n,r,i){var o=arguments.length;if(2===o){var a=arguments[1];e=a.inMin,n=a.inMax,r=a.outMin,i=a.outMax}else 3===o&&(e=arguments[1][0],n=arguments[1][1],r=arguments[2][0],i=arguments[2][1]);try{t=(t-e)/(n-e)}catch(n){t=e}return r+t*(i-r)},filterData:function(t,e,n,r){if(!t)return[];var i,o,a;if(null===r||void 0===r)return t;var s=[];if("=="===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]==r&&s.push(a);else if("!="===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]!=r&&s.push(a);else if(">"===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]>r&&s.push(a);else if(">="===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]>=r&&s.push(a);else if("<"===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]<r&&s.push(a);else{if("<="!==n)throw new Error("Invalid op "+n);for(i=0,o=t.length;i<o;i++)(a=t[i])[e]<=r&&s.push(a)}return s},groupBy:function(t,e){return r(i(t,e))},keys:function(t){for(var e=[],n=0;n<t.length;n++)e=e.concat(Object.keys(t[n]));return o.distinct(e)},lookup:function(t,e){var n,r;if(void 0!==(r=(n=t)[e]))return"function"==typeof r&&(r=r.call(n)),r;for(var i,o=e.split("."),a=0;a<o.length;a+=1)i=o[a],n&&(n="function"==typeof n[i]?(r=n[i]).call(n):n[i]);return n},dataScale:function(t,e,n){return{domain:t,outMin:e,outMax:n}},ticks:function(t,e,n){n=void 0!==n?n:10;var r,i=e-t,o=Math.pow(10,Math.floor(Math.log(i/n)/Math.LN10)),a=n/i*o,s=[];for(a<=.15?o*=10:a<=.35?o*=5:a<=.75&&(o*=2),t=Math.ceil(t/o)*o,e=Math.floor(e/o)*o+.5*o,r=t;r<e;r+=o)s.push(r);return s}};t.exports=a},function(t,e,n){"use strict";function r(t){return"object"==typeof t&&null!==t}function i(t){return Object.prototype.toString.call(t)}var o,a,s,u={isObject:r,isRegExp:function(t){return r(t)&&"[object RegExp]"===i(t)},isDate:function(t){return r(t)&&"[object Date]"===i(t)},isNullOrUndefined:function(t){return null===t||void 0===t},isBuffer:function(){return!1}},l=Array.prototype.slice,f={};a=function(t,e){if(t===e)return!0;if(u.isBuffer(t)&&u.isBuffer(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return u.isDate(t)&&u.isDate(e)?t.getTime()===e.getTime():u.isRegExp(t)&&u.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:u.isObject(t)||u.isObject(e)?s(t,e):t==e},f.deepEqual=a,o=function(t){return"[object Arguments]"===Object.prototype.toString.call(t)},s=function(t,e){if(u.isNullOrUndefined(t)||u.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;var n,r,i,s,f=o(t),c=o(e);if(f&&!c||!f&&c)return!1;if(f)return t=l.call(t),e=l.call(e),a(t,e);try{n=Object.keys(t),r=Object.keys(e)}catch(t){return!1}if(n.length!==r.length)return!1;for(n.sort(),r.sort(),s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--)if(i=n[s],!a(t[i],e[i]))return!1;return!0},t.exports=f},function(t,e,n){"use strict";var r={characterAt:function(t,e){return t&&0!==t.length?(t=String(t),e<0&&(e=t.length+e),t.charAt(e)):""},concatenate:function(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];t+=n=void 0!==n?String(n):""}return t},endsWith:function(t,e){return!(!t||!e)&&-1!==(t=String(t)).indexOf(e,t.length-e.length)},reverse:function(t){return t.slice().reverse()},startsWith:function(t,e){return!(!t||!e)&&0===(t=String(t)).indexOf(e)}};r.string=String,r.stringContains=function(t,e){return!(!t||!e)&&-1!==(t=String(t)).indexOf(e)},r.stringEquals=function(t,e,n){return t=String(t),e=String(e),!(!t||!e)&&(n?t.toLowerCase()===e.toLowerCase():t===e)},r.stringLength=function(t){return t?(t=String(t)).length:0},r.stringReplace=function(t,e,n){return(t=String(t)).replace(new RegExp(e,"g"),n)},r.stringSplit=function(t,e){return t?(e&&0!==e.length||(e=""),(t=String(t)).split(e)):[]},r.stringTrim=function(t){return t?(t=String(t)).trim():null},r.substring=function(t,e,n,r){return t?n<e?"":(t=String(t),e<0&&n<0&&(e=t.length+e,n=t.length+n),void 0!==n&&r&&(n+=1),t.substring(e,n)):""},r.toCharacterCodes=function(t){if(!t)return[];var e=[];e.length=t.length;for(var n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e},r.toCharacters=function(t){return t?(t=String(t)).split(""):[]},r.toLowerCase=function(t){return(t=String(t)).toLowerCase()},r.toTitleCase=function(t){var e,n="";t=String(t);for(var r=0;r<t.length;r+=1)e=t[r],0===n.length||" "===n[n.length-1]?n+=e.toUpperCase():n+=e;return n},r.toUpperCase=function(t){return(t=String(t)).toUpperCase()},r.wordCount=function(t){return t?(t=String(t)).split(new RegExp("\\w+")).length-1:0},r.toWords=function(t){var e=t.split(/\W+/);return""===e[e.length-1]&&e.pop(),e},t.exports=r},function(t,e,n){(function(t,n){var r=200,i="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,u=1/0,l=9007199254740991,f="[object Arguments]",c="[object Array]",h="[object Boolean]",p="[object Date]",d="[object Error]",m="[object Function]",v="[object GeneratorFunction]",y="[object Map]",g="[object Number]",b="[object Object]",x="[object RegExp]",w="[object Set]",_="[object String]",P="[object Symbol]",S="[object ArrayBuffer]",C="[object DataView]",E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/,I=/^\./,O=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,A=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[f]=M[c]=M[S]=M[h]=M[C]=M[p]=M[d]=M[m]=M[y]=M[g]=M[b]=M[x]=M[w]=M[_]=M["[object WeakMap]"]=!1;var R="object"==typeof t&&t&&t.Object===Object&&t,k="object"==typeof self&&self&&self.Object===Object&&self,B=R||k||Function("return this")(),D="object"==typeof e&&e&&!e.nodeType&&e,U=D&&"object"==typeof n&&n&&!n.nodeType&&n,F=U&&U.exports===D&&R.process,X=function(){try{return F&&F.binding("util")}catch(t){}}(),Y=X&&X.isTypedArray;function j(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function W(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function H(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function z(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var V,Z,J,$=Array.prototype,Q=Function.prototype,K=Object.prototype,tt=B["__core-js_shared__"],et=(V=/[^.]+$/.exec(tt&&tt.keys&&tt.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",nt=Q.toString,rt=K.hasOwnProperty,it=K.toString,ot=RegExp("^"+nt.call(rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),at=B.Symbol,st=B.Uint8Array,ut=K.propertyIsEnumerable,lt=$.splice,ft=(Z=Object.keys,J=Object,function(t){return Z(J(t))}),ct=zt(B,"DataView"),ht=zt(B,"Map"),pt=zt(B,"Promise"),dt=zt(B,"Set"),mt=zt(B,"WeakMap"),vt=zt(Object,"create"),yt=Kt(ct),gt=Kt(ht),bt=Kt(pt),xt=Kt(dt),wt=Kt(mt),_t=at?at.prototype:void 0,Pt=_t?_t.valueOf:void 0,St=_t?_t.toString:void 0;function Ct(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function It(t){var e=-1,n=t?t.length:0;for(this.__data__=new Tt;++e<n;)this.add(t[e])}function Ot(t){this.__data__=new Et(t)}function Nt(t,e){var n=re(t)||ne(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!rt.call(t,o)||i&&("length"==o||Gt(o,r))||n.push(o);return n}function At(t,e){for(var n=t.length;n--;)if(ee(t[n][0],e))return n;return-1}Ct.prototype.clear=function(){this.__data__=vt?vt(null):{}},Ct.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ct.prototype.get=function(t){var e=this.__data__;if(vt){var n=e[t];return n===o?void 0:n}return rt.call(e,t)?e[t]:void 0},Ct.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:rt.call(e,t)},Ct.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?o:e,this},Et.prototype.clear=function(){this.__data__=[]},Et.prototype.delete=function(t){var e=this.__data__,n=At(e,t);return!(n<0||(n==e.length-1?e.pop():lt.call(e,n,1),0))},Et.prototype.get=function(t){var e=this.__data__,n=At(e,t);return n<0?void 0:e[n][1]},Et.prototype.has=function(t){return At(this.__data__,t)>-1},Et.prototype.set=function(t,e){var n=this.__data__,r=At(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Tt.prototype.clear=function(){this.__data__={hash:new Ct,map:new(ht||Et),string:new Ct}},Tt.prototype.delete=function(t){return Ht(this,t).delete(t)},Tt.prototype.get=function(t){return Ht(this,t).get(t)},Tt.prototype.has=function(t){return Ht(this,t).has(t)},Tt.prototype.set=function(t,e){return Ht(this,t).set(t,e),this},It.prototype.add=It.prototype.push=function(t){return this.__data__.set(t,o),this},It.prototype.has=function(t){return this.__data__.has(t)},Ot.prototype.clear=function(){this.__data__=new Et},Ot.prototype.delete=function(t){return this.__data__.delete(t)},Ot.prototype.get=function(t){return this.__data__.get(t)},Ot.prototype.has=function(t){return this.__data__.has(t)},Ot.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Et){var i=n.__data__;if(!ht||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new Tt(i)}return n.set(t,e),this};var Lt,Mt,Rt=(Lt=function(t,e){return t&&kt(t,e,ce)},function(t,e){if(null==t)return t;if(!ie(t))return Lt(t,e);for(var n=t.length,r=Mt?n:-1,i=Object(t);(Mt?r--:++r<n)&&!1!==e(i[r],r,i););return t}),kt=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}();function Bt(t,e){for(var n=0,r=(e=Vt(e,t)?[e]:jt(e)).length;null!=t&&n<r;)t=t[Qt(e[n++])];return n&&n==r?t:void 0}function Dt(t,e){return null!=t&&e in Object(t)}function Ut(t,e,n,r,i){return t===e||(null==t||null==e||!se(t)&&!ue(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var u=re(t),l=re(e),m=c,v=c;u||(m=(m=qt(t))==f?b:m);l||(v=(v=qt(e))==f?b:v);var E=m==b&&!z(t),T=v==b&&!z(e),I=m==v;if(I&&!E)return o||(o=new Ot),u||fe(t)?Wt(t,e,n,r,i,o):function(t,e,n,r,i,o,u){switch(n){case C:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!r(new st(t),new st(e)));case h:case p:case g:return ee(+t,+e);case d:return t.name==e.name&&t.message==e.message;case x:case _:return t==e+"";case y:var l=q;case w:var f=o&s;if(l||(l=G),t.size!=e.size&&!f)return!1;var c=u.get(t);if(c)return c==e;o|=a,u.set(t,e);var m=Wt(l(t),l(e),r,i,o,u);return u.delete(t),m;case P:if(Pt)return Pt.call(t)==Pt.call(e)}return!1}(t,e,m,n,r,i,o);if(!(i&s)){var O=E&&rt.call(t,"__wrapped__"),N=T&&rt.call(e,"__wrapped__");if(O||N){var A=O?t.value():t,L=N?e.value():e;return o||(o=new Ot),n(A,L,r,i,o)}}if(!I)return!1;return o||(o=new Ot),function(t,e,n,r,i,o){var a=i&s,u=ce(t),l=u.length,f=ce(e).length;if(l!=f&&!a)return!1;for(var c=l;c--;){var h=u[c];if(!(a?h in e:rt.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=a;++c<l;){h=u[c];var v=t[h],y=e[h];if(r)var g=a?r(y,v,h,e,t,o):r(v,y,h,t,e,o);if(!(void 0===g?v===y||n(v,y,r,i,o):g)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var b=t.constructor,x=e.constructor;b!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o)}(t,e,Ut,n,r,i))}function Ft(t){return!(!se(t)||et&&et in t)&&(oe(t)||z(t)?ot:A).test(Kt(t))}function Xt(t){return"function"==typeof t?t:null==t?he:"object"==typeof t?re(t)?function(t,e){if(Vt(t)&&Zt(e))return Jt(Qt(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:Bt(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,i=-1,o=(e=Vt(e,t)?[e]:jt(e)).length;for(;++i<o;){var a=Qt(e[i]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;return!!(o=t?t.length:0)&&ae(o)&&Gt(a,o)&&(re(t)||ne(t))}(t,e,Dt)}(n,t):Ut(e,r,void 0,a|s)}}(t[0],t[1]):function(t){var e=function(t){var e=ce(t),n=e.length;for(;n--;){var r=e[n],i=t[r];e[n]=[r,i,Zt(i)]}return e}(t);if(1==e.length&&e[0][2])return Jt(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,u=!r;if(null==t)return!o;for(t=Object(t);i--;){var l=n[i];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){var f=(l=n[i])[0],c=t[f],h=l[1];if(u&&l[2]){if(void 0===c&&!(f in t))return!1}else{var p=new Ot;if(r)var d=r(c,h,f,t,e,p);if(!(void 0===d?Ut(h,c,r,a|s,p):d))return!1}}return!0}(n,t,e)}}(t):Vt(e=t)?(n=Qt(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return Bt(e,t)}}(e);var e,n}function Yt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||K,e!==r)return ft(t);var e,n,r,i=[];for(var o in Object(t))rt.call(t,o)&&"constructor"!=o&&i.push(o);return i}function jt(t){return re(t)?t:$t(t)}function Wt(t,e,n,r,i,o){var u=i&s,l=t.length,f=e.length;if(l!=f&&!(u&&f>l))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var h=-1,p=!0,d=i&a?new It:void 0;for(o.set(t,e),o.set(e,t);++h<l;){var m=t[h],v=e[h];if(r)var y=u?r(v,m,h,e,t,o):r(m,v,h,t,e,o);if(void 0!==y){if(y)continue;p=!1;break}if(d){if(!W(e,function(t,e){if(!d.has(e)&&(m===t||n(m,t,r,i,o)))return d.add(e)})){p=!1;break}}else if(m!==v&&!n(m,v,r,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Ht(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function zt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Ft(n)?n:void 0}var qt=function(t){return it.call(t)};function Gt(t,e){return!!(e=null==e?l:e)&&("number"==typeof t||L.test(t))&&t>-1&&t%1==0&&t<e}function Vt(t,e){if(re(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!le(t))||(T.test(t)||!E.test(t)||null!=e&&t in Object(e))}function Zt(t){return t==t&&!se(t)}function Jt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(ct&&qt(new ct(new ArrayBuffer(1)))!=C||ht&&qt(new ht)!=y||pt&&"[object Promise]"!=qt(pt.resolve())||dt&&qt(new dt)!=w||mt&&"[object WeakMap]"!=qt(new mt))&&(qt=function(t){var e=it.call(t),n=e==b?t.constructor:void 0,r=n?Kt(n):void 0;if(r)switch(r){case yt:return C;case gt:return y;case bt:return"[object Promise]";case xt:return w;case wt:return"[object WeakMap]"}return e});var $t=te(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(le(t))return St?St.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(e);var n=[];return I.test(t)&&n.push(""),t.replace(O,function(t,e,r,i){n.push(r?i.replace(N,"$1"):e||t)}),n});function Qt(t){if("string"==typeof t||le(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function Kt(t){if(null!=t){try{return nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function te(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(te.Cache||Tt),n}function ee(t,e){return t===e||t!=t&&e!=e}function ne(t){return function(t){return ue(t)&&ie(t)}(t)&&rt.call(t,"callee")&&(!ut.call(t,"callee")||it.call(t)==f)}te.Cache=Tt;var re=Array.isArray;function ie(t){return null!=t&&ae(t.length)&&!oe(t)}function oe(t){var e=se(t)?it.call(t):"";return e==m||e==v}function ae(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=l}function se(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ue(t){return!!t&&"object"==typeof t}function le(t){return"symbol"==typeof t||ue(t)&&it.call(t)==P}var fe=Y?function(t){return function(e){return t(e)}}(Y):function(t){return ue(t)&&ae(t.length)&&!!M[it.call(t)]};function ce(t){return ie(t)?Nt(t):Yt(t)}function he(t){return t}n.exports=function(t,e,n){var r=re(t)?j:H,i=arguments.length<3;return r(t,Xt(e),n,i,Rt)}}).call(this,n(3),n(15)(t))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,s,u=1,l={},f=!1,c=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){d(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){o.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(i=c.documentElement,r=function(t){var e=c.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(d,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return l[u]=i,r(u),u++},h.clearImmediate=p}function p(t){delete l[t]}function d(t){if(f)setTimeout(d,0,t);else{var e=l[t];if(e){f=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{p(t),f=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(3),n(47))},function(t,e,n){(function(t){var r=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(92),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(3))},function(t,e,n){"use strict";var r=n(48),i=(n(49),n(50));function o(t,e){e(null,t)}var a={};a.toImage=function(){return function(t,e){e(null,i.toImage(t))}},a.load=function(t,e){return e.isPath()?a.loadFile(e.data):e.isFill()?a.generateColor(t,e):e.isGradient()?a.generateGradient(t,e):e.isHtmlCanvas()?a.loadHtmlCanvas(e.data):e.isImage()?a.loadImage(e.data):e.isImageCanvas()?a.loadImageCanvas(e.data):void 0},a.loadFile=function(t){return function(e,n){var r=document.createElement("canvas"),i=r.getContext("2d"),o=new Image;o.onload=function(){r.width=o.width,r.height=o.height,i.drawImage(o,0,0,r.width,r.height),n(null,r)},o.src=t}},a.loadHtmlCanvas=function(t){return function(e,n){n(null,t)}},a.loadImageCanvas=function(t){return function(e,n){t.render(function(t){n(null,t)})}},a.loadImage=function(t){return function(e,n){n(null,i.loadImage(t))}},a.generateColor=function(t,e){return function(n,r){r(null,i.generateColor(t,e))}},a.generateGradient=function(t,e){return function(n,r){r(null,i.generateGradient(t,e))}},a.processImage=function(t){return 0===t.length?o:function(e,n){i.processImage(e,t),n(null,e)}},a.processMask=function(t){return 0===t.layers.length?o:function(e,n){t.width=e.width,t.height=e.height,a.renderBW(t,function(t){var r={name:"mask",options:{data:t.getContext("2d").getImageData(0,0,t.width,t.height).data,x:0,y:0,width:t.width,height:t.height}};a.processImage([r])(e,n)})}},a.mergeManualBlend=function(t,e){return function(n,r){i.mergeManualBlend(t,e)(n),r(null,n)}},a.mergeNativeBlend=function(t,e){return function(n,r){i.mergeNativeBlend(t,e)(n),r(null,n)}},a.merge=function(t,e,n){var o=i.createRenderPipe(a,t,e);o.reverse();var s=i.singleLayerWithOpacity(t,e[0]);o.push(function(t,e){e(null,s)}),r.compose.apply(null,o)(null,function(){n(s)})},a.composite=function(t,e,n){e&&0!==e.length?1!==e.length?a.merge(t,e,n):n(i.singleLayerWithOpacity(t,e[0])):n(null)},a.render=function(t,e){r.map(t.layers,function(t){return function(e,n){r.compose(a.processImage(e.filters),a.processMask(e.mask),a.load(t,e))(null,n)}}(t),function(n,r){e&&a.composite(t,i.getLayerData(t,r),e)})},a.renderBW=function(t,e){a.render(t,function(t){t.getContext("2d").getImageData(0,0,t.width,t.height).data;a.processImage([{name:"desaturate",options:{method:"ITU-R BT.709"}}])(t,function(t,n){e(n)})})},t.exports=a},function(t,e){var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],r=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}t.exports=function(t,e,o,a){if(!(isNaN(a)||a<1)){var s,u,l,f,c,h,p,d,m,v,y,g,b,x,w,_,P,S,C,E,T,I,O,N,A=(a|=0)+a+1,L=e-1,M=o-1,R=a+1,k=R*(R+1)/2,B=new i,D=B;for(l=1;l<A;l++)if(D=D.next=new i,l==R)var U=D;D.next=B;var F=null,X=null;p=h=0;var Y=n[a],j=r[a];for(u=0;u<o;u++){for(_=P=S=C=d=m=v=y=0,g=R*(E=t[h]),b=R*(T=t[h+1]),x=R*(I=t[h+2]),w=R*(O=t[h+3]),d+=k*E,m+=k*T,v+=k*I,y+=k*O,D=B,l=0;l<R;l++)D.r=E,D.g=T,D.b=I,D.a=O,D=D.next;for(l=1;l<R;l++)f=h+((L<l?L:l)<<2),d+=(D.r=E=t[f])*(N=R-l),m+=(D.g=T=t[f+1])*N,v+=(D.b=I=t[f+2])*N,y+=(D.a=O=t[f+3])*N,_+=E,P+=T,S+=I,C+=O,D=D.next;for(F=B,X=U,s=0;s<e;s++)t[h+3]=O=y*Y>>j,0!=O?(O=255/O,t[h]=(d*Y>>j)*O,t[h+1]=(m*Y>>j)*O,t[h+2]=(v*Y>>j)*O):t[h]=t[h+1]=t[h+2]=0,d-=g,m-=b,v-=x,y-=w,g-=F.r,b-=F.g,x-=F.b,w-=F.a,f=p+((f=s+a+1)<L?f:L)<<2,d+=_+=F.r=t[f],m+=P+=F.g=t[f+1],v+=S+=F.b=t[f+2],y+=C+=F.a=t[f+3],F=F.next,g+=E=X.r,b+=T=X.g,x+=I=X.b,w+=O=X.a,_-=E,P-=T,S-=I,C-=O,X=X.next,h+=4;p+=e}for(s=0;s<e;s++){for(P=S=C=_=m=v=y=d=0,g=R*(E=t[h=s<<2]),b=R*(T=t[h+1]),x=R*(I=t[h+2]),w=R*(O=t[h+3]),d+=k*E,m+=k*T,v+=k*I,y+=k*O,D=B,l=0;l<R;l++)D.r=E,D.g=T,D.b=I,D.a=O,D=D.next;for(c=e,l=1;l<=a;l++)h=c+s<<2,d+=(D.r=E=t[h])*(N=R-l),m+=(D.g=T=t[h+1])*N,v+=(D.b=I=t[h+2])*N,y+=(D.a=O=t[h+3])*N,_+=E,P+=T,S+=I,C+=O,D=D.next,l<M&&(c+=e);for(h=s,F=B,X=U,u=0;u<o;u++)t[3+(f=h<<2)]=O=y*Y>>j,O>0?(O=255/O,t[f]=(d*Y>>j)*O,t[f+1]=(m*Y>>j)*O,t[f+2]=(v*Y>>j)*O):t[f]=t[f+1]=t[f+2]=0,d-=g,m-=b,v-=x,y-=w,g-=F.r,b-=F.g,x-=F.b,w-=F.a,f=s+((f=u+R)<M?f:M)*e<<2,d+=_+=F.r=t[f],m+=P+=F.g=t[f+1],v+=S+=F.b=t[f+2],y+=C+=F.a=t[f+3],F=F.next,g+=E=X.r,b+=T=X.g,x+=I=X.b,w+=O=X.a,_-=E,P-=T,S-=I,C-=O,X=X.next,h+=e}}}},function(t,e,n){"use strict";var r,i,o={normal:"source-over","linear-dodge":"add"};function a(t){var e,n,r,i=Object.keys(o);for(e=0;e<i.length;e+=1)n=i[e],r=o[n],t[n]=t[r]}function s(t){return void 0!==o[t]?o[t]:t}function u(){if("undefined"==typeof document)return{};var t,e,n,r,i={},o=document.createElement("canvas"),s=o.getContext("2d");if(!s)return{};var u=["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],l=["multiply","screen","overlay","soft-light","hard-light","color-dodge","color-burn","darken","lighten","difference","exclusion","hue","saturation","luminosity","color","add","subtract","average","negation"],f=["divide","darker-color","lighter-color","linear-burn","linear-light","vivid-light","pin-light","hard-mix"];for(t=0;t<u.length;t+=1)i[u[t]]=!0;for(t=0;t<f.length;t+=1)i[f[t]]=!1;for(o.width=1,o.height=1,t=0;t<l.length;t+=1){n="darken"===(e=l[t]),r=!1,s.save();try{s.fillStyle=n?"#300":"#a00",s.fillRect(0,0,1,1),s.globalCompositeOperation=e,s.globalCompositeOperation===e&&(s.fillStyle=n?"#a00":"#300",s.fillRect(0,0,1,1),r=s.getImageData(0,0,1,1).data[0]!==(n?170:51))}catch(t){}s.restore(),i[e]=r}return a(i),i}function l(t,e,n,r,o){i(t,e,n,r,o)}function f(t){return function(e,n,r,i,o){o.type=t,l(e,n,r,i,o)}}i=function(t,e,n,r,i){var o,a,s,u,l,f,c,h,p,d,m,v,y=Math.max,g=Math.min,b=.2126,x=.7152,w=.0722;function _(t,e,n){var r,i,o;return n/=255,(t/=255)===(e/=255)&&e===n?(i=0,r=0):r=t>=e&&e>=n?60*(e-n)/(i=t-n):e>t&&t>=n?60*(e-t)/(i=e-n)+60:e>=n&&n>t?60*(n-t)/(i=e-t)+120:n>e&&e>t?60*(n-e)/(i=n-t)+180:n>t&&t>=e?60*(t-e)/(i=n-e)+240:60*(t-n)/(i=t-e)+300,o=b*t+x*e+w*n,[r%360,g(y(i,0),1),g(y(o,0),1)]}function P(t,e,n){var r,i,o,a;return(t%=360)>=0&&t<60?(r=(o=n-b*e-x*(a=e*t/60))+e,i=o+a):t>=60&&t<120?(o=(i=n+w*e+b*(a=e*(t-60)/60))-e,r=i-a):t>=120&&t<180?(i=(r=n-x*e-w*(a=e*(t-120)/60))+e,o=r+a):t>=180&&t<240?(r=(o=n+b*e+x*(a=e*(t-180)/60))-e,i=o-a):t>=240&&t<300?(o=(i=n-w*e-b*(a=e*(t-240)/60))+e,r=i+a):(i=(r=n+x*e+w*(a=e*(t-300)/60))-e,o=r-a),[r=255*g(y(r,0),1),i=255*g(y(i,0),1),o=255*g(y(o,0),1)]}o={"source-over":function(){d=a+f-f*l,m=s+c-c*l,v=u+h-h*l},multiply:function(){d=a*f+a*(1-p)+f*(1-l),m=s*c+s*(1-p)+c*(1-l),v=u*h+u*(1-p)+h*(1-l)},subtract:function(){d=y(f*l-a*p,0)+a*(1-p)+f*(1-l),m=y(c*l-s*p,0)+s*(1-p)+c*(1-l),v=y(h*l-u*p,0)+u*(1-p)+h*(1-l)},divide:function(){d=0===a?0:f/a*255,m=0===s?0:c/s*255,v=0===u?0:h/u*255},screen:function(){d=a+f-a*f,m=s+c-s*c,v=u+h-u*h},lighten:function(){d=y(a*p,f*l)+a*(1-p)+f*(1-l),m=y(s*p,c*l)+s*(1-p)+c*(1-l),v=y(u*p,h*l)+u*(1-p)+h*(1-l)},darken:function(){d=g(a*p,f*l)+a*(1-p)+f*(1-l),m=g(s*p,c*l)+s*(1-p)+c*(1-l),v=g(u*p,h*l)+u*(1-p)+h*(1-l)},"darker-color":function(){f*l*.3+c*l*.59+h*l*.11<=a*p*.3+s*p*.59+u*p*.11?(d=f*l,m=c*l,v=h*l):(d=a*p,m=s*p,v=u*p),d+=a*(1-p)+f*(1-l),m+=s*(1-p)+c*(1-l),v+=u*(1-p)+h*(1-l)},"lighter-color":function(){f*l*.3+c*l*.59+h*l*.11>a*p*.3+s*p*.59+u*p*.11?(d=f*l,m=c*l,v=h*l):(d=a*p,m=s*p,v=u*p),d+=a*(1-p)+f*(1-l),m+=s*(1-p)+c*(1-l),v+=u*(1-p)+h*(1-l)},add:function(){d=g(f+a,255),m=g(c+s,255),v=g(h+u,255)},"linear-burn":function(){m=c+s,v=h+u,d=(d=f+a)<255?0:d-255,m=m<255?0:m-255,v=v<255?0:v-255},difference:function(){d=a+f-2*g(a*p,f*l),m=s+c-2*g(s*p,c*l),v=u+h-2*g(u*p,h*l)},exclusion:function(){d=a*p+f*l-2*a*f+a*(1-p)+f*(1-l),m=s*p+c*l-2*s*c+s*(1-p)+c*(1-l),v=u*p+h*l-2*u*h+u*(1-p)+h*(1-l)},overlay:function(){d=2*f<=p?2*a*f+a*(1-p)+f*(1-l):a*(1+p)+f*(1+l)-2*f*a-p*l,m=2*c<=p?2*s*c+s*(1-p)+c*(1-l):s*(1+p)+c*(1+l)-2*c*s-p*l,v=2*h<=p?2*u*h+u*(1-p)+h*(1-l):u*(1+p)+h*(1+l)-2*h*u-p*l},"soft-light":function(){var t,e=Math.pow;if(0===p)return d=a,m=s,void(v=u);t=f/p,2*a<=l?d=f*(l+(2*a-l)*(1-t))+a*(1-p)+f*(1-l):2*a>l&&4*f<=p?d=p*(2*a-l)*(16*e(t,3)-12*e(t,2)-3*t)+a-a*p+f:2*a>l&&4*f>p&&(d=p*(2*a-l)*(e(t,.5)-t)+a-a*p+f),t=c/p,2*s<=l?m=c*(l+(2*s-l)*(1-t))+s*(1-p)+c*(1-l):2*s>l&&4*c<=p?m=p*(2*s-l)*(16*e(t,3)-12*e(t,2)-3*t)+s-s*p+c:2*s>l&&4*c>p&&(m=p*(2*s-l)*(e(t,.5)-t)+s-s*p+c),t=h/p,2*u<=l?v=h*(l+(2*u-l)*(1-t))+u*(1-p)+h*(1-l):2*u>l&&4*h<=p?v=p*(2*u-l)*(16*e(t,3)-12*e(t,2)-3*t)+u-u*p+h:2*u>l&&4*h>p&&(v=p*(2*u-l)*(e(t,.5)-t)+u-u*p+h)},"hard-light":function(){d=2*a<=l?2*a*f+a*(1-p)+f*(1-l):a*(1+p)+f*(1+l)-l*p-2*a*f,m=2*s<=l?2*s*c+s*(1-p)+c*(1-l):s*(1+p)+c*(1+l)-l*p-2*s*c,v=2*u<=l?2*u*h+u*(1-p)+h*(1-l):u*(1+p)+h*(1+l)-l*p-2*u*h},"color-dodge":function(){if(0===p)return d=a,m=s,void(v=u);a===l&&0===f?d=a*(1-p):a===l?d=l*p+a*(1-p)+f*(1-l):a<l&&(d=l*p*g(1,f/p*l/(l-a))+a*(1-p)+f*(1-l)),s===l&&0===c?m=s*(1-p):a===l?m=l*p+s*(1-p)+c*(1-l):a<l&&(m=l*p*g(1,c/p*l/(l-s))+s*(1-p)+c*(1-l)),u===l&&0===h?v=u*(1-p):a===l?v=l*p+u*(1-p)+h*(1-l):a<l&&(v=l*p*g(1,h/p*l/(l-u))+u*(1-p)+h*(1-l))},"color-burn":function(){if(0===p)return d=a,m=s,void(v=u);0===a&&f===p?d=l*p+f*(1-l):0===a?d=f*(1-l):a>0&&(d=l*p*(1-g(1,(1-f/p)*l/a))+a*(1-p)+f*(1-l)),0===s&&c===p?m=l*p+c*(1-l):0===s?m=c*(1-l):s>0&&(m=l*p*(1-g(1,(1-c/p)*l/s))+s*(1-p)+c*(1-l)),0===u&&h===p?v=l*p+h*(1-l):0===u?v=h*(1-l):u>0&&(v=l*p*(1-g(1,(1-h/p)*l/u))+u*(1-p)+h*(1-l))},"linear-light":function(){var t=2*a+f-256,e=2*s+c-256,n=2*u+h-256;d=t<0||a<128&&t<0?0:t>255?255:t,m=e<0||s<128&&e<0?0:e>255?255:e,v=n<0||u<128&&n<0?0:n>255?255:n},"vivid-light":function(){var t;d=a<128?a?(t=255-(255-f<<8)/(2*a))<0?0:t:0:(t=2*a-256)<255?(t=(f<<8)/(255-t))>255?255:t:t<0?0:t,m=s<128?s?(t=255-(255-c<<8)/(2*s))<0?0:t:0:(t=2*s-256)<255?(t=(c<<8)/(255-t))>255?255:t:t<0?0:t,v=u<128?u?(t=255-(255-h<<8)/(2*u))<0?0:t:0:(t=2*u-256)<255?(t=(h<<8)/(255-t))>255?255:t:t<0?0:t},"pin-light":function(){var t;d=a<128?f<(t=2*a)?f:t:f>(t=2*a-256)?f:t,m=s<128?c<(t=2*s)?c:t:c>(t=2*s-256)?c:t,v=u<128?h<(t=2*u)?h:t:h>(t=2*u-256)?h:t},"hard-mix":function(){var t;d=a<128?255-(255-f<<8)/(2*a)<128||0===a?0:255:(t=2*a-256)<255&&(f<<8)/(255-t)<128?0:255,m=s<128?255-(255-c<<8)/(2*s)<128||0===s?0:255:(t=2*s-256)<255&&(c<<8)/(255-t)<128?0:255,v=u<128?255-(255-h<<8)/(2*u)<128||0===u?0:255:(t=2*u-256)<255&&(h<<8)/(255-t)<128?0:255},hue:function(){var t=_(f,c,h),e=P(_(a,s,u)[0],t[1],t[2]);d=e[0],m=e[1],v=e[2]},saturation:function(){var t=_(f,c,h),e=_(a,s,u),n=P(t[0],e[1],t[2]);d=n[0],m=n[1],v=n[2]},luminosity:function(){var t=_(f,c,h),e=_(a,s,u),n=P(t[0],t[1],e[2]);d=n[0],m=n[1],v=n[2]},color:function(){var t=_(f,c,h),e=_(a,s,u),n=P(e[0],e[1],t[2]);d=n[0],m=n[1],v=n[2]}},function(){var b,x,w,_,P,S,C,E,T,I=i.data,O=0===i.opacity?0:i.opacity||1,N=o[i.type||"_svg_normal"],A=i.dx||0,L=i.dy||0,M=function(t,e){var n=t.x+t.width,r=t.y+t.height,i=e.x+e.width,o=e.y+e.height,a=y(t.x,e.x),s=y(t.y,e.y);return[a,s,y(g(n,i)-a,0),y(g(r,o)-s,0)]}({x:0,y:0,width:n,height:r},{x:A,y:L,width:i.width,height:i.height}),R=M[0],k=M[1],B=M[2],D=M[3];for(T=0===N.name.indexOf("_svg_")?function(){l=I[x+3]/255*O,p=t[b+3]/255,E=255/(C=l+p-l*p),a=I[x]/255*l,s=I[x+1]/255*l,u=I[x+2]/255*l,f=t[b]/255*p,c=t[b+1]/255*p,h=t[b+2]/255*p,N(),e[b]=d*E,e[b+1]=m*E,e[b+2]=v*E,e[b+3]=255*C}:function(){f=t[b],c=t[b+1],h=t[b+2],a=I[x],s=I[x+1],u=I[x+2],N(),e[b]=d,e[b+1]=m,e[b+2]=v,e[b+3]=t[b+3],(P=O*I[x+3]/255)<1&&(S=1-P,e[b]=t[b]*S+e[b]*P,e[b+1]=t[b+1]*S+e[b+1]*P,e[b+2]=t[b+2]*S+e[b+2]*P)},_=0;_<r;_+=1)for(w=0;w<n;w+=1)b=4*(_*n+w),_>=k&&w>=R&&w<R+B&&_<k+D?(x=4*((_-L)*i.width+w-A),T()):(e[b]=t[b],e[b+1]=t[b+1],e[b+2]=t[b+2],e[b+3]=t[b+3])}()},r=function(){for(var t,e={blend:l},n=["source-over","add","multiply","subtract","divide","screen","lighten","darken","darker-color","lighter-color","linear-burn","difference","exclusion","overlay","soft-light","hard-light","color-dodge","color-burn","linear-light","vivid-light","pin-light","hard-mix","hue","saturation","luminosity","color"],r=0;r<n.length;r+=1)e[t=n[r]]=f(t);for(n=Object.keys(n),r=0;r<n.length;r+=1);return a(e),e.getNativeModes=u,e.realBlendMode=s,e}(),t.exports=r},function(t,e,n){"use strict";var r=n(19),i=n(6),o=n(9),a=n(4),s=n(52),u={roundedRect:function(t,e,n,r,i,a){var s=new o;return s.addRoundedRect(t,e,n,r,i,a),s},quad:function(t,e,n,r){var i=arguments,s=new o;return 8===i.length?o.prototype.addQuad.apply(s,i):(t=a.read(t),e=a.read(e),n=a.read(n),r=a.read(r),s.addQuad(t.x,t.y,e.x,e.y,n.x,n.y,r.x,r.y)),s},rect:function(t,e,n,r){var i=arguments;if(3===i.length?t=a.read(t):4===i.length?"number"==typeof i[0]&&"number"==typeof i[1]?(t=a.read(i[0],i[1]),e=i[2],n=i[3],r=null):(t=a.read(t),r=a.read(r)):5!==i.length&&6!==i.length||(t=a.read(i[0],i[1]),e=i[2],n=i[3],r=5===i.length&&"number"==typeof i[4]?a.read(i[4],i[4]):a.read(i[4],i[5])),!r||0===r.x&&0===r.y){var s=new o;return s.addRect(t.x-e/2,t.y-n/2,e,n),s}return u.roundedRect(t.x-e/2,t.y-n/2,e,n,r.x,r.y)},ellipse:function(t,e,n){var r=arguments;4===r.length?(t=a.read(r[0],r[1]),e=r[2],n=r[3]):t=a.read(t);var i=new o;return i.addEllipse(t.x-e/2,t.y-n/2,e,n),i},line:function(t,e){var n=arguments;4===n.length?(t=a.read(n[0],n[1]),e=a.read(n[2],n[3])):(t=a.read(t),e=a.read(e));var r=new o;return r.addLine(t.x,t.y,e.x,e.y),r.fill=null,r.stroke="black",r},lineAngle:function(t,e,n){var i=arguments;4===i.length?(t=a.read(i[0],i[1]),n=i[2],e=i[3]):t=a.read(t);var o=r.coordinates(t.x,t.y,e,n);return u.line(t,o)},arc:function(t,e,n,r,i,s){var u=arguments;7===u.length?(t=a.read(u[0],u[1]),e=u[2],n=u[3],r=u[4],i=u[5],s=u[6]):t=a.read(t);var l=new o;return l.addArc(t.x,t.y,e,n,r,i,s),l},curve:function(t,e,n,s){var u=arguments;6===u.length?(t=a.read(u[0],u[1]),e=a.read(u[2],u[3]),n=u[4],s=u[5]):(t=a.read(t),e=a.read(e));var l=t.x+n*(e.x-t.x),f=t.y+n*(e.y-t.y),c=r.angle(t.x,t.y,e.x,e.y)+90,h=r.coordinates(l,f,c,s),p=h.x,d=h.y,m=t.x+2/3*(p-t.x),v=t.y+2/3*(d-t.y),y=e.x+2/3*(p-e.x),g=e.y+2/3*(d-e.y),b=new o;return b.moveTo(t.x,t.y),b.curveTo(m,v,y,g,e.x,e.y),b.fill=null,b.stroke=i.BLACK,b},polygon:function(t,e,n,i){var s=arguments;5===s.length||4===s.length&&"number"==typeof s[0]&&"number"==typeof s[1]?(t=a.read(s[0],s[1]),e=s[2],n=s[3],i=5!==s.length||s[4]):(t=a.read(t),3===s.length&&(i=!0)),n=Math.max(n,3);var u,l,f,c,h=t.x,p=t.y,d=e,m=360/n,v=0;!0===i&&(u=r.coordinates(h,p,0,d),l=r.coordinates(h,p,m,d),v=-r.angle(l.x,l.y,u.x,u.y));var y=new o;for(f=0;f<n;f+=1)c=r.coordinates(h,p,m*f+v,d),0===f?y.moveTo(c.x,c.y):y.lineTo(c.x,c.y);return y.close(),y},star:function(t,e,n,r){var i,s,u,l,f,c=arguments;5===c.length||4===c.length&&"number"==typeof c[0]&&"number"==typeof c[1]?(t=a.read(c[0],c[1]),e=c[2],n=c[3],r=c[4]):t=a.read(t),r||(r=n);var h=new o;for(h.moveTo(t.x,t.y+n/2),i=1;i<2*e;i+=1)s=i*Math.PI/e,u=i%2==1?r/2:n/2,l=t.x+u*Math.sin(s),f=t.y+u*Math.cos(s),h.lineTo(l,f);return h.close(),h}},l=function(t){return""!==t};u.freehand=function(t){var e,n,r,a,s,u=[],f=t.split("M");for(e=0;e<f.length;e+=1)l(f[e])&&u.push(f[e].replace(/,/g," "));var c=new o;for(n=0;n<u.length;n+=1){for(s=[],f=u[n].split(" "),e=0;e<f.length;e+=1)l(f[e])&&s.push(f[e]);for(e=0;e<s.length;e+=2)void 0!==s[e+1]&&(r=parseFloat(s[e]),a=parseFloat(s[e+1]),0===e?c.moveTo(r,a):c.lineTo(r,a))}return c.fill=null,c.stroke=i.BLACK,c},u.grid=function(t,e,n,r,i){var o,s,u,l,f,c,h,p,d,m=[];for(m.length=t*e,i=void 0!==i?i:a.ZERO,t>1?(o=n*(t-1),s=i.x-o/2):s=i.x,e>1?(u=r*(e-1),l=i.y-u/2):l=i.y,d=0,f=0;f<e;f+=1)for(c=0;c<t;c+=1)h=s+c*n,p=l+f*r,m[d]=new a(h,p),d+=1;return m},u.text=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(null),new(Function.prototype.bind.apply(s,t))},u.demoRect=function(){return new u.rect({x:0,y:0},100,100,{x:0,y:0})},u.demoEllipse=function(){return new u.ellipse({x:0,y:0},100,100)},t.exports=u},function(t,e){!function(){"use strict";var e,n={use_lines:!0,use_xyz:!1},r=!1;if(void 0!==t&&t.exports?(t.exports=n,r=!0):"undefined"!=typeof document?window.ClipperLib=n:self.ClipperLib=n,r){i="chrome";e="Netscape"}else{var i=navigator.userAgent.toString().toLowerCase();e=navigator.appName}var o,a={};-1!=i.indexOf("chrome")&&-1==i.indexOf("chromium")?a.chrome=1:a.chrome=0,-1!=i.indexOf("chromium")?a.chromium=1:a.chromium=0,-1!=i.indexOf("safari")&&-1==i.indexOf("chrome")&&-1==i.indexOf("chromium")?a.safari=1:a.safari=0,-1!=i.indexOf("firefox")?a.firefox=1:a.firefox=0,-1!=i.indexOf("firefox/17")?a.firefox17=1:a.firefox17=0,-1!=i.indexOf("firefox/15")?a.firefox15=1:a.firefox15=0,-1!=i.indexOf("firefox/3")?a.firefox3=1:a.firefox3=0,-1!=i.indexOf("opera")?a.opera=1:a.opera=0,-1!=i.indexOf("msie 10")?a.msie10=1:a.msie10=0,-1!=i.indexOf("msie 9")?a.msie9=1:a.msie9=0,-1!=i.indexOf("msie 8")?a.msie8=1:a.msie8=0,-1!=i.indexOf("msie 7")?a.msie7=1:a.msie7=0,-1!=i.indexOf("msie ")?a.msie=1:a.msie=0,n.biginteger_used=null;function s(t,e,r){n.biginteger_used=1,null!=t&&("number"==typeof t&&void 0===e?this.fromInt(t):"number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function u(){return new s(null,void 0,void 0)}"Microsoft Internet Explorer"==e?(s.prototype.am=function(t,e,n,r,i,o){for(var a=32767&e,s=e>>15;--o>=0;){var u=32767&this[t],l=this[t++]>>15,f=s*u+l*a;i=((u=a*u+((32767&f)<<15)+n[r]+(1073741823&i))>>>30)+(f>>>15)+s*l+(i>>>30),n[r++]=1073741823&u}return i},o=30):"Netscape"!=e?(s.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var a=e*this[t++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},o=26):(s.prototype.am=function(t,e,n,r,i,o){for(var a=16383&e,s=e>>14;--o>=0;){var u=16383&this[t],l=this[t++]>>14,f=s*u+l*a;i=((u=a*u+((16383&f)<<14)+n[r]+i)>>28)+(f>>14)+s*l,n[r++]=268435455&u}return i},o=28),s.prototype.DB=o,s.prototype.DM=(1<<o)-1,s.prototype.DV=1<<o;s.prototype.FV=Math.pow(2,52),s.prototype.F1=52-o,s.prototype.F2=2*o-52;var l,f,c="0123456789abcdefghijklmnopqrstuvwxyz",h=new Array;for(l="0".charCodeAt(0),f=0;f<=9;++f)h[l++]=f;for(l="a".charCodeAt(0),f=10;f<36;++f)h[l++]=f;for(l="A".charCodeAt(0),f=10;f<36;++f)h[l++]=f;function p(t){return c.charAt(t)}function d(t,e){var n=h[t.charCodeAt(e)];return null==n?-1:n}function m(t){var e=u();return e.fromInt(t),e}function v(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function y(t){this.m=t}function g(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function b(t,e){return t&e}function x(t,e){return t|e}function w(t,e){return t^e}function _(t,e){return t&~e}function P(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function S(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function C(){}function E(t){return t}function T(t){this.r2=u(),this.q3=u(),s.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}y.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},y.prototype.revert=function(t){return t},y.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},y.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},y.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},g.prototype.convert=function(t){var e=u();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(s.ZERO)>0&&this.m.subTo(e,e),e},g.prototype.revert=function(t){var e=u();return t.copyTo(e),this.reduce(e),e},g.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},g.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},g.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},s.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},s.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},s.prototype.fromString=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var r=t.length,i=!1,o=0;--r>=0;){var a=8==n?255&t[r]:d(t,r);a<0?"-"==t.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&s.ZERO.subTo(this,this)},s.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},s.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},s.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},s.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(t/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)e[n]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()},s.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&o)<<i,e[a-n]=this[a]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},s.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},s.prototype.multiplyTo=function(t,e){var n=this.abs(),r=t.abs(),i=n.t;for(e.t=i+r.t;--i>=0;)e[i]=0;for(i=0;i<r.t;++i)e[i+n.t]=n.am(0,r[i],e,i,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&s.ZERO.subTo(e,e)},s.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},s.prototype.divRemTo=function(t,e,n){var r=t.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=u());var o=u(),a=this.s,l=t.s,f=this.DB-v(r[r.t-1]);f>0?(r.lShiftTo(f,o),i.lShiftTo(f,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,h=o[c-1];if(0!=h){var p=h*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/p,m=(1<<this.F1)/p,y=1<<this.F2,g=n.t,b=g-c,x=null==e?u():e;for(o.dlShiftTo(b,x),n.compareTo(x)>=0&&(n[n.t++]=1,n.subTo(x,n)),s.ONE.dlShiftTo(c,x),x.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--b>=0;){var w=n[--g]==h?this.DM:Math.floor(n[g]*d+(n[g-1]+y)*m);if((n[g]+=o.am(0,w,n,b,0,c))<w)for(o.dlShiftTo(b,x),n.subTo(x,n);n[g]<--w;)n.subTo(x,n)}null!=e&&(n.drShiftTo(c,e),a!=l&&s.ZERO.subTo(e,e)),n.t=c,n.clamp(),f>0&&n.rShiftTo(f,n),a<0&&s.ZERO.subTo(n,n)}}},s.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},s.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},s.prototype.exp=function(t,e){if(t>4294967295||t<1)return s.ONE;var n=u(),r=u(),i=e.convert(this),o=v(t)-1;for(i.copyTo(n);--o>=0;)if(e.sqrTo(n,r),(t&1<<o)>0)e.mulTo(r,i,n);else{var a=n;n=r,r=a}return e.revert(n)},s.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=p(n));a>=0;)s<e?(n=(this[a]&(1<<s)-1)<<e-s,n|=this[--a]>>(s+=this.DB-e)):(n=this[a]>>(s-=e)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=p(n));return i?o:"0"},s.prototype.negate=function(){var t=u();return s.ZERO.subTo(this,t),t},s.prototype.abs=function(){return this.s<0?this.negate():this},s.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},s.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+v(this[this.t-1]^this.s&this.DM)},s.prototype.mod=function(t){var e=u();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(s.ZERO)>0&&t.subTo(e,e),e},s.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new y(e):new g(e),this.exp(t,n)},s.ZERO=m(0),s.ONE=m(1),C.prototype.convert=E,C.prototype.revert=E,C.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},C.prototype.sqrTo=function(t,e){t.squareTo(e)},T.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=u();return t.copyTo(e),this.reduce(e),e},T.prototype.revert=function(t){return t},T.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},T.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},T.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var I=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],O=(1<<26)/I[I.length-1];s.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},s.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),r=m(n),i=u(),o=u(),a="";for(this.divRemTo(r,i,o);i.signum()>0;)a=(n+o.intValue()).toString(t).substr(1)+a,i.divRemTo(r,i,o);return o.intValue().toString(t)+a},s.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),r=Math.pow(e,n),i=!1,o=0,a=0,u=0;u<t.length;++u){var l=d(t,u);l<0?"-"==t.charAt(u)&&0==this.signum()&&(i=!0):(a=e*a+l,++o>=n&&(this.dMultiply(r),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(a,0)),i&&s.ZERO.subTo(this,this)},s.prototype.fromNumber=function(t,e,n){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(s.ONE.shiftLeft(t-1),x,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(s.ONE.shiftLeft(t-1),this);else{var r=new Array,i=7&t;r.length=1+(t>>3),e.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},s.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},s.prototype.changeBit=function(t,e){var n=s.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n},s.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},s.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},s.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},s.prototype.multiplyLowerTo=function(t,e,n){var r,i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()},s.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},s.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},s.prototype.millerRabin=function(t){var e=this.subtract(s.ONE),n=e.getLowestSetBit();if(n<=0)return!1;var r=e.shiftRight(n);(t=t+1>>1)>I.length&&(t=I.length);for(var i=u(),o=0;o<t;++o){i.fromInt(I[Math.floor(Math.random()*I.length)]);var a=i.modPow(r,this);if(0!=a.compareTo(s.ONE)&&0!=a.compareTo(e)){for(var l=1;l++<n&&0!=a.compareTo(e);)if(0==(a=a.modPowInt(2,this)).compareTo(s.ONE))return!1;if(0!=a.compareTo(e))return!1}}return!0},s.prototype.clone=function(){var t=u();return this.copyTo(t),t},s.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},s.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},s.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},s.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},s.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},s.prototype.equals=function(t){return 0==this.compareTo(t)},s.prototype.min=function(t){return this.compareTo(t)<0?this:t},s.prototype.max=function(t){return this.compareTo(t)>0?this:t},s.prototype.and=function(t){var e=u();return this.bitwiseTo(t,b,e),e},s.prototype.or=function(t){var e=u();return this.bitwiseTo(t,x,e),e},s.prototype.xor=function(t){var e=u();return this.bitwiseTo(t,w,e),e},s.prototype.andNot=function(t){var e=u();return this.bitwiseTo(t,_,e),e},s.prototype.not=function(){for(var t=u(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},s.prototype.shiftLeft=function(t){var e=u();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},s.prototype.shiftRight=function(t){var e=u();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},s.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+P(this[t]);return this.s<0?this.t*this.DB:-1},s.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=S(this[n]^e);return t},s.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},s.prototype.setBit=function(t){return this.changeBit(t,x)},s.prototype.clearBit=function(t){return this.changeBit(t,_)},s.prototype.flipBit=function(t){return this.changeBit(t,w)},s.prototype.add=function(t){var e=u();return this.addTo(t,e),e},s.prototype.subtract=function(t){var e=u();return this.subTo(t,e),e},s.prototype.multiply=function(t){var e=u();return this.multiplyTo(t,e),e},s.prototype.divide=function(t){var e=u();return this.divRemTo(t,e,null),e},s.prototype.remainder=function(t){var e=u();return this.divRemTo(t,null,e),e},s.prototype.divideAndRemainder=function(t){var e=u(),n=u();return this.divRemTo(t,e,n),new Array(e,n)},s.prototype.modPow=function(t,e){var n,r,i=t.bitLength(),o=m(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new y(e):e.isEven()?new T(e):new g(e);var a=new Array,s=3,l=n-1,f=(1<<n)-1;if(a[1]=r.convert(this),n>1){var c=u();for(r.sqrTo(a[1],c);s<=f;)a[s]=u(),r.mulTo(c,a[s-2],a[s]),s+=2}var h,p,d=t.t-1,b=!0,x=u();for(i=v(t[d])-1;d>=0;){for(i>=l?h=t[d]>>i-l&f:(h=(t[d]&(1<<i+1)-1)<<l-i,d>0&&(h|=t[d-1]>>this.DB+i-l)),s=n;0==(1&h);)h>>=1,--s;if((i-=s)<0&&(i+=this.DB,--d),b)a[h].copyTo(o),b=!1;else{for(;s>1;)r.sqrTo(o,x),r.sqrTo(x,o),s-=2;s>0?r.sqrTo(o,x):(p=o,o=x,x=p),r.mulTo(x,a[h],o)}for(;d>=0&&0==(t[d]&1<<i);)r.sqrTo(o,x),p=o,o=x,x=p,--i<0&&(i=this.DB-1,--d)}return r.revert(o)},s.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return s.ZERO;for(var n=t.clone(),r=this.clone(),i=m(1),o=m(0),a=m(0),u=m(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),e?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(t,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);n.compareTo(r)>=0?(n.subTo(r,n),e&&i.subTo(a,i),o.subTo(u,o)):(r.subTo(n,r),e&&a.subTo(i,a),u.subTo(o,u))}return 0!=r.compareTo(s.ONE)?s.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u},s.prototype.pow=function(t){return this.exp(t,new C)},s.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},s.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=I[I.length-1]){for(e=0;e<I.length;++e)if(n[0]==I[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<I.length;){for(var r=I[e],i=e+1;i<I.length&&r<O;)r*=I[i++];for(r=n.modInt(r);e<i;)if(r%I[e++]==0)return!1}return n.millerRabin(t)},s.prototype.square=function(){var t=u();return this.squareTo(t),t};var N=s;N.prototype.IsNegative=function(){return-1==this.compareTo(N.ZERO)},N.op_Equality=function(t,e){return 0==t.compareTo(e)},N.op_Inequality=function(t,e){return 0!=t.compareTo(e)},N.op_GreaterThan=function(t,e){return t.compareTo(e)>0},N.op_LessThan=function(t,e){return t.compareTo(e)<0},N.op_Addition=function(t,e){return new N(t).add(new N(e))},N.op_Subtraction=function(t,e){return new N(t).subtract(new N(e))},N.Int128Mul=function(t,e){return new N(t).multiply(new N(e))},N.op_Division=function(t,e){return t.divide(e)},N.prototype.ToDouble=function(){return parseFloat(this.toString())};var A=function(t,e){var n;if(void 0===Object.getOwnPropertyNames){for(n in e.prototype)void 0!==t.prototype[n]&&t.prototype[n]!=Object.prototype[n]||(t.prototype[n]=e.prototype[n]);for(n in e)void 0===t[n]&&(t[n]=e[n]);t.$baseCtor=e}else{for(var r=Object.getOwnPropertyNames(e.prototype),i=0;i<r.length;i++)void 0===Object.getOwnPropertyDescriptor(t.prototype,r[i])&&Object.defineProperty(t.prototype,r[i],Object.getOwnPropertyDescriptor(e.prototype,r[i]));for(n in e)void 0===t[n]&&(t[n]=e[n]);t.$baseCtor=e}};n.Path=function(){return[]},n.Paths=function(){return[]},n.DoublePoint=function(){var t=arguments;this.X=0,this.Y=0,1==t.length?(this.X=t[0].X,this.Y=t[0].Y):2==t.length&&(this.X=t[0],this.Y=t[1])},n.DoublePoint0=function(){this.X=0,this.Y=0},n.DoublePoint1=function(t){this.X=t.X,this.Y=t.Y},n.DoublePoint2=function(t,e){this.X=t,this.Y=e},n.PolyNode=function(){this.m_Parent=null,this.m_polygon=new n.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},n.PolyNode.prototype.IsHoleNode=function(){for(var t=!0,e=this.m_Parent;null!==e;)t=!t,e=e.m_Parent;return t},n.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},n.PolyNode.prototype.Contour=function(){return this.m_polygon},n.PolyNode.prototype.AddChild=function(t){var e=this.m_Childs.length;this.m_Childs.push(t),t.m_Parent=this,t.m_Index=e},n.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},n.PolyNode.prototype.GetNextSiblingUp=function(){return null===this.m_Parent?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},n.PolyNode.prototype.Childs=function(){return this.m_Childs},n.PolyNode.prototype.Parent=function(){return this.m_Parent},n.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},n.PolyTree=function(){this.m_AllPolys=[],n.PolyNode.call(this)},n.PolyTree.prototype.Clear=function(){for(var t=0,e=this.m_AllPolys.length;t<e;t++)this.m_AllPolys[t]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},n.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},n.PolyTree.prototype.Total=function(){var t=this.m_AllPolys.length;return t>0&&this.m_Childs[0]!=this.m_AllPolys[0]&&t--,t},A(n.PolyTree,n.PolyNode),n.Math_Abs_Int64=n.Math_Abs_Int32=n.Math_Abs_Double=function(t){return Math.abs(t)},n.Math_Max_Int32_Int32=function(t,e){return Math.max(t,e)},a.msie||a.opera||a.safari?n.Cast_Int32=function(t){return 0|t}:n.Cast_Int32=function(t){return~~t},a.chrome?n.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):~~t}:a.firefox&&"function"==typeof Number.toInteger?n.Cast_Int64=function(t){return Number.toInteger(t)}:a.msie7||a.msie8?n.Cast_Int64=function(t){return parseInt(t,10)}:a.msie?n.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):0|t}:n.Cast_Int64=function(t){return t<0?Math.ceil(t):Math.floor(t)},n.Clear=function(t){t.length=0},n.PI=3.141592653589793,n.PI2=6.283185307179586,n.IntPoint=function(){var t=arguments,e=t.length;if(this.X=0,this.Y=0,n.use_xyz)if(this.Z=0,3==e)this.X=t[0],this.Y=t[1],this.Z=t[2];else if(2==e)this.X=t[0],this.Y=t[1],this.Z=0;else if(1==e)if(t[0]instanceof n.DoublePoint){var r=t[0];this.X=n.Clipper.Round(r.X),this.Y=n.Clipper.Round(r.Y),this.Z=0}else{void 0===(i=t[0]).Z&&(i.Z=0),this.X=i.X,this.Y=i.Y,this.Z=i.Z}else this.X=0,this.Y=0,this.Z=0;else if(2==e)this.X=t[0],this.Y=t[1];else if(1==e)if(t[0]instanceof n.DoublePoint){r=t[0];this.X=n.Clipper.Round(r.X),this.Y=n.Clipper.Round(r.Y)}else{var i=t[0];this.X=i.X,this.Y=i.Y}else this.X=0,this.Y=0},n.IntPoint.op_Equality=function(t,e){return t.X==e.X&&t.Y==e.Y},n.IntPoint.op_Inequality=function(t,e){return t.X!=e.X||t.Y!=e.Y},n.use_xyz?(n.IntPoint0=function(){this.X=0,this.Y=0,this.Z=0},n.IntPoint1=function(t){this.X=t.X,this.Y=t.Y,this.Z=t.Z},n.IntPoint1dp=function(t){this.X=n.Clipper.Round(t.X),this.Y=n.Clipper.Round(t.Y),this.Z=0},n.IntPoint2=function(t,e){this.X=t,this.Y=e,this.Z=0},n.IntPoint3=function(t,e,n){this.X=t,this.Y=e,this.Z=n}):(n.IntPoint0=function(){this.X=0,this.Y=0},n.IntPoint1=function(t){this.X=t.X,this.Y=t.Y},n.IntPoint1dp=function(t){this.X=n.Clipper.Round(t.X),this.Y=n.Clipper.Round(t.Y)},n.IntPoint2=function(t,e){this.X=t,this.Y=e}),n.IntRect=function(){var t=arguments,e=t.length;4==e?(this.left=t[0],this.top=t[1],this.right=t[2],this.bottom=t[3]):1==e?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},n.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},n.IntRect1=function(t){this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom},n.IntRect4=function(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r},n.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},n.PolyType={ptSubject:0,ptClip:1},n.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},n.JoinType={jtSquare:0,jtRound:1,jtMiter:2},n.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},n.EdgeSide={esLeft:0,esRight:1},n.Direction={dRightToLeft:0,dLeftToRight:1},n.TEdge=function(){this.Bot=new n.IntPoint,this.Curr=new n.IntPoint,this.Top=new n.IntPoint,this.Delta=new n.IntPoint,this.Dx=0,this.PolyTyp=n.PolyType.ptSubject,this.Side=n.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},n.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new n.IntPoint},n.MyIntersectNodeSort=function(){},n.MyIntersectNodeSort.Compare=function(t,e){var n=e.Pt.Y-t.Pt.Y;return n>0?1:n<0?-1:0},n.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},n.Scanbeam=function(){this.Y=0,this.Next=null},n.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},n.OutPt=function(){this.Idx=0,this.Pt=new n.IntPoint,this.Next=null,this.Prev=null},n.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new n.IntPoint},n.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},n.ClipperBase.horizontal=-9007199254740992,n.ClipperBase.Skip=-2,n.ClipperBase.Unassigned=-1,n.ClipperBase.tolerance=1e-20,n.ClipperBase.loRange=47453132,n.ClipperBase.hiRange=0xfffffffffffff,n.ClipperBase.near_zero=function(t){return t>-n.ClipperBase.tolerance&&t<n.ClipperBase.tolerance},n.ClipperBase.IsHorizontal=function(t){return 0===t.Delta.Y},n.ClipperBase.prototype.PointIsVertex=function(t,e){var r=e;do{if(n.IntPoint.op_Equality(r.Pt,t))return!0;r=r.Next}while(r!=e);return!1},n.ClipperBase.prototype.PointOnLineSegment=function(t,e,n,r){return r?t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&N.op_Equality(N.Int128Mul(t.X-e.X,n.Y-e.Y),N.Int128Mul(n.X-e.X,t.Y-e.Y)):t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&(t.X-e.X)*(n.Y-e.Y)==(n.X-e.X)*(t.Y-e.Y)},n.ClipperBase.prototype.PointOnPolygon=function(t,e,n){for(var r=e;;){if(this.PointOnLineSegment(t,r.Pt,r.Next.Pt,n))return!0;if((r=r.Next)==e)break}return!1},n.ClipperBase.prototype.SlopesEqual=n.ClipperBase.SlopesEqual=function(){var t,e,r,i,o,a,s=arguments,u=s.length;return 3==u?(t=s[0],e=s[1],s[2]?N.op_Equality(N.Int128Mul(t.Delta.Y,e.Delta.X),N.Int128Mul(t.Delta.X,e.Delta.Y)):n.Cast_Int64(t.Delta.Y*e.Delta.X)==n.Cast_Int64(t.Delta.X*e.Delta.Y)):4==u?(r=s[0],i=s[1],o=s[2],s[3]?N.op_Equality(N.Int128Mul(r.Y-i.Y,i.X-o.X),N.Int128Mul(r.X-i.X,i.Y-o.Y)):n.Cast_Int64((r.Y-i.Y)*(i.X-o.X))-n.Cast_Int64((r.X-i.X)*(i.Y-o.Y))==0):(r=s[0],i=s[1],o=s[2],a=s[3],s[4]?N.op_Equality(N.Int128Mul(r.Y-i.Y,o.X-a.X),N.Int128Mul(r.X-i.X,o.Y-a.Y)):n.Cast_Int64((r.Y-i.Y)*(o.X-a.X))-n.Cast_Int64((r.X-i.X)*(o.Y-a.Y))==0)},n.ClipperBase.SlopesEqual3=function(t,e,r){return r?N.op_Equality(N.Int128Mul(t.Delta.Y,e.Delta.X),N.Int128Mul(t.Delta.X,e.Delta.Y)):n.Cast_Int64(t.Delta.Y*e.Delta.X)==n.Cast_Int64(t.Delta.X*e.Delta.Y)},n.ClipperBase.SlopesEqual4=function(t,e,r,i){return i?N.op_Equality(N.Int128Mul(t.Y-e.Y,e.X-r.X),N.Int128Mul(t.X-e.X,e.Y-r.Y)):n.Cast_Int64((t.Y-e.Y)*(e.X-r.X))-n.Cast_Int64((t.X-e.X)*(e.Y-r.Y))==0},n.ClipperBase.SlopesEqual5=function(t,e,r,i,o){return o?N.op_Equality(N.Int128Mul(t.Y-e.Y,r.X-i.X),N.Int128Mul(t.X-e.X,r.Y-i.Y)):n.Cast_Int64((t.Y-e.Y)*(r.X-i.X))-n.Cast_Int64((t.X-e.X)*(r.Y-i.Y))==0},n.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var t=0,e=this.m_edges.length;t<e;++t){for(var r=0,i=this.m_edges[t].length;r<i;++r)this.m_edges[t][r]=null;n.Clear(this.m_edges[t])}n.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},n.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;null!==this.m_MinimaList;){var t=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=t}this.m_CurrentLM=null},n.ClipperBase.prototype.RangeTest=function(t,e){e.Value?(t.X>n.ClipperBase.hiRange||t.Y>n.ClipperBase.hiRange||-t.X>n.ClipperBase.hiRange||-t.Y>n.ClipperBase.hiRange)&&n.Error("Coordinate outside allowed range in RangeTest()."):(t.X>n.ClipperBase.loRange||t.Y>n.ClipperBase.loRange||-t.X>n.ClipperBase.loRange||-t.Y>n.ClipperBase.loRange)&&(e.Value=!0,this.RangeTest(t,e))},n.ClipperBase.prototype.InitEdge=function(t,e,r,i){t.Next=e,t.Prev=r,t.Curr.X=i.X,t.Curr.Y=i.Y,n.use_xyz&&(t.Curr.Z=i.Z),t.OutIdx=-1},n.ClipperBase.prototype.InitEdge2=function(t,e){t.Curr.Y>=t.Next.Curr.Y?(t.Bot.X=t.Curr.X,t.Bot.Y=t.Curr.Y,n.use_xyz&&(t.Bot.Z=t.Curr.Z),t.Top.X=t.Next.Curr.X,t.Top.Y=t.Next.Curr.Y,n.use_xyz&&(t.Top.Z=t.Next.Curr.Z)):(t.Top.X=t.Curr.X,t.Top.Y=t.Curr.Y,n.use_xyz&&(t.Top.Z=t.Curr.Z),t.Bot.X=t.Next.Curr.X,t.Bot.Y=t.Next.Curr.Y,n.use_xyz&&(t.Bot.Z=t.Next.Curr.Z)),this.SetDx(t),t.PolyTyp=e},n.ClipperBase.prototype.FindNextLocMin=function(t){for(var e;;){for(;n.IntPoint.op_Inequality(t.Bot,t.Prev.Bot)||n.IntPoint.op_Equality(t.Curr,t.Top);)t=t.Next;if(t.Dx!=n.ClipperBase.horizontal&&t.Prev.Dx!=n.ClipperBase.horizontal)break;for(;t.Prev.Dx==n.ClipperBase.horizontal;)t=t.Prev;for(e=t;t.Dx==n.ClipperBase.horizontal;)t=t.Next;if(t.Top.Y!=t.Prev.Bot.Y){e.Prev.Bot.X<t.Bot.X&&(t=e);break}}return t},n.ClipperBase.prototype.ProcessBound=function(t,e){var r,i,o=t;if(o.OutIdx==n.ClipperBase.Skip){if(t=o,e){for(;t.Top.Y==t.Next.Bot.Y;)t=t.Next;for(;t!=o&&t.Dx==n.ClipperBase.horizontal;)t=t.Prev}else{for(;t.Top.Y==t.Prev.Bot.Y;)t=t.Prev;for(;t!=o&&t.Dx==n.ClipperBase.horizontal;)t=t.Next}if(t==o)o=e?t.Next:t.Prev;else{t=e?o.Next:o.Prev;var a=new n.LocalMinima;a.Next=null,a.Y=t.Bot.Y,a.LeftBound=null,a.RightBound=t,t.WindDelta=0,o=this.ProcessBound(t,e),this.InsertLocalMinima(a)}return o}if(t.Dx==n.ClipperBase.horizontal&&(r=e?t.Prev:t.Next).OutIdx!=n.ClipperBase.Skip&&(r.Dx==n.ClipperBase.horizontal?r.Bot.X!=t.Bot.X&&r.Top.X!=t.Bot.X&&this.ReverseHorizontal(t):r.Bot.X!=t.Bot.X&&this.ReverseHorizontal(t)),r=t,e){for(;o.Top.Y==o.Next.Bot.Y&&o.Next.OutIdx!=n.ClipperBase.Skip;)o=o.Next;if(o.Dx==n.ClipperBase.horizontal&&o.Next.OutIdx!=n.ClipperBase.Skip){for(i=o;i.Prev.Dx==n.ClipperBase.horizontal;)i=i.Prev;i.Prev.Top.X==o.Next.Top.X?e||(o=i.Prev):i.Prev.Top.X>o.Next.Top.X&&(o=i.Prev)}for(;t!=o;)t.NextInLML=t.Next,t.Dx==n.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),t=t.Next;t.Dx==n.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),o=o.Next}else{for(;o.Top.Y==o.Prev.Bot.Y&&o.Prev.OutIdx!=n.ClipperBase.Skip;)o=o.Prev;if(o.Dx==n.ClipperBase.horizontal&&o.Prev.OutIdx!=n.ClipperBase.Skip){for(i=o;i.Next.Dx==n.ClipperBase.horizontal;)i=i.Next;i.Next.Top.X==o.Prev.Top.X?e||(o=i.Next):i.Next.Top.X>o.Prev.Top.X&&(o=i.Next)}for(;t!=o;)t.NextInLML=t.Prev,t.Dx==n.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),t=t.Prev;t.Dx==n.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),o=o.Prev}return o},n.ClipperBase.prototype.AddPath=function(t,e,r){n.use_lines?r||e!=n.PolyType.ptClip||n.Error("AddPath: Open paths must be subject."):r||n.Error("AddPath: Open paths have been disabled.");var i=t.length-1;if(r)for(;i>0&&n.IntPoint.op_Equality(t[i],t[0]);)--i;for(;i>0&&n.IntPoint.op_Equality(t[i],t[i-1]);)--i;if(r&&i<2||!r&&i<1)return!1;for(var o=new Array,a=0;a<=i;a++)o.push(new n.TEdge);var s=!0;o[1].Curr.X=t[1].X,o[1].Curr.Y=t[1].Y,n.use_xyz&&(o[1].Curr.Z=t[1].Z);var u={Value:this.m_UseFullRange};this.RangeTest(t[0],u),this.m_UseFullRange=u.Value,u.Value=this.m_UseFullRange,this.RangeTest(t[i],u),this.m_UseFullRange=u.Value,this.InitEdge(o[0],o[1],o[i],t[0]),this.InitEdge(o[i],o[0],o[i-1],t[i]);for(a=i-1;a>=1;--a)u.Value=this.m_UseFullRange,this.RangeTest(t[a],u),this.m_UseFullRange=u.Value,this.InitEdge(o[a],o[a+1],o[a-1],t[a]);for(var l,f=o[0],c=f,h=f;;)if(c.Curr!=c.Next.Curr||!r&&c.Next==f){if(c.Prev==c.Next)break;if(!r||!n.ClipperBase.SlopesEqual(c.Prev.Curr,c.Curr,c.Next.Curr,this.m_UseFullRange)||this.PreserveCollinear&&this.Pt2IsBetweenPt1AndPt3(c.Prev.Curr,c.Curr,c.Next.Curr)){if((c=c.Next)==h||!r&&c.Next==f)break}else c==f&&(f=c.Next),h=c=(c=this.RemoveEdge(c)).Prev}else{if(c==c.Next)break;c==f&&(f=c.Next),h=c=this.RemoveEdge(c)}if(!r&&c==c.Next||r&&c.Prev==c.Next)return!1;r||(this.m_HasOpenPaths=!0,f.Prev.OutIdx=n.ClipperBase.Skip),c=f;do{this.InitEdge2(c,e),c=c.Next,s&&c.Curr.Y!=f.Curr.Y&&(s=!1)}while(c!=f);if(s){if(r)return!1;for(c.Prev.OutIdx=n.ClipperBase.Skip,c.Prev.Bot.X<c.Prev.Top.X&&this.ReverseHorizontal(c.Prev),(d=new n.LocalMinima).Next=null,d.Y=c.Bot.Y,d.LeftBound=null,d.RightBound=c,d.RightBound.Side=n.EdgeSide.esRight,d.RightBound.WindDelta=0;c.Next.OutIdx!=n.ClipperBase.Skip;)c.NextInLML=c.Next,c.Bot.X!=c.Prev.Top.X&&this.ReverseHorizontal(c),c=c.Next;return this.InsertLocalMinima(d),this.m_edges.push(o),!0}this.m_edges.push(o);var p=null;for(n.IntPoint.op_Equality(c.Prev.Bot,c.Prev.Top)&&(c=c.Next);(c=this.FindNextLocMin(c))!=p;){var d;null==p&&(p=c),(d=new n.LocalMinima).Next=null,d.Y=c.Bot.Y,c.Dx<c.Prev.Dx?(d.LeftBound=c.Prev,d.RightBound=c,l=!1):(d.LeftBound=c,d.RightBound=c.Prev,l=!0),d.LeftBound.Side=n.EdgeSide.esLeft,d.RightBound.Side=n.EdgeSide.esRight,r?d.LeftBound.Next==d.RightBound?d.LeftBound.WindDelta=-1:d.LeftBound.WindDelta=1:d.LeftBound.WindDelta=0,d.RightBound.WindDelta=-d.LeftBound.WindDelta,(c=this.ProcessBound(d.LeftBound,l)).OutIdx==n.ClipperBase.Skip&&(c=this.ProcessBound(c,l));var m=this.ProcessBound(d.RightBound,!l);m.OutIdx==n.ClipperBase.Skip&&(m=this.ProcessBound(m,!l)),d.LeftBound.OutIdx==n.ClipperBase.Skip?d.LeftBound=null:d.RightBound.OutIdx==n.ClipperBase.Skip&&(d.RightBound=null),this.InsertLocalMinima(d),l||(c=m)}return!0},n.ClipperBase.prototype.AddPaths=function(t,e,n){for(var r=!1,i=0,o=t.length;i<o;++i)this.AddPath(t[i],e,n)&&(r=!0);return r},n.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(t,e,r){return!(n.IntPoint.op_Equality(t,r)||n.IntPoint.op_Equality(t,e)||n.IntPoint.op_Equality(r,e))&&(t.X!=r.X?e.X>t.X==e.X<r.X:e.Y>t.Y==e.Y<r.Y)},n.ClipperBase.prototype.RemoveEdge=function(t){t.Prev.Next=t.Next,t.Next.Prev=t.Prev;var e=t.Next;return t.Prev=null,e},n.ClipperBase.prototype.SetDx=function(t){t.Delta.X=t.Top.X-t.Bot.X,t.Delta.Y=t.Top.Y-t.Bot.Y,0===t.Delta.Y?t.Dx=n.ClipperBase.horizontal:t.Dx=t.Delta.X/t.Delta.Y},n.ClipperBase.prototype.InsertLocalMinima=function(t){if(null===this.m_MinimaList)this.m_MinimaList=t;else if(t.Y>=this.m_MinimaList.Y)t.Next=this.m_MinimaList,this.m_MinimaList=t;else{for(var e=this.m_MinimaList;null!==e.Next&&t.Y<e.Next.Y;)e=e.Next;t.Next=e.Next,e.Next=t}},n.ClipperBase.prototype.PopLocalMinima=function(){null!==this.m_CurrentLM&&(this.m_CurrentLM=this.m_CurrentLM.Next)},n.ClipperBase.prototype.ReverseHorizontal=function(t){var e=t.Top.X;t.Top.X=t.Bot.X,t.Bot.X=e,n.use_xyz&&(e=t.Top.Z,t.Top.Z=t.Bot.Z,t.Bot.Z=e)},n.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,null!=this.m_CurrentLM)for(var t=this.m_MinimaList;null!=t;){var e=t.LeftBound;null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,n.use_xyz&&(e.Curr.Z=e.Bot.Z),e.Side=n.EdgeSide.esLeft,e.OutIdx=n.ClipperBase.Unassigned),null!=(e=t.RightBound)&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,n.use_xyz&&(e.Curr.Z=e.Bot.Z),e.Side=n.EdgeSide.esRight,e.OutIdx=n.ClipperBase.Unassigned),t=t.Next}},n.Clipper=function(t){void 0===t&&(t=0),this.m_PolyOuts=null,this.m_ClipType=n.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=n.PolyFillType.pftEvenOdd,this.m_SubjFillType=n.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,n.ClipperBase.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=n.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=0!=(1&t),this.StrictlySimple=0!=(2&t),this.PreserveCollinear=0!=(4&t),n.use_xyz&&(this.ZFillFunction=null)},n.Clipper.ioReverseSolution=1,n.Clipper.ioStrictlySimple=2,n.Clipper.ioPreserveCollinear=4,n.Clipper.prototype.Clear=function(){0!==this.m_edges.length&&(this.DisposeAllPolyPts(),n.ClipperBase.prototype.Clear.call(this))},n.Clipper.prototype.DisposeScanbeamList=function(){for(;null!==this.m_Scanbeam;){var t=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=t}},n.Clipper.prototype.Reset=function(){n.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var t=this.m_MinimaList;null!==t;)this.InsertScanbeam(t.Y),t=t.Next},n.Clipper.prototype.InsertScanbeam=function(t){if(null===this.m_Scanbeam)this.m_Scanbeam=new n.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=t;else if(t>this.m_Scanbeam.Y){(r=new n.Scanbeam).Y=t,r.Next=this.m_Scanbeam,this.m_Scanbeam=r}else{for(var e=this.m_Scanbeam;null!==e.Next&&t<=e.Next.Y;)e=e.Next;if(t==e.Y)return;var r;(r=new n.Scanbeam).Y=t,r.Next=e.Next,e.Next=r}},n.Clipper.prototype.Execute=function(){var t=arguments,e=t.length,r=t[1]instanceof n.PolyTree;if(4==e&&!r){var i=t[0],o=t[1],a=t[2],s=t[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&n.Error("Error: PolyTree struct is need for open path clipping."),this.m_ExecuteLocked=!0,n.Clear(o),this.m_SubjFillType=a,this.m_ClipFillType=s,this.m_ClipType=i,this.m_UsingPolyTree=!1;try{(l=this.ExecuteInternal())&&this.BuildResult(o)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return l}if(4==e&&r){i=t[0];var u=t[1];a=t[2],s=t[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=a,this.m_ClipFillType=s,this.m_ClipType=i,this.m_UsingPolyTree=!0;try{var l;(l=this.ExecuteInternal())&&this.BuildResult2(u)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return l}if(2==e&&!r){i=t[0],o=t[1];return this.Execute(i,o,n.PolyFillType.pftEvenOdd,n.PolyFillType.pftEvenOdd)}if(2==e&&r){i=t[0],u=t[1];return this.Execute(i,u,n.PolyFillType.pftEvenOdd,n.PolyFillType.pftEvenOdd)}},n.Clipper.prototype.FixHoleLinkage=function(t){if(null!==t.FirstLeft&&(t.IsHole==t.FirstLeft.IsHole||null===t.FirstLeft.Pts)){for(var e=t.FirstLeft;null!==e&&(e.IsHole==t.IsHole||null===e.Pts);)e=e.FirstLeft;t.FirstLeft=e}},n.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),null===this.m_CurrentLM)return!1;var t=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(t),n.Clear(this.m_GhostJoins),this.ProcessHorizontals(!1),null===this.m_Scanbeam)break;var e=this.PopScanbeam();if(!this.ProcessIntersections(e))return!1;this.ProcessEdgesAtTopOfScanbeam(e),t=e}while(null!==this.m_Scanbeam||null!==this.m_CurrentLM);for(var r=0,i=this.m_PolyOuts.length;r<i;r++){null===(o=this.m_PolyOuts[r]).Pts||o.IsOpen||(o.IsHole^this.ReverseSolution)==this.Area(o)>0&&this.ReversePolyPtLinks(o.Pts)}this.JoinCommonEdges();for(r=0,i=this.m_PolyOuts.length;r<i;r++){var o;null===(o=this.m_PolyOuts[r]).Pts||o.IsOpen||this.FixupOutPolygon(o)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{n.Clear(this.m_Joins),n.Clear(this.m_GhostJoins)}},n.Clipper.prototype.PopScanbeam=function(){var t=this.m_Scanbeam.Y;return this.m_Scanbeam=this.m_Scanbeam.Next,t},n.Clipper.prototype.DisposeAllPolyPts=function(){for(var t=0,e=this.m_PolyOuts.length;t<e;++t)this.DisposeOutRec(t);n.Clear(this.m_PolyOuts)},n.Clipper.prototype.DisposeOutRec=function(t){var e=this.m_PolyOuts[t];e.Pts=null,e=null,this.m_PolyOuts[t]=null},n.Clipper.prototype.AddJoin=function(t,e,r){var i=new n.Join;i.OutPt1=t,i.OutPt2=e,i.OffPt.X=r.X,i.OffPt.Y=r.Y,n.use_xyz&&(i.OffPt.Z=r.Z),this.m_Joins.push(i)},n.Clipper.prototype.AddGhostJoin=function(t,e){var r=new n.Join;r.OutPt1=t,r.OffPt.X=e.X,r.OffPt.Y=e.Y,n.use_xyz&&(r.OffPt.Z=e.Z),this.m_GhostJoins.push(r)},n.Clipper.prototype.SetZ=function(t,e,r){if(null!==this.ZFillFunction){if(0!=t.Z||null===this.ZFillFunction)return;n.IntPoint.op_Equality(t,e.Bot)?t.Z=e.Bot.Z:n.IntPoint.op_Equality(t,e.Top)?t.Z=e.Top.Z:n.IntPoint.op_Equality(t,r.Bot)?t.Z=r.Bot.Z:n.IntPoint.op_Equality(t,r.Top)?t.Z=r.Top.Z:this.ZFillFunction(e.Bot,e.Top,r.Bot,r.Top,t)}},n.Clipper.prototype.InsertLocalMinimaIntoAEL=function(t){for(;null!==this.m_CurrentLM&&this.m_CurrentLM.Y==t;){var e=this.m_CurrentLM.LeftBound,r=this.m_CurrentLM.RightBound;this.PopLocalMinima();var i=null;if(null===e?(this.InsertEdgeIntoAEL(r,null),this.SetWindingCount(r),this.IsContributing(r)&&(i=this.AddOutPt(r,r.Bot))):null==r?(this.InsertEdgeIntoAEL(e,null),this.SetWindingCount(e),this.IsContributing(e)&&(i=this.AddOutPt(e,e.Bot)),this.InsertScanbeam(e.Top.Y)):(this.InsertEdgeIntoAEL(e,null),this.InsertEdgeIntoAEL(r,e),this.SetWindingCount(e),r.WindCnt=e.WindCnt,r.WindCnt2=e.WindCnt2,this.IsContributing(e)&&(i=this.AddLocalMinPoly(e,r,e.Bot)),this.InsertScanbeam(e.Top.Y)),null!=r&&(n.ClipperBase.IsHorizontal(r)?this.AddEdgeToSEL(r):this.InsertScanbeam(r.Top.Y)),null!=e&&null!=r){if(null!==i&&n.ClipperBase.IsHorizontal(r)&&this.m_GhostJoins.length>0&&0!==r.WindDelta)for(var o=0,a=this.m_GhostJoins.length;o<a;o++){var s=this.m_GhostJoins[o];this.HorzSegmentsOverlap(s.OutPt1.Pt.X,s.OffPt.X,r.Bot.X,r.Top.X)&&this.AddJoin(s.OutPt1,i,s.OffPt)}if(e.OutIdx>=0&&null!==e.PrevInAEL&&e.PrevInAEL.Curr.X==e.Bot.X&&e.PrevInAEL.OutIdx>=0&&n.ClipperBase.SlopesEqual(e.PrevInAEL,e,this.m_UseFullRange)&&0!==e.WindDelta&&0!==e.PrevInAEL.WindDelta){var u=this.AddOutPt(e.PrevInAEL,e.Bot);this.AddJoin(i,u,e.Top)}if(e.NextInAEL!=r){if(r.OutIdx>=0&&r.PrevInAEL.OutIdx>=0&&n.ClipperBase.SlopesEqual(r.PrevInAEL,r,this.m_UseFullRange)&&0!==r.WindDelta&&0!==r.PrevInAEL.WindDelta){u=this.AddOutPt(r.PrevInAEL,r.Bot);this.AddJoin(i,u,r.Top)}var l=e.NextInAEL;if(null!==l)for(;l!=r;)this.IntersectEdges(r,l,e.Curr,!1),l=l.NextInAEL}}}},n.Clipper.prototype.InsertEdgeIntoAEL=function(t,e){if(null===this.m_ActiveEdges)t.PrevInAEL=null,t.NextInAEL=null,this.m_ActiveEdges=t;else if(null===e&&this.E2InsertsBeforeE1(this.m_ActiveEdges,t))t.PrevInAEL=null,t.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=t,this.m_ActiveEdges=t;else{for(null===e&&(e=this.m_ActiveEdges);null!==e.NextInAEL&&!this.E2InsertsBeforeE1(e.NextInAEL,t);)e=e.NextInAEL;t.NextInAEL=e.NextInAEL,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=t),t.PrevInAEL=e,e.NextInAEL=t}},n.Clipper.prototype.E2InsertsBeforeE1=function(t,e){return e.Curr.X==t.Curr.X?e.Top.Y>t.Top.Y?e.Top.X<n.Clipper.TopX(t,e.Top.Y):t.Top.X>n.Clipper.TopX(e,t.Top.Y):e.Curr.X<t.Curr.X},n.Clipper.prototype.IsEvenOddFillType=function(t){return t.PolyTyp==n.PolyType.ptSubject?this.m_SubjFillType==n.PolyFillType.pftEvenOdd:this.m_ClipFillType==n.PolyFillType.pftEvenOdd},n.Clipper.prototype.IsEvenOddAltFillType=function(t){return t.PolyTyp==n.PolyType.ptSubject?this.m_ClipFillType==n.PolyFillType.pftEvenOdd:this.m_SubjFillType==n.PolyFillType.pftEvenOdd},n.Clipper.prototype.IsContributing=function(t){var e,r;switch(t.PolyTyp==n.PolyType.ptSubject?(e=this.m_SubjFillType,r=this.m_ClipFillType):(e=this.m_ClipFillType,r=this.m_SubjFillType),e){case n.PolyFillType.pftEvenOdd:if(0===t.WindDelta&&1!=t.WindCnt)return!1;break;case n.PolyFillType.pftNonZero:if(1!=Math.abs(t.WindCnt))return!1;break;case n.PolyFillType.pftPositive:if(1!=t.WindCnt)return!1;break;default:if(-1!=t.WindCnt)return!1}switch(this.m_ClipType){case n.ClipType.ctIntersection:switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case n.ClipType.ctUnion:switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0===t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}case n.ClipType.ctDifference:if(t.PolyTyp==n.PolyType.ptSubject)switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0===t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}else switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case n.ClipType.ctXor:if(0!==t.WindDelta)return!0;switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0===t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}}return!0},n.Clipper.prototype.SetWindingCount=function(t){for(var e=t.PrevInAEL;null!==e&&(e.PolyTyp!=t.PolyTyp||0===e.WindDelta);)e=e.PrevInAEL;if(null===e)t.WindCnt=0===t.WindDelta?1:t.WindDelta,t.WindCnt2=0,e=this.m_ActiveEdges;else if(0===t.WindDelta&&this.m_ClipType!=n.ClipType.ctUnion)t.WindCnt=1,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;else if(this.IsEvenOddFillType(t)){if(0===t.WindDelta){for(var r=!0,i=e.PrevInAEL;null!==i;)i.PolyTyp==e.PolyTyp&&0!==i.WindDelta&&(r=!r),i=i.PrevInAEL;t.WindCnt=r?0:1}else t.WindCnt=t.WindDelta;t.WindCnt2=e.WindCnt2,e=e.NextInAEL}else e.WindCnt*e.WindDelta<0?Math.abs(e.WindCnt)>1?e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta:t.WindCnt=0===t.WindDelta?1:t.WindDelta:0===t.WindDelta?t.WindCnt=e.WindCnt<0?e.WindCnt-1:e.WindCnt+1:e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;if(this.IsEvenOddAltFillType(t))for(;e!=t;)0!==e.WindDelta&&(t.WindCnt2=0===t.WindCnt2?1:0),e=e.NextInAEL;else for(;e!=t;)t.WindCnt2+=e.WindDelta,e=e.NextInAEL},n.Clipper.prototype.AddEdgeToSEL=function(t){null===this.m_SortedEdges?(this.m_SortedEdges=t,t.PrevInSEL=null,t.NextInSEL=null):(t.NextInSEL=this.m_SortedEdges,t.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=t,this.m_SortedEdges=t)},n.Clipper.prototype.CopyAELToSEL=function(){var t=this.m_ActiveEdges;for(this.m_SortedEdges=t;null!==t;)t.PrevInSEL=t.PrevInAEL,t.NextInSEL=t.NextInAEL,t=t.NextInAEL},n.Clipper.prototype.SwapPositionsInAEL=function(t,e){if(t.NextInAEL!=t.PrevInAEL&&e.NextInAEL!=e.PrevInAEL){if(t.NextInAEL==e)null!==(n=e.NextInAEL)&&(n.PrevInAEL=t),null!==(r=t.PrevInAEL)&&(r.NextInAEL=e),e.PrevInAEL=r,e.NextInAEL=t,t.PrevInAEL=e,t.NextInAEL=n;else if(e.NextInAEL==t){null!==(n=t.NextInAEL)&&(n.PrevInAEL=e),null!==(r=e.PrevInAEL)&&(r.NextInAEL=t),t.PrevInAEL=r,t.NextInAEL=e,e.PrevInAEL=t,e.NextInAEL=n}else{var n=t.NextInAEL,r=t.PrevInAEL;t.NextInAEL=e.NextInAEL,null!==t.NextInAEL&&(t.NextInAEL.PrevInAEL=t),t.PrevInAEL=e.PrevInAEL,null!==t.PrevInAEL&&(t.PrevInAEL.NextInAEL=t),e.NextInAEL=n,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=e),e.PrevInAEL=r,null!==e.PrevInAEL&&(e.PrevInAEL.NextInAEL=e)}null===t.PrevInAEL?this.m_ActiveEdges=t:null===e.PrevInAEL&&(this.m_ActiveEdges=e)}},n.Clipper.prototype.SwapPositionsInSEL=function(t,e){if(!(null===t.NextInSEL&&null===t.PrevInSEL||null===e.NextInSEL&&null===e.PrevInSEL)){if(t.NextInSEL==e)null!==(n=e.NextInSEL)&&(n.PrevInSEL=t),null!==(r=t.PrevInSEL)&&(r.NextInSEL=e),e.PrevInSEL=r,e.NextInSEL=t,t.PrevInSEL=e,t.NextInSEL=n;else if(e.NextInSEL==t){null!==(n=t.NextInSEL)&&(n.PrevInSEL=e),null!==(r=e.PrevInSEL)&&(r.NextInSEL=t),t.PrevInSEL=r,t.NextInSEL=e,e.PrevInSEL=t,e.NextInSEL=n}else{var n=t.NextInSEL,r=t.PrevInSEL;t.NextInSEL=e.NextInSEL,null!==t.NextInSEL&&(t.NextInSEL.PrevInSEL=t),t.PrevInSEL=e.PrevInSEL,null!==t.PrevInSEL&&(t.PrevInSEL.NextInSEL=t),e.NextInSEL=n,null!==e.NextInSEL&&(e.NextInSEL.PrevInSEL=e),e.PrevInSEL=r,null!==e.PrevInSEL&&(e.PrevInSEL.NextInSEL=e)}null===t.PrevInSEL?this.m_SortedEdges=t:null===e.PrevInSEL&&(this.m_SortedEdges=e)}},n.Clipper.prototype.AddLocalMaxPoly=function(t,e,n){this.AddOutPt(t,n),0==e.WindDelta&&this.AddOutPt(e,n),t.OutIdx==e.OutIdx?(t.OutIdx=-1,e.OutIdx=-1):t.OutIdx<e.OutIdx?this.AppendPolygon(t,e):this.AppendPolygon(e,t)},n.Clipper.prototype.AddLocalMinPoly=function(t,e,r){var i,o,a;if(n.ClipperBase.IsHorizontal(e)||t.Dx>e.Dx?(i=this.AddOutPt(t,r),e.OutIdx=t.OutIdx,t.Side=n.EdgeSide.esLeft,e.Side=n.EdgeSide.esRight,a=(o=t).PrevInAEL==e?e.PrevInAEL:o.PrevInAEL):(i=this.AddOutPt(e,r),t.OutIdx=e.OutIdx,t.Side=n.EdgeSide.esRight,e.Side=n.EdgeSide.esLeft,a=(o=e).PrevInAEL==t?t.PrevInAEL:o.PrevInAEL),null!==a&&a.OutIdx>=0&&n.Clipper.TopX(a,r.Y)==n.Clipper.TopX(o,r.Y)&&n.ClipperBase.SlopesEqual(o,a,this.m_UseFullRange)&&0!==o.WindDelta&&0!==a.WindDelta){var s=this.AddOutPt(a,r);this.AddJoin(i,s,o.Top)}return i},n.Clipper.prototype.CreateOutRec=function(){var t=new n.OutRec;return t.Idx=-1,t.IsHole=!1,t.IsOpen=!1,t.FirstLeft=null,t.Pts=null,t.BottomPt=null,t.PolyNode=null,this.m_PolyOuts.push(t),t.Idx=this.m_PolyOuts.length-1,t},n.Clipper.prototype.AddOutPt=function(t,e){var r=t.Side==n.EdgeSide.esLeft;if(t.OutIdx<0){(o=this.CreateOutRec()).IsOpen=0===t.WindDelta;var i=new n.OutPt;return o.Pts=i,i.Idx=o.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,n.use_xyz&&(i.Pt.Z=e.Z),i.Next=i,i.Prev=i,o.IsOpen||this.SetHoleState(t,o),t.OutIdx=o.Idx,i}var o,a=(o=this.m_PolyOuts[t.OutIdx]).Pts;return r&&n.IntPoint.op_Equality(e,a.Pt)?a:!r&&n.IntPoint.op_Equality(e,a.Prev.Pt)?a.Prev:((i=new n.OutPt).Idx=o.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,n.use_xyz&&(i.Pt.Z=e.Z),i.Next=a,i.Prev=a.Prev,i.Prev.Next=i,a.Prev=i,r&&(o.Pts=i),i)},n.Clipper.prototype.SwapPoints=function(t,e){var r=new n.IntPoint(t.Value);t.Value.X=e.Value.X,t.Value.Y=e.Value.Y,n.use_xyz&&(t.Value.Z=e.Value.Z),e.Value.X=r.X,e.Value.Y=r.Y,n.use_xyz&&(e.Value.Z=r.Z)},n.Clipper.prototype.HorzSegmentsOverlap=function(t,e,n,r){var i;return t>e&&(i=t,t=e,e=i),n>r&&(i=n,n=r,r=i),t<r&&n<e},n.Clipper.prototype.SetHoleState=function(t,e){for(var n=!1,r=t.PrevInAEL;null!==r;)r.OutIdx>=0&&0!=r.WindDelta&&(n=!n,null===e.FirstLeft&&(e.FirstLeft=this.m_PolyOuts[r.OutIdx])),r=r.PrevInAEL;n&&(e.IsHole=!0)},n.Clipper.prototype.GetDx=function(t,e){return t.Y==e.Y?n.ClipperBase.horizontal:(e.X-t.X)/(e.Y-t.Y)},n.Clipper.prototype.FirstIsBottomPt=function(t,e){for(var r=t.Prev;n.IntPoint.op_Equality(r.Pt,t.Pt)&&r!=t;)r=r.Prev;var i=Math.abs(this.GetDx(t.Pt,r.Pt));for(r=t.Next;n.IntPoint.op_Equality(r.Pt,t.Pt)&&r!=t;)r=r.Next;var o=Math.abs(this.GetDx(t.Pt,r.Pt));for(r=e.Prev;n.IntPoint.op_Equality(r.Pt,e.Pt)&&r!=e;)r=r.Prev;var a=Math.abs(this.GetDx(e.Pt,r.Pt));for(r=e.Next;n.IntPoint.op_Equality(r.Pt,e.Pt)&&r!=e;)r=r.Next;var s=Math.abs(this.GetDx(e.Pt,r.Pt));return i>=a&&i>=s||o>=a&&o>=s},n.Clipper.prototype.GetBottomPt=function(t){for(var e=null,r=t.Next;r!=t;)r.Pt.Y>t.Pt.Y?(t=r,e=null):r.Pt.Y==t.Pt.Y&&r.Pt.X<=t.Pt.X&&(r.Pt.X<t.Pt.X?(e=null,t=r):r.Next!=t&&r.Prev!=t&&(e=r)),r=r.Next;if(null!==e)for(;e!=r;)for(this.FirstIsBottomPt(r,e)||(t=e),e=e.Next;n.IntPoint.op_Inequality(e.Pt,t.Pt);)e=e.Next;return t},n.Clipper.prototype.GetLowermostRec=function(t,e){null===t.BottomPt&&(t.BottomPt=this.GetBottomPt(t.Pts)),null===e.BottomPt&&(e.BottomPt=this.GetBottomPt(e.Pts));var n=t.BottomPt,r=e.BottomPt;return n.Pt.Y>r.Pt.Y?t:n.Pt.Y<r.Pt.Y?e:n.Pt.X<r.Pt.X?t:n.Pt.X>r.Pt.X?e:n.Next==n?e:r.Next==r?t:this.FirstIsBottomPt(n,r)?t:e},n.Clipper.prototype.Param1RightOfParam2=function(t,e){do{if((t=t.FirstLeft)==e)return!0}while(null!==t);return!1},n.Clipper.prototype.GetOutRec=function(t){for(var e=this.m_PolyOuts[t];e!=this.m_PolyOuts[e.Idx];)e=this.m_PolyOuts[e.Idx];return e},n.Clipper.prototype.AppendPolygon=function(t,e){var r,i=this.m_PolyOuts[t.OutIdx],o=this.m_PolyOuts[e.OutIdx];r=this.Param1RightOfParam2(i,o)?o:this.Param1RightOfParam2(o,i)?i:this.GetLowermostRec(i,o);var a,s=i.Pts,u=s.Prev,l=o.Pts,f=l.Prev;t.Side==n.EdgeSide.esLeft?(e.Side==n.EdgeSide.esLeft?(this.ReversePolyPtLinks(l),l.Next=s,s.Prev=l,u.Next=f,f.Prev=u,i.Pts=f):(f.Next=s,s.Prev=f,l.Prev=u,u.Next=l,i.Pts=l),a=n.EdgeSide.esLeft):(e.Side==n.EdgeSide.esRight?(this.ReversePolyPtLinks(l),u.Next=f,f.Prev=u,l.Next=s,s.Prev=l):(u.Next=l,l.Prev=u,s.Prev=f,f.Next=s),a=n.EdgeSide.esRight),i.BottomPt=null,r==o&&(o.FirstLeft!=i&&(i.FirstLeft=o.FirstLeft),i.IsHole=o.IsHole),o.Pts=null,o.BottomPt=null,o.FirstLeft=i;var c=t.OutIdx,h=e.OutIdx;t.OutIdx=-1,e.OutIdx=-1;for(var p=this.m_ActiveEdges;null!==p;){if(p.OutIdx==h){p.OutIdx=c,p.Side=a;break}p=p.NextInAEL}o.Idx=i.Idx},n.Clipper.prototype.ReversePolyPtLinks=function(t){if(null!==t){var e,n;e=t;do{n=e.Next,e.Next=e.Prev,e.Prev=n,e=n}while(e!=t)}},n.Clipper.SwapSides=function(t,e){var n=t.Side;t.Side=e.Side,e.Side=n},n.Clipper.SwapPolyIndexes=function(t,e){var n=t.OutIdx;t.OutIdx=e.OutIdx,e.OutIdx=n},n.Clipper.prototype.IntersectEdges=function(t,e,r){var i=t.OutIdx>=0,o=e.OutIdx>=0;if(n.use_xyz&&this.SetZ(r,t,e),!n.use_lines||0!==t.WindDelta&&0!==e.WindDelta){if(t.PolyTyp==e.PolyTyp)if(this.IsEvenOddFillType(t)){var a=t.WindCnt;t.WindCnt=e.WindCnt,e.WindCnt=a}else t.WindCnt+e.WindDelta===0?t.WindCnt=-t.WindCnt:t.WindCnt+=e.WindDelta,e.WindCnt-t.WindDelta==0?e.WindCnt=-e.WindCnt:e.WindCnt-=t.WindDelta;else this.IsEvenOddFillType(e)?t.WindCnt2=0===t.WindCnt2?1:0:t.WindCnt2+=e.WindDelta,this.IsEvenOddFillType(t)?e.WindCnt2=0===e.WindCnt2?1:0:e.WindCnt2-=t.WindDelta;var s,u,l,f,c,h;switch(t.PolyTyp==n.PolyType.ptSubject?(s=this.m_SubjFillType,l=this.m_ClipFillType):(s=this.m_ClipFillType,l=this.m_SubjFillType),e.PolyTyp==n.PolyType.ptSubject?(u=this.m_SubjFillType,f=this.m_ClipFillType):(u=this.m_ClipFillType,f=this.m_SubjFillType),s){case n.PolyFillType.pftPositive:c=t.WindCnt;break;case n.PolyFillType.pftNegative:c=-t.WindCnt;break;default:c=Math.abs(t.WindCnt)}switch(u){case n.PolyFillType.pftPositive:h=e.WindCnt;break;case n.PolyFillType.pftNegative:h=-e.WindCnt;break;default:h=Math.abs(e.WindCnt)}if(i&&o)0!=c&&1!=c||0!=h&&1!=h||t.PolyTyp!=e.PolyTyp&&this.m_ClipType!=n.ClipType.ctXor?this.AddLocalMaxPoly(t,e,r):(this.AddOutPt(t,r),this.AddOutPt(e,r),n.Clipper.SwapSides(t,e),n.Clipper.SwapPolyIndexes(t,e));else if(i)0!==h&&1!=h||(this.AddOutPt(t,r),n.Clipper.SwapSides(t,e),n.Clipper.SwapPolyIndexes(t,e));else if(o)0!==c&&1!=c||(this.AddOutPt(e,r),n.Clipper.SwapSides(t,e),n.Clipper.SwapPolyIndexes(t,e));else if(!(0!=c&&1!=c||0!=h&&1!=h)){var p,d;switch(l){case n.PolyFillType.pftPositive:p=t.WindCnt2;break;case n.PolyFillType.pftNegative:p=-t.WindCnt2;break;default:p=Math.abs(t.WindCnt2)}switch(f){case n.PolyFillType.pftPositive:d=e.WindCnt2;break;case n.PolyFillType.pftNegative:d=-e.WindCnt2;break;default:d=Math.abs(e.WindCnt2)}if(t.PolyTyp!=e.PolyTyp)this.AddLocalMinPoly(t,e,r);else if(1==c&&1==h)switch(this.m_ClipType){case n.ClipType.ctIntersection:p>0&&d>0&&this.AddLocalMinPoly(t,e,r);break;case n.ClipType.ctUnion:p<=0&&d<=0&&this.AddLocalMinPoly(t,e,r);break;case n.ClipType.ctDifference:(t.PolyTyp==n.PolyType.ptClip&&p>0&&d>0||t.PolyTyp==n.PolyType.ptSubject&&p<=0&&d<=0)&&this.AddLocalMinPoly(t,e,r);break;case n.ClipType.ctXor:this.AddLocalMinPoly(t,e,r)}else n.Clipper.SwapSides(t,e)}}else{if(0==t.WindDelta&&0==e.WindDelta)return;t.PolyTyp==e.PolyTyp&&t.WindDelta!=e.WindDelta&&this.m_ClipType==n.ClipType.ctUnion?0===t.WindDelta?o&&(this.AddOutPt(t,r),i&&(t.OutIdx=-1)):i&&(this.AddOutPt(e,r),o&&(e.OutIdx=-1)):t.PolyTyp!=e.PolyTyp&&(0!==t.WindDelta||1!=Math.abs(e.WindCnt)||this.m_ClipType==n.ClipType.ctUnion&&0!==e.WindCnt2?0!==e.WindDelta||1!=Math.abs(t.WindCnt)||this.m_ClipType==n.ClipType.ctUnion&&0!==t.WindCnt2||(this.AddOutPt(e,r),o&&(e.OutIdx=-1)):(this.AddOutPt(t,r),i&&(t.OutIdx=-1)))}},n.Clipper.prototype.DeleteFromAEL=function(t){var e=t.PrevInAEL,n=t.NextInAEL;null===e&&null===n&&t!=this.m_ActiveEdges||(null!==e?e.NextInAEL=n:this.m_ActiveEdges=n,null!==n&&(n.PrevInAEL=e),t.NextInAEL=null,t.PrevInAEL=null)},n.Clipper.prototype.DeleteFromSEL=function(t){var e=t.PrevInSEL,n=t.NextInSEL;null===e&&null===n&&t!=this.m_SortedEdges||(null!==e?e.NextInSEL=n:this.m_SortedEdges=n,null!==n&&(n.PrevInSEL=e),t.NextInSEL=null,t.PrevInSEL=null)},n.Clipper.prototype.UpdateEdgeIntoAEL=function(t){null===t.NextInLML&&n.Error("UpdateEdgeIntoAEL: invalid call");var e=t.PrevInAEL,r=t.NextInAEL;return t.NextInLML.OutIdx=t.OutIdx,null!==e?e.NextInAEL=t.NextInLML:this.m_ActiveEdges=t.NextInLML,null!==r&&(r.PrevInAEL=t.NextInLML),t.NextInLML.Side=t.Side,t.NextInLML.WindDelta=t.WindDelta,t.NextInLML.WindCnt=t.WindCnt,t.NextInLML.WindCnt2=t.WindCnt2,(t=t.NextInLML).Curr.X=t.Bot.X,t.Curr.Y=t.Bot.Y,n.use_xyz&&(t.Curr.Z=t.Bot.Z),t.PrevInAEL=e,t.NextInAEL=r,n.ClipperBase.IsHorizontal(t)||this.InsertScanbeam(t.Top.Y),t},n.Clipper.prototype.ProcessHorizontals=function(t){for(var e=this.m_SortedEdges;null!==e;)this.DeleteFromSEL(e),this.ProcessHorizontal(e,t),e=this.m_SortedEdges},n.Clipper.prototype.GetHorzDirection=function(t,e){t.Bot.X<t.Top.X?(e.Left=t.Bot.X,e.Right=t.Top.X,e.Dir=n.Direction.dLeftToRight):(e.Left=t.Top.X,e.Right=t.Bot.X,e.Dir=n.Direction.dRightToLeft)},n.Clipper.prototype.ProcessHorizontal=function(t,e){var r={Dir:null,Left:null,Right:null};this.GetHorzDirection(t,r);for(var i=r.Dir,o=r.Left,a=r.Right,s=t,u=null;null!==s.NextInLML&&n.ClipperBase.IsHorizontal(s.NextInLML);)s=s.NextInLML;for(null===s.NextInLML&&(u=this.GetMaximaPair(s));;){for(var l=t==s,f=this.GetNextInAEL(t,i);null!==f&&!(f.Curr.X==t.Top.X&&null!==t.NextInLML&&f.Dx<t.NextInLML.Dx);){var c=this.GetNextInAEL(f,i);if(i==n.Direction.dLeftToRight&&f.Curr.X<=a||i==n.Direction.dRightToLeft&&f.Curr.X>=o){if(f==u&&l){if(t.OutIdx>=0){for(var h=this.AddOutPt(t,t.Top),p=this.m_SortedEdges;null!==p;){if(p.OutIdx>=0&&this.HorzSegmentsOverlap(t.Bot.X,t.Top.X,p.Bot.X,p.Top.X)){var d=this.AddOutPt(p,p.Bot);this.AddJoin(d,h,p.Top)}p=p.NextInSEL}this.AddGhostJoin(h,t.Bot),this.AddLocalMaxPoly(t,u,t.Top)}return this.DeleteFromAEL(t),void this.DeleteFromAEL(u)}if(i==n.Direction.dLeftToRight){var m=new n.IntPoint(f.Curr.X,t.Curr.Y);this.IntersectEdges(t,f,m)}else{m=new n.IntPoint(f.Curr.X,t.Curr.Y);this.IntersectEdges(f,t,m)}this.SwapPositionsInAEL(t,f)}else if(i==n.Direction.dLeftToRight&&f.Curr.X>=a||i==n.Direction.dRightToLeft&&f.Curr.X<=o)break;f=c}if(null===t.NextInLML||!n.ClipperBase.IsHorizontal(t.NextInLML))break;(t=this.UpdateEdgeIntoAEL(t)).OutIdx>=0&&this.AddOutPt(t,t.Bot);r={Dir:i,Left:o,Right:a};this.GetHorzDirection(t,r),i=r.Dir,o=r.Left,a=r.Right}if(null!==t.NextInLML)if(t.OutIdx>=0){h=this.AddOutPt(t,t.Top);if(e&&this.AddGhostJoin(h,t.Bot),0===(t=this.UpdateEdgeIntoAEL(t)).WindDelta)return;var v=t.PrevInAEL;c=t.NextInAEL;if(null!==v&&v.Curr.X==t.Bot.X&&v.Curr.Y==t.Bot.Y&&0!==v.WindDelta&&v.OutIdx>=0&&v.Curr.Y>v.Top.Y&&n.ClipperBase.SlopesEqual(t,v,this.m_UseFullRange)){d=this.AddOutPt(v,t.Bot);this.AddJoin(h,d,t.Top)}else if(null!==c&&c.Curr.X==t.Bot.X&&c.Curr.Y==t.Bot.Y&&0!==c.WindDelta&&c.OutIdx>=0&&c.Curr.Y>c.Top.Y&&n.ClipperBase.SlopesEqual(t,c,this.m_UseFullRange)){d=this.AddOutPt(c,t.Bot);this.AddJoin(h,d,t.Top)}}else t=this.UpdateEdgeIntoAEL(t);else t.OutIdx>=0&&this.AddOutPt(t,t.Top),this.DeleteFromAEL(t)},n.Clipper.prototype.GetNextInAEL=function(t,e){return e==n.Direction.dLeftToRight?t.NextInAEL:t.PrevInAEL},n.Clipper.prototype.IsMinima=function(t){return null!==t&&t.Prev.NextInLML!=t&&t.Next.NextInLML!=t},n.Clipper.prototype.IsMaxima=function(t,e){return null!==t&&t.Top.Y==e&&null===t.NextInLML},n.Clipper.prototype.IsIntermediate=function(t,e){return t.Top.Y==e&&null!==t.NextInLML},n.Clipper.prototype.GetMaximaPair=function(t){var e=null;return n.IntPoint.op_Equality(t.Next.Top,t.Top)&&null===t.Next.NextInLML?e=t.Next:n.IntPoint.op_Equality(t.Prev.Top,t.Top)&&null===t.Prev.NextInLML&&(e=t.Prev),null===e||-2!=e.OutIdx&&(e.NextInAEL!=e.PrevInAEL||n.ClipperBase.IsHorizontal(e))?e:null},n.Clipper.prototype.ProcessIntersections=function(t){if(null==this.m_ActiveEdges)return!0;try{if(this.BuildIntersectList(t),0==this.m_IntersectList.length)return!0;if(1!=this.m_IntersectList.length&&!this.FixupIntersectionOrder())return!1;this.ProcessIntersectList()}catch(t){this.m_SortedEdges=null,this.m_IntersectList.length=0,n.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},n.Clipper.prototype.BuildIntersectList=function(t){if(null!==this.m_ActiveEdges){var e=this.m_ActiveEdges;for(this.m_SortedEdges=e;null!==e;)e.PrevInSEL=e.PrevInAEL,e.NextInSEL=e.NextInAEL,e.Curr.X=n.Clipper.TopX(e,t),e=e.NextInAEL;for(var r=!0;r&&null!==this.m_SortedEdges;){for(r=!1,e=this.m_SortedEdges;null!==e.NextInSEL;){var i=e.NextInSEL,o=new n.IntPoint;if(e.Curr.X>i.Curr.X){this.IntersectPoint(e,i,o);var a=new n.IntersectNode;a.Edge1=e,a.Edge2=i,a.Pt.X=o.X,a.Pt.Y=o.Y,n.use_xyz&&(a.Pt.Z=o.Z),this.m_IntersectList.push(a),this.SwapPositionsInSEL(e,i),r=!0}else e=i}if(null===e.PrevInSEL)break;e.PrevInSEL.NextInSEL=null}this.m_SortedEdges=null}},n.Clipper.prototype.EdgesAdjacent=function(t){return t.Edge1.NextInSEL==t.Edge2||t.Edge1.PrevInSEL==t.Edge2},n.Clipper.IntersectNodeSort=function(t,e){return e.Pt.Y-t.Pt.Y},n.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var t=this.m_IntersectList.length,e=0;e<t;e++){if(!this.EdgesAdjacent(this.m_IntersectList[e])){for(var n=e+1;n<t&&!this.EdgesAdjacent(this.m_IntersectList[n]);)n++;if(n==t)return!1;var r=this.m_IntersectList[e];this.m_IntersectList[e]=this.m_IntersectList[n],this.m_IntersectList[n]=r}this.SwapPositionsInSEL(this.m_IntersectList[e].Edge1,this.m_IntersectList[e].Edge2)}return!0},n.Clipper.prototype.ProcessIntersectList=function(){for(var t=0,e=this.m_IntersectList.length;t<e;t++){var n=this.m_IntersectList[t];this.IntersectEdges(n.Edge1,n.Edge2,n.Pt),this.SwapPositionsInAEL(n.Edge1,n.Edge2)}this.m_IntersectList.length=0};a.msie?n.Clipper.Round=function(t){return t<0?Math.ceil(t-.5):Math.round(t)}:a.chromium?n.Clipper.Round=function(t){return t<0?-Math.round(Math.abs(t)):Math.round(t)}:a.safari?n.Clipper.Round=function(t){return t<0?(t-=.5)<-2147483648?Math.ceil(t):0|t:(t+=.5)>2147483647?Math.floor(t):0|t}:n.Clipper.Round=function(t){return t<0?Math.ceil(t-.5):Math.floor(t+.5)},n.Clipper.TopX=function(t,e){return e==t.Top.Y?t.Top.X:t.Bot.X+n.Clipper.Round(t.Dx*(e-t.Bot.Y))},n.Clipper.prototype.IntersectPoint=function(t,e,r){var i,o;if(r.X=0,r.Y=0,t.Dx==e.Dx)return r.Y=t.Curr.Y,void(r.X=n.Clipper.TopX(t,r.Y));if(0===t.Delta.X)r.X=t.Bot.X,n.ClipperBase.IsHorizontal(e)?r.Y=e.Bot.Y:(o=e.Bot.Y-e.Bot.X/e.Dx,r.Y=n.Clipper.Round(r.X/e.Dx+o));else if(0===e.Delta.X)r.X=e.Bot.X,n.ClipperBase.IsHorizontal(t)?r.Y=t.Bot.Y:(i=t.Bot.Y-t.Bot.X/t.Dx,r.Y=n.Clipper.Round(r.X/t.Dx+i));else{i=t.Bot.X-t.Bot.Y*t.Dx;var a=((o=e.Bot.X-e.Bot.Y*e.Dx)-i)/(t.Dx-e.Dx);r.Y=n.Clipper.Round(a),Math.abs(t.Dx)<Math.abs(e.Dx)?r.X=n.Clipper.Round(t.Dx*a+i):r.X=n.Clipper.Round(e.Dx*a+o)}if(r.Y<t.Top.Y||r.Y<e.Top.Y){if(t.Top.Y>e.Top.Y)return r.Y=t.Top.Y,r.X=n.Clipper.TopX(e,t.Top.Y),r.X<t.Top.X;r.Y=e.Top.Y,Math.abs(t.Dx)<Math.abs(e.Dx)?r.X=n.Clipper.TopX(t,r.Y):r.X=n.Clipper.TopX(e,r.Y)}r.Y>t.Curr.Y&&(r.Y=t.Curr.Y,Math.abs(t.Dx)>Math.abs(e.Dx)?r.X=n.Clipper.TopX(e,r.Y):r.X=n.Clipper.TopX(t,r.Y))},n.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(t){for(var e=this.m_ActiveEdges;null!==e;){var r=this.IsMaxima(e,t);if(r){var i=this.GetMaximaPair(e);r=null===i||!n.ClipperBase.IsHorizontal(i)}if(r){var o=e.PrevInAEL;this.DoMaxima(e),e=null===o?this.m_ActiveEdges:o.NextInAEL}else{if(this.IsIntermediate(e,t)&&n.ClipperBase.IsHorizontal(e.NextInLML)?((e=this.UpdateEdgeIntoAEL(e)).OutIdx>=0&&this.AddOutPt(e,e.Bot),this.AddEdgeToSEL(e)):(e.Curr.X=n.Clipper.TopX(e,t),e.Curr.Y=t),this.StrictlySimple){o=e.PrevInAEL;if(e.OutIdx>=0&&0!==e.WindDelta&&null!==o&&o.OutIdx>=0&&o.Curr.X==e.Curr.X&&0!==o.WindDelta){var a=new n.IntPoint(e.Curr);n.use_xyz&&this.SetZ(a,o,e);var s=this.AddOutPt(o,a),u=this.AddOutPt(e,a);this.AddJoin(s,u,a)}}e=e.NextInAEL}}for(this.ProcessHorizontals(!0),e=this.m_ActiveEdges;null!==e;){if(this.IsIntermediate(e,t)){s=null;e.OutIdx>=0&&(s=this.AddOutPt(e,e.Top));o=(e=this.UpdateEdgeIntoAEL(e)).PrevInAEL;var l=e.NextInAEL;if(null!==o&&o.Curr.X==e.Bot.X&&o.Curr.Y==e.Bot.Y&&null!==s&&o.OutIdx>=0&&o.Curr.Y>o.Top.Y&&n.ClipperBase.SlopesEqual(e,o,this.m_UseFullRange)&&0!==e.WindDelta&&0!==o.WindDelta){u=this.AddOutPt(o,e.Bot);this.AddJoin(s,u,e.Top)}else if(null!==l&&l.Curr.X==e.Bot.X&&l.Curr.Y==e.Bot.Y&&null!==s&&l.OutIdx>=0&&l.Curr.Y>l.Top.Y&&n.ClipperBase.SlopesEqual(e,l,this.m_UseFullRange)&&0!==e.WindDelta&&0!==l.WindDelta){u=this.AddOutPt(l,e.Bot);this.AddJoin(s,u,e.Top)}}e=e.NextInAEL}},n.Clipper.prototype.DoMaxima=function(t){var e=this.GetMaximaPair(t);if(null===e)return t.OutIdx>=0&&this.AddOutPt(t,t.Top),void this.DeleteFromAEL(t);for(var r=t.NextInAEL;null!==r&&r!=e;)this.IntersectEdges(t,r,t.Top),this.SwapPositionsInAEL(t,r),r=t.NextInAEL;-1==t.OutIdx&&-1==e.OutIdx?(this.DeleteFromAEL(t),this.DeleteFromAEL(e)):t.OutIdx>=0&&e.OutIdx>=0?(t.OutIdx>=0&&this.AddLocalMaxPoly(t,e,t.Top),this.DeleteFromAEL(t),this.DeleteFromAEL(e)):n.use_lines&&0===t.WindDelta?(t.OutIdx>=0&&(this.AddOutPt(t,t.Top),t.OutIdx=-1),this.DeleteFromAEL(t),e.OutIdx>=0&&(this.AddOutPt(e,t.Top),e.OutIdx=-1),this.DeleteFromAEL(e)):n.Error("DoMaxima error")},n.Clipper.ReversePaths=function(t){for(var e=0,n=t.length;e<n;e++)t[e].reverse()},n.Clipper.Orientation=function(t){return n.Clipper.Area(t)>=0},n.Clipper.prototype.PointCount=function(t){if(null===t)return 0;var e=0,n=t;do{e++,n=n.Next}while(n!=t);return e},n.Clipper.prototype.BuildResult=function(t){n.Clear(t);for(var e=0,r=this.m_PolyOuts.length;e<r;e++){var i=this.m_PolyOuts[e];if(null!==i.Pts){var o=i.Pts.Prev,a=this.PointCount(o);if(!(a<2)){for(var s=new Array(a),u=0;u<a;u++)s[u]=o.Pt,o=o.Prev;t.push(s)}}}},n.Clipper.prototype.BuildResult2=function(t){t.Clear();for(var e=0,r=this.m_PolyOuts.length;e<r;e++){var i=this.m_PolyOuts[e],o=this.PointCount(i.Pts);if(!(i.IsOpen&&o<2||!i.IsOpen&&o<3)){this.FixHoleLinkage(i);var a=new n.PolyNode;t.m_AllPolys.push(a),i.PolyNode=a,a.m_polygon.length=o;for(var s=i.Pts.Prev,u=0;u<o;u++)a.m_polygon[u]=s.Pt,s=s.Prev}}for(e=0,r=this.m_PolyOuts.length;e<r;e++){null!==(i=this.m_PolyOuts[e]).PolyNode&&(i.IsOpen?(i.PolyNode.IsOpen=!0,t.AddChild(i.PolyNode)):null!==i.FirstLeft&&null!=i.FirstLeft.PolyNode?i.FirstLeft.PolyNode.AddChild(i.PolyNode):t.AddChild(i.PolyNode))}},n.Clipper.prototype.FixupOutPolygon=function(t){var e=null;t.BottomPt=null;for(var r=t.Pts;;){if(r.Prev==r||r.Prev==r.Next)return void(t.Pts=null);if(n.IntPoint.op_Equality(r.Pt,r.Next.Pt)||n.IntPoint.op_Equality(r.Pt,r.Prev.Pt)||n.ClipperBase.SlopesEqual(r.Prev.Pt,r.Pt,r.Next.Pt,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(r.Prev.Pt,r.Pt,r.Next.Pt)))e=null,r.Prev.Next=r.Next,r.Next.Prev=r.Prev,r=r.Prev;else{if(r==e)break;null===e&&(e=r),r=r.Next}}t.Pts=r},n.Clipper.prototype.DupOutPt=function(t,e){var r=new n.OutPt;return r.Pt.X=t.Pt.X,r.Pt.Y=t.Pt.Y,n.use_xyz&&(r.Pt.Z=t.Pt.Z),r.Idx=t.Idx,e?(r.Next=t.Next,r.Prev=t,t.Next.Prev=r,t.Next=r):(r.Prev=t.Prev,r.Next=t,t.Prev.Next=r,t.Prev=r),r},n.Clipper.prototype.GetOverlap=function(t,e,n,r,i){return t<e?n<r?(i.Left=Math.max(t,n),i.Right=Math.min(e,r)):(i.Left=Math.max(t,r),i.Right=Math.min(e,n)):n<r?(i.Left=Math.max(e,n),i.Right=Math.min(t,r)):(i.Left=Math.max(e,r),i.Right=Math.min(t,n)),i.Left<i.Right},n.Clipper.prototype.JoinHorz=function(t,e,r,i,o,a){var s=t.Pt.X>e.Pt.X?n.Direction.dRightToLeft:n.Direction.dLeftToRight,u=r.Pt.X>i.Pt.X?n.Direction.dRightToLeft:n.Direction.dLeftToRight;if(s==u)return!1;if(s==n.Direction.dLeftToRight){for(;t.Next.Pt.X<=o.X&&t.Next.Pt.X>=t.Pt.X&&t.Next.Pt.Y==o.Y;)t=t.Next;a&&t.Pt.X!=o.X&&(t=t.Next),e=this.DupOutPt(t,!a),n.IntPoint.op_Inequality(e.Pt,o)&&((t=e).Pt.X=o.X,t.Pt.Y=o.Y,n.use_xyz&&(t.Pt.Z=o.Z),e=this.DupOutPt(t,!a))}else{for(;t.Next.Pt.X>=o.X&&t.Next.Pt.X<=t.Pt.X&&t.Next.Pt.Y==o.Y;)t=t.Next;a||t.Pt.X==o.X||(t=t.Next),e=this.DupOutPt(t,a),n.IntPoint.op_Inequality(e.Pt,o)&&((t=e).Pt.X=o.X,t.Pt.Y=o.Y,n.use_xyz&&(t.Pt.Z=o.Z),e=this.DupOutPt(t,a))}if(u==n.Direction.dLeftToRight){for(;r.Next.Pt.X<=o.X&&r.Next.Pt.X>=r.Pt.X&&r.Next.Pt.Y==o.Y;)r=r.Next;a&&r.Pt.X!=o.X&&(r=r.Next),i=this.DupOutPt(r,!a),n.IntPoint.op_Inequality(i.Pt,o)&&((r=i).Pt.X=o.X,r.Pt.Y=o.Y,n.use_xyz&&(r.Pt.Z=o.Z),i=this.DupOutPt(r,!a))}else{for(;r.Next.Pt.X>=o.X&&r.Next.Pt.X<=r.Pt.X&&r.Next.Pt.Y==o.Y;)r=r.Next;a||r.Pt.X==o.X||(r=r.Next),i=this.DupOutPt(r,a),n.IntPoint.op_Inequality(i.Pt,o)&&((r=i).Pt.X=o.X,r.Pt.Y=o.Y,n.use_xyz&&(r.Pt.Z=o.Z),i=this.DupOutPt(r,a))}return s==n.Direction.dLeftToRight==a?(t.Prev=r,r.Next=t,e.Next=i,i.Prev=e):(t.Next=r,r.Prev=t,e.Prev=i,i.Next=e),!0},n.Clipper.prototype.JoinPoints=function(t,e,r){var i=t.OutPt1,o=new n.OutPt,a=t.OutPt2,s=new n.OutPt,u=t.OutPt1.Pt.Y==t.OffPt.Y;if(u&&n.IntPoint.op_Equality(t.OffPt,t.OutPt1.Pt)&&n.IntPoint.op_Equality(t.OffPt,t.OutPt2.Pt)){if(e!=r)return!1;for(o=t.OutPt1.Next;o!=i&&n.IntPoint.op_Equality(o.Pt,t.OffPt);)o=o.Next;var l=o.Pt.Y>t.OffPt.Y;for(s=t.OutPt2.Next;s!=a&&n.IntPoint.op_Equality(s.Pt,t.OffPt);)s=s.Next;return l!=s.Pt.Y>t.OffPt.Y&&(l?(o=this.DupOutPt(i,!1),s=this.DupOutPt(a,!0),i.Prev=a,a.Next=i,o.Next=s,s.Prev=o,t.OutPt1=i,t.OutPt2=o,!0):(o=this.DupOutPt(i,!0),s=this.DupOutPt(a,!1),i.Next=a,a.Prev=i,o.Prev=s,s.Next=o,t.OutPt1=i,t.OutPt2=o,!0))}if(u){for(o=i;i.Prev.Pt.Y==i.Pt.Y&&i.Prev!=o&&i.Prev!=a;)i=i.Prev;for(;o.Next.Pt.Y==o.Pt.Y&&o.Next!=i&&o.Next!=a;)o=o.Next;if(o.Next==i||o.Next==a)return!1;for(s=a;a.Prev.Pt.Y==a.Pt.Y&&a.Prev!=s&&a.Prev!=o;)a=a.Prev;for(;s.Next.Pt.Y==s.Pt.Y&&s.Next!=a&&s.Next!=i;)s=s.Next;if(s.Next==a||s.Next==i)return!1;var f={Left:null,Right:null};if(!this.GetOverlap(i.Pt.X,o.Pt.X,a.Pt.X,s.Pt.X,f))return!1;var c,h=f.Left,p=f.Right,d=new n.IntPoint;return i.Pt.X>=h&&i.Pt.X<=p?(d.X=i.Pt.X,d.Y=i.Pt.Y,n.use_xyz&&(d.Z=i.Pt.Z),c=i.Pt.X>o.Pt.X):a.Pt.X>=h&&a.Pt.X<=p?(d.X=a.Pt.X,d.Y=a.Pt.Y,n.use_xyz&&(d.Z=a.Pt.Z),c=a.Pt.X>s.Pt.X):o.Pt.X>=h&&o.Pt.X<=p?(d.X=o.Pt.X,d.Y=o.Pt.Y,n.use_xyz&&(d.Z=o.Pt.Z),c=o.Pt.X>i.Pt.X):(d.X=s.Pt.X,d.Y=s.Pt.Y,n.use_xyz&&(d.Z=s.Pt.Z),c=s.Pt.X>a.Pt.X),t.OutPt1=i,t.OutPt2=a,this.JoinHorz(i,o,a,s,d,c)}for(o=i.Next;n.IntPoint.op_Equality(o.Pt,i.Pt)&&o!=i;)o=o.Next;var m=o.Pt.Y>i.Pt.Y||!n.ClipperBase.SlopesEqual(i.Pt,o.Pt,t.OffPt,this.m_UseFullRange);if(m){for(o=i.Prev;n.IntPoint.op_Equality(o.Pt,i.Pt)&&o!=i;)o=o.Prev;if(o.Pt.Y>i.Pt.Y||!n.ClipperBase.SlopesEqual(i.Pt,o.Pt,t.OffPt,this.m_UseFullRange))return!1}for(s=a.Next;n.IntPoint.op_Equality(s.Pt,a.Pt)&&s!=a;)s=s.Next;var v=s.Pt.Y>a.Pt.Y||!n.ClipperBase.SlopesEqual(a.Pt,s.Pt,t.OffPt,this.m_UseFullRange);if(v){for(s=a.Prev;n.IntPoint.op_Equality(s.Pt,a.Pt)&&s!=a;)s=s.Prev;if(s.Pt.Y>a.Pt.Y||!n.ClipperBase.SlopesEqual(a.Pt,s.Pt,t.OffPt,this.m_UseFullRange))return!1}return o!=i&&s!=a&&o!=s&&(e!=r||m!=v)&&(m?(o=this.DupOutPt(i,!1),s=this.DupOutPt(a,!0),i.Prev=a,a.Next=i,o.Next=s,s.Prev=o,t.OutPt1=i,t.OutPt2=o,!0):(o=this.DupOutPt(i,!0),s=this.DupOutPt(a,!1),i.Next=a,a.Prev=i,o.Prev=s,s.Next=o,t.OutPt1=i,t.OutPt2=o,!0))},n.Clipper.GetBounds=function(t){for(var e=0,r=t.length;e<r&&0==t[e].length;)e++;if(e==r)return new n.IntRect(0,0,0,0);var i=new n.IntRect;for(i.left=t[e][0].X,i.right=i.left,i.top=t[e][0].Y,i.bottom=i.top;e<r;e++)for(var o=0,a=t[e].length;o<a;o++)t[e][o].X<i.left?i.left=t[e][o].X:t[e][o].X>i.right&&(i.right=t[e][o].X),t[e][o].Y<i.top?i.top=t[e][o].Y:t[e][o].Y>i.bottom&&(i.bottom=t[e][o].Y);return i},n.Clipper.prototype.GetBounds2=function(t){var e=t,r=new n.IntRect;for(r.left=t.Pt.X,r.right=t.Pt.X,r.top=t.Pt.Y,r.bottom=t.Pt.Y,t=t.Next;t!=e;)t.Pt.X<r.left&&(r.left=t.Pt.X),t.Pt.X>r.right&&(r.right=t.Pt.X),t.Pt.Y<r.top&&(r.top=t.Pt.Y),t.Pt.Y>r.bottom&&(r.bottom=t.Pt.Y),t=t.Next;return r},n.Clipper.PointInPolygon=function(t,e){var n=0,r=e.length;if(r<3)return 0;for(var i=e[0],o=1;o<=r;++o){var a=o==r?e[0]:e[o];if(a.Y==t.Y&&(a.X==t.X||i.Y==t.Y&&a.X>t.X==i.X<t.X))return-1;if(i.Y<t.Y!=a.Y<t.Y)if(i.X>=t.X)if(a.X>t.X)n=1-n;else{if(0==(s=(i.X-t.X)*(a.Y-t.Y)-(a.X-t.X)*(i.Y-t.Y)))return-1;s>0==a.Y>i.Y&&(n=1-n)}else if(a.X>t.X){var s;if(0==(s=(i.X-t.X)*(a.Y-t.Y)-(a.X-t.X)*(i.Y-t.Y)))return-1;s>0==a.Y>i.Y&&(n=1-n)}i=a}return n},n.Clipper.prototype.PointInPolygon=function(t,e){var n=0,r=e,i=t.X,o=t.Y,a=e.Pt.X,s=e.Pt.Y;do{var u=(e=e.Next).Pt.X,l=e.Pt.Y;if(l==o&&(u==i||s==o&&u>i==a<i))return-1;if(s<o!=l<o)if(a>=i)if(u>i)n=1-n;else{if(0==(f=(a-i)*(l-o)-(u-i)*(s-o)))return-1;f>0==l>s&&(n=1-n)}else if(u>i){var f;if(0==(f=(a-i)*(l-o)-(u-i)*(s-o)))return-1;f>0==l>s&&(n=1-n)}a=u,s=l}while(r!=e);return n},n.Clipper.prototype.Poly2ContainsPoly1=function(t,e){var n=t;do{var r=this.PointInPolygon(n.Pt,e);if(r>=0)return r>0;n=n.Next}while(n!=t);return!0},n.Clipper.prototype.FixupFirstLefts1=function(t,e){for(var n=0,r=this.m_PolyOuts.length;n<r;n++){var i=this.m_PolyOuts[n];if(null!=i.Pts&&null!=i.FirstLeft)this.ParseFirstLeft(i.FirstLeft)==t&&this.Poly2ContainsPoly1(i.Pts,e.Pts)&&(i.FirstLeft=e)}},n.Clipper.prototype.FixupFirstLefts2=function(t,e){for(var n=0,r=this.m_PolyOuts,i=r.length,o=r[n];n<i;o=r[++n])o.FirstLeft==t&&(o.FirstLeft=e)},n.Clipper.ParseFirstLeft=function(t){for(;null!=t&&null==t.Pts;)t=t.FirstLeft;return t},n.Clipper.prototype.JoinCommonEdges=function(){for(var t=0,e=this.m_Joins.length;t<e;t++){var r,i=this.m_Joins[t],o=this.GetOutRec(i.OutPt1.Idx),a=this.GetOutRec(i.OutPt2.Idx);if(null!=o.Pts&&null!=a.Pts)if(r=o==a?o:this.Param1RightOfParam2(o,a)?a:this.Param1RightOfParam2(a,o)?o:this.GetLowermostRec(o,a),this.JoinPoints(i,o,a))if(o==a){if(o.Pts=i.OutPt1,o.BottomPt=null,(a=this.CreateOutRec()).Pts=i.OutPt2,this.UpdateOutPtIdxs(a),this.m_UsingPolyTree)for(var s=0,u=this.m_PolyOuts.length;s<u-1;s++){var l=this.m_PolyOuts[s];null!=l.Pts&&n.Clipper.ParseFirstLeft(l.FirstLeft)==o&&l.IsHole!=o.IsHole&&(this.Poly2ContainsPoly1(l.Pts,i.OutPt2)&&(l.FirstLeft=a))}this.Poly2ContainsPoly1(a.Pts,o.Pts)?(a.IsHole=!o.IsHole,a.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(a,o),(a.IsHole^this.ReverseSolution)==this.Area(a)>0&&this.ReversePolyPtLinks(a.Pts)):this.Poly2ContainsPoly1(o.Pts,a.Pts)?(a.IsHole=o.IsHole,o.IsHole=!a.IsHole,a.FirstLeft=o.FirstLeft,o.FirstLeft=a,this.m_UsingPolyTree&&this.FixupFirstLefts2(o,a),(o.IsHole^this.ReverseSolution)==this.Area(o)>0&&this.ReversePolyPtLinks(o.Pts)):(a.IsHole=o.IsHole,a.FirstLeft=o.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(o,a))}else a.Pts=null,a.BottomPt=null,a.Idx=o.Idx,o.IsHole=r.IsHole,r==a&&(o.FirstLeft=a.FirstLeft),a.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(a,o)}},n.Clipper.prototype.UpdateOutPtIdxs=function(t){var e=t.Pts;do{e.Idx=t.Idx,e=e.Prev}while(e!=t.Pts)},n.Clipper.prototype.DoSimplePolygons=function(){for(var t=0;t<this.m_PolyOuts.length;){var e=this.m_PolyOuts[t++],r=e.Pts;if(null!=r&&!e.IsOpen)do{for(var i=r.Next;i!=e.Pts;){if(n.IntPoint.op_Equality(r.Pt,i.Pt)&&i.Next!=r&&i.Prev!=r){var o=r.Prev,a=i.Prev;r.Prev=a,a.Next=r,i.Prev=o,o.Next=i,e.Pts=r;var s=this.CreateOutRec();s.Pts=i,this.UpdateOutPtIdxs(s),this.Poly2ContainsPoly1(s.Pts,e.Pts)?(s.IsHole=!e.IsHole,s.FirstLeft=e,this.m_UsingPolyTree&&this.FixupFirstLefts2(s,e)):this.Poly2ContainsPoly1(e.Pts,s.Pts)?(s.IsHole=e.IsHole,e.IsHole=!s.IsHole,s.FirstLeft=e.FirstLeft,e.FirstLeft=s,this.m_UsingPolyTree&&this.FixupFirstLefts2(e,s)):(s.IsHole=e.IsHole,s.FirstLeft=e.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(e,s)),i=r}i=i.Next}r=r.Next}while(r!=e.Pts)}},n.Clipper.Area=function(t){var e=t.length;if(e<3)return 0;for(var n=0,r=0,i=e-1;r<e;++r)n+=(t[i].X+t[r].X)*(t[i].Y-t[r].Y),i=r;return.5*-n},n.Clipper.prototype.Area=function(t){var e=t.Pts;if(null==e)return 0;var n=0;do{n+=(e.Prev.Pt.X+e.Pt.X)*(e.Prev.Pt.Y-e.Pt.Y),e=e.Next}while(e!=t.Pts);return.5*n},n.Clipper.SimplifyPolygon=function(t,e){var r=new Array,i=new n.Clipper(0);return i.StrictlySimple=!0,i.AddPath(t,n.PolyType.ptSubject,!0),i.Execute(n.ClipType.ctUnion,r,e,e),r},n.Clipper.SimplifyPolygons=function(t,e){void 0===e&&(e=n.PolyFillType.pftEvenOdd);var r=new Array,i=new n.Clipper(0);return i.StrictlySimple=!0,i.AddPaths(t,n.PolyType.ptSubject,!0),i.Execute(n.ClipType.ctUnion,r,e,e),r},n.Clipper.DistanceSqrd=function(t,e){var n=t.X-e.X,r=t.Y-e.Y;return n*n+r*r},n.Clipper.DistanceFromLineSqrd=function(t,e,n){var r=e.Y-n.Y,i=n.X-e.X,o=r*e.X+i*e.Y;return(o=r*t.X+i*t.Y-o)*o/(r*r+i*i)},n.Clipper.SlopesNearCollinear=function(t,e,r,i){return Math.abs(t.X-e.X)>Math.abs(t.Y-e.Y)?t.X>e.X==t.X<r.X?n.Clipper.DistanceFromLineSqrd(t,e,r)<i:e.X>t.X==e.X<r.X?n.Clipper.DistanceFromLineSqrd(e,t,r)<i:n.Clipper.DistanceFromLineSqrd(r,t,e)<i:t.Y>e.Y==t.Y<r.Y?n.Clipper.DistanceFromLineSqrd(t,e,r)<i:e.Y>t.Y==e.Y<r.Y?n.Clipper.DistanceFromLineSqrd(e,t,r)<i:n.Clipper.DistanceFromLineSqrd(r,t,e)<i},n.Clipper.PointsAreClose=function(t,e,n){var r=t.X-e.X,i=t.Y-e.Y;return r*r+i*i<=n},n.Clipper.ExcludeOp=function(t){var e=t.Prev;return e.Next=t.Next,t.Next.Prev=e,e.Idx=0,e},n.Clipper.CleanPolygon=function(t,e){void 0===e&&(e=1.415);var r=t.length;if(0==r)return new Array;for(var i=new Array(r),o=0;o<r;++o)i[o]=new n.OutPt;for(o=0;o<r;++o)i[o].Pt=t[o],i[o].Next=i[(o+1)%r],i[o].Next.Prev=i[o],i[o].Idx=0;for(var a=e*e,s=i[0];0==s.Idx&&s.Next!=s.Prev;)n.Clipper.PointsAreClose(s.Pt,s.Prev.Pt,a)?(s=n.Clipper.ExcludeOp(s),r--):n.Clipper.PointsAreClose(s.Prev.Pt,s.Next.Pt,a)?(n.Clipper.ExcludeOp(s.Next),s=n.Clipper.ExcludeOp(s),r-=2):n.Clipper.SlopesNearCollinear(s.Prev.Pt,s.Pt,s.Next.Pt,a)?(s=n.Clipper.ExcludeOp(s),r--):(s.Idx=1,s=s.Next);r<3&&(r=0);var u=new Array(r);for(o=0;o<r;++o)u[o]=new n.IntPoint(s.Pt),s=s.Next;return i=null,u},n.Clipper.CleanPolygons=function(t,e){for(var r=new Array(t.length),i=0,o=t.length;i<o;i++)r[i]=n.Clipper.CleanPolygon(t[i],e);return r},n.Clipper.Minkowski=function(t,e,r,i){var o=i?1:0,a=t.length,s=e.length,u=new Array;if(r)for(var l=0;l<s;l++){for(var f=new Array(a),c=0,h=t.length,p=t[c];c<h;p=t[++c])f[c]=new n.IntPoint(e[l].X+p.X,e[l].Y+p.Y);u.push(f)}else for(l=0;l<s;l++){for(f=new Array(a),c=0,h=t.length,p=t[c];c<h;p=t[++c])f[c]=new n.IntPoint(e[l].X-p.X,e[l].Y-p.Y);u.push(f)}var d=new Array;for(l=0;l<s-1+o;l++)for(c=0;c<a;c++){var m=new Array;m.push(u[l%s][c%a]),m.push(u[(l+1)%s][c%a]),m.push(u[(l+1)%s][(c+1)%a]),m.push(u[l%s][(c+1)%a]),n.Clipper.Orientation(m)||m.reverse(),d.push(m)}return d},n.Clipper.MinkowskiSum=function(t,e,r){if(e[0]instanceof Array){l=e;for(var i=new n.Paths,o=(s=new n.Clipper,0);o<l.length;++o){var a=n.Clipper.Minkowski(t,l[o],!0,r);if(s.AddPaths(a,n.PolyType.ptSubject,!0),r){u=n.Clipper.TranslatePath(l[o],t[0]);s.AddPath(u,n.PolyType.ptClip,!0)}}return s.Execute(n.ClipType.ctUnion,i,n.PolyFillType.pftNonZero,n.PolyFillType.pftNonZero),i}var s,u=e,l=n.Clipper.Minkowski(t,u,!0,r);return(s=new n.Clipper).AddPaths(l,n.PolyType.ptSubject,!0),s.Execute(n.ClipType.ctUnion,l,n.PolyFillType.pftNonZero,n.PolyFillType.pftNonZero),l},n.Clipper.TranslatePath=function(t,e){for(var r=new n.Path,i=0;i<t.length;i++)r.push(new n.IntPoint(t[i].X+e.X,t[i].Y+e.Y));return r},n.Clipper.MinkowskiDiff=function(t,e){var r=n.Clipper.Minkowski(t,e,!1,!0),i=new n.Clipper;return i.AddPaths(r,n.PolyType.ptSubject,!0),i.Execute(n.ClipType.ctUnion,r,n.PolyFillType.pftNonZero,n.PolyFillType.pftNonZero),r},n.Clipper.PolyTreeToPaths=function(t){var e=new Array;return n.Clipper.AddPolyNodeToPaths(t,n.Clipper.NodeType.ntAny,e),e},n.Clipper.AddPolyNodeToPaths=function(t,e,r){var i=!0;switch(e){case n.Clipper.NodeType.ntOpen:return;case n.Clipper.NodeType.ntClosed:i=!t.IsOpen}t.m_polygon.length>0&&i&&r.push(t.m_polygon);for(var o=0,a=t.Childs(),s=a.length,u=a[o];o<s;u=a[++o])n.Clipper.AddPolyNodeToPaths(u,e,r)},n.Clipper.OpenPathsFromPolyTree=function(t){for(var e=new n.Paths,r=0,i=t.ChildCount();r<i;r++)t.Childs()[r].IsOpen&&e.push(t.Childs()[r].m_polygon);return e},n.Clipper.ClosedPathsFromPolyTree=function(t){var e=new n.Paths;return n.Clipper.AddPolyNodeToPaths(t,n.Clipper.NodeType.ntClosed,e),e},A(n.Clipper,n.ClipperBase),n.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},n.ClipperOffset=function(t,e){void 0===t&&(t=2),void 0===e&&(e=n.ClipperOffset.def_arc_tolerance),this.m_destPolys=new n.Paths,this.m_srcPoly=new n.Path,this.m_destPoly=new n.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new n.IntPoint,this.m_polyNodes=new n.PolyNode,this.MiterLimit=t,this.ArcTolerance=e,this.m_lowest.X=-1},n.ClipperOffset.two_pi=6.28318530717959,n.ClipperOffset.def_arc_tolerance=.25,n.ClipperOffset.prototype.Clear=function(){n.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},n.ClipperOffset.Round=n.Clipper.Round,n.ClipperOffset.prototype.AddPath=function(t,e,r){var i=t.length-1;if(!(i<0)){var o=new n.PolyNode;if(o.m_jointype=e,o.m_endtype=r,r==n.EndType.etClosedLine||r==n.EndType.etClosedPolygon)for(;i>0&&n.IntPoint.op_Equality(t[0],t[i]);)i--;o.m_polygon.push(t[0]);for(var a=0,s=0,u=1;u<=i;u++)n.IntPoint.op_Inequality(o.m_polygon[a],t[u])&&(a++,o.m_polygon.push(t[u]),(t[u].Y>o.m_polygon[s].Y||t[u].Y==o.m_polygon[s].Y&&t[u].X<o.m_polygon[s].X)&&(s=a));if(!(r==n.EndType.etClosedPolygon&&a<2)&&(this.m_polyNodes.AddChild(o),r==n.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new n.IntPoint(this.m_polyNodes.ChildCount()-1,s);else{var l=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(o.m_polygon[s].Y>l.Y||o.m_polygon[s].Y==l.Y&&o.m_polygon[s].X<l.X)&&(this.m_lowest=new n.IntPoint(this.m_polyNodes.ChildCount()-1,s))}}},n.ClipperOffset.prototype.AddPaths=function(t,e,n){for(var r=0,i=t.length;r<i;r++)this.AddPath(t[r],e,n)},n.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!n.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var t=0;t<this.m_polyNodes.ChildCount();t++){((e=this.m_polyNodes.Childs()[t]).m_endtype==n.EndType.etClosedPolygon||e.m_endtype==n.EndType.etClosedLine&&n.Clipper.Orientation(e.m_polygon))&&e.m_polygon.reverse()}else for(t=0;t<this.m_polyNodes.ChildCount();t++){var e;(e=this.m_polyNodes.Childs()[t]).m_endtype!=n.EndType.etClosedLine||n.Clipper.Orientation(e.m_polygon)||e.m_polygon.reverse()}},n.ClipperOffset.GetUnitNormal=function(t,e){var r=e.X-t.X,i=e.Y-t.Y;if(0==r&&0==i)return new n.DoublePoint(0,0);var o=1/Math.sqrt(r*r+i*i);return r*=o,i*=o,new n.DoublePoint(i,-r)},n.ClipperOffset.prototype.DoOffset=function(t){if(this.m_destPolys=new Array,this.m_delta=t,n.ClipperBase.near_zero(t))for(var e=0;e<this.m_polyNodes.ChildCount();e++){(o=this.m_polyNodes.Childs()[e]).m_endtype==n.EndType.etClosedPolygon&&this.m_destPolys.push(o.m_polygon)}else{var r;this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5,r=this.ArcTolerance<=0?n.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(t)*n.ClipperOffset.def_arc_tolerance?Math.abs(t)*n.ClipperOffset.def_arc_tolerance:this.ArcTolerance;var i=3.14159265358979/Math.acos(1-r/Math.abs(t));this.m_sin=Math.sin(n.ClipperOffset.two_pi/i),this.m_cos=Math.cos(n.ClipperOffset.two_pi/i),this.m_StepsPerRad=i/n.ClipperOffset.two_pi,t<0&&(this.m_sin=-this.m_sin);for(e=0;e<this.m_polyNodes.ChildCount();e++){var o=this.m_polyNodes.Childs()[e];this.m_srcPoly=o.m_polygon;var a=this.m_srcPoly.length;if(!(0==a||t<=0&&(a<3||o.m_endtype!=n.EndType.etClosedPolygon)))if(this.m_destPoly=new Array,1!=a){this.m_normals.length=0;for(h=0;h<a-1;h++)this.m_normals.push(n.ClipperOffset.GetUnitNormal(this.m_srcPoly[h],this.m_srcPoly[h+1]));if(o.m_endtype==n.EndType.etClosedLine||o.m_endtype==n.EndType.etClosedPolygon?this.m_normals.push(n.ClipperOffset.GetUnitNormal(this.m_srcPoly[a-1],this.m_srcPoly[0])):this.m_normals.push(new n.DoublePoint(this.m_normals[a-2])),o.m_endtype==n.EndType.etClosedPolygon){var s=a-1;for(h=0;h<a;h++)s=this.OffsetPoint(h,s,o.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(o.m_endtype==n.EndType.etClosedLine){for(s=a-1,h=0;h<a;h++)s=this.OffsetPoint(h,s,o.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;var u=this.m_normals[a-1];for(h=a-1;h>0;h--)this.m_normals[h]=new n.DoublePoint(-this.m_normals[h-1].X,-this.m_normals[h-1].Y);this.m_normals[0]=new n.DoublePoint(-u.X,-u.Y),s=0;for(h=a-1;h>=0;h--)s=this.OffsetPoint(h,s,o.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{var l;for(s=0,h=1;h<a-1;++h)s=this.OffsetPoint(h,s,o.m_jointype);if(o.m_endtype==n.EndType.etOpenButt){h=a-1;l=new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[h].X+this.m_normals[h].X*t),n.ClipperOffset.Round(this.m_srcPoly[h].Y+this.m_normals[h].Y*t)),this.m_destPoly.push(l),l=new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[h].X-this.m_normals[h].X*t),n.ClipperOffset.Round(this.m_srcPoly[h].Y-this.m_normals[h].Y*t)),this.m_destPoly.push(l)}else{h=a-1;s=a-2,this.m_sinA=0,this.m_normals[h]=new n.DoublePoint(-this.m_normals[h].X,-this.m_normals[h].Y),o.m_endtype==n.EndType.etOpenSquare?this.DoSquare(h,s):this.DoRound(h,s)}for(h=a-1;h>0;h--)this.m_normals[h]=new n.DoublePoint(-this.m_normals[h-1].X,-this.m_normals[h-1].Y);this.m_normals[0]=new n.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y);for(h=(s=a-1)-1;h>0;--h)s=this.OffsetPoint(h,s,o.m_jointype);o.m_endtype==n.EndType.etOpenButt?(l=new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*t),n.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*t)),this.m_destPoly.push(l),l=new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*t),n.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*t)),this.m_destPoly.push(l)):(s=1,this.m_sinA=0,o.m_endtype==n.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}else{if(o.m_jointype==n.JoinType.jtRound)for(var f=1,c=0,h=1;h<=i;h++){this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X+f*t),n.ClipperOffset.Round(this.m_srcPoly[0].Y+c*t)));var p=f;f=f*this.m_cos-this.m_sin*c,c=p*this.m_sin+c*this.m_cos}else{f=-1,c=-1;for(var h=0;h<4;++h)this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X+f*t),n.ClipperOffset.Round(this.m_srcPoly[0].Y+c*t))),f<0?f=1:c<0?c=1:f=-1}this.m_destPolys.push(this.m_destPoly)}}}},n.ClipperOffset.prototype.Execute=function(){var t=arguments;if(t[0]instanceof n.PolyTree){o=t[0],a=t[1];if(o.Clear(),this.FixOrientations(),this.DoOffset(a),(i=new n.Clipper(0)).AddPaths(this.m_destPolys,n.PolyType.ptSubject,!0),a>0)i.Execute(n.ClipType.ctUnion,o,n.PolyFillType.pftPositive,n.PolyFillType.pftPositive);else{u=n.Clipper.GetBounds(this.m_destPolys);if((s=new n.Path).push(new n.IntPoint(u.left-10,u.bottom+10)),s.push(new n.IntPoint(u.right+10,u.bottom+10)),s.push(new n.IntPoint(u.right+10,u.top-10)),s.push(new n.IntPoint(u.left-10,u.top-10)),i.AddPath(s,n.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(n.ClipType.ctUnion,o,n.PolyFillType.pftNegative,n.PolyFillType.pftNegative),1==o.ChildCount()&&o.Childs()[0].ChildCount()>0){var e=o.Childs()[0];o.Childs()[0]=e.Childs()[0],o.Childs()[0].m_Parent=o;for(var r=1;r<e.ChildCount();r++)o.AddChild(e.Childs()[r])}else o.Clear()}}else{var i,o=t[0],a=t[1];if(n.Clear(o),this.FixOrientations(),this.DoOffset(a),(i=new n.Clipper(0)).AddPaths(this.m_destPolys,n.PolyType.ptSubject,!0),a>0)i.Execute(n.ClipType.ctUnion,o,n.PolyFillType.pftPositive,n.PolyFillType.pftPositive);else{var s,u=n.Clipper.GetBounds(this.m_destPolys);(s=new n.Path).push(new n.IntPoint(u.left-10,u.bottom+10)),s.push(new n.IntPoint(u.right+10,u.bottom+10)),s.push(new n.IntPoint(u.right+10,u.top-10)),s.push(new n.IntPoint(u.left-10,u.top-10)),i.AddPath(s,n.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(n.ClipType.ctUnion,o,n.PolyFillType.pftNegative,n.PolyFillType.pftNegative),o.length>0&&o.splice(0,1)}}},n.ClipperOffset.prototype.OffsetPoint=function(t,e,r){if(this.m_sinA=this.m_normals[e].X*this.m_normals[t].Y-this.m_normals[t].X*this.m_normals[e].Y,Math.abs(this.m_sinA*this.m_delta)<1){if(this.m_normals[e].X*this.m_normals[t].X+this.m_normals[t].Y*this.m_normals[e].Y>0)return this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[e].X*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[e].Y*this.m_delta))),e}else this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1);if(this.m_sinA*this.m_delta<0)this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[e].X*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[e].Y*this.m_delta))),this.m_destPoly.push(new n.IntPoint(this.m_srcPoly[t])),this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)));else switch(r){case n.JoinType.jtMiter:var i=this.m_normals[t].X*this.m_normals[e].X+this.m_normals[t].Y*this.m_normals[e].Y+1;i>=this.m_miterLim?this.DoMiter(t,e,i):this.DoSquare(t,e);break;case n.JoinType.jtSquare:this.DoSquare(t,e);break;case n.JoinType.jtRound:this.DoRound(t,e)}return e=t},n.ClipperOffset.prototype.DoSquare=function(t,e){var r=Math.tan(Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y)/4);this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[e].X-this.m_normals[e].Y*r)),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[e].Y+this.m_normals[e].X*r)))),this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[t].X+this.m_normals[t].Y*r)),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[t].Y-this.m_normals[t].X*r))))},n.ClipperOffset.prototype.DoMiter=function(t,e,r){var i=this.m_delta/r;this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+(this.m_normals[e].X+this.m_normals[t].X)*i),n.ClipperOffset.Round(this.m_srcPoly[t].Y+(this.m_normals[e].Y+this.m_normals[t].Y)*i)))},n.ClipperOffset.prototype.DoRound=function(t,e){for(var r,i=Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y),o=Math.max(n.Cast_Int32(n.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(i))),1),a=this.m_normals[e].X,s=this.m_normals[e].Y,u=0;u<o;++u)this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+a*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+s*this.m_delta))),r=a,a=a*this.m_cos-this.m_sin*s,s=r*this.m_sin+s*this.m_cos;this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)))},n.Error=function(t){throw new Error(t)},n.JS={},n.JS.AreaOfPolygon=function(t,e){return e||(e=1),n.Clipper.Area(t)/(e*e)},n.JS.AreaOfPolygons=function(t,e){e||(e=1);for(var r=0,i=0;i<t.length;i++)r+=n.Clipper.Area(t[i]);return r/(e*e)},n.JS.BoundsOfPath=function(t,e){return n.JS.BoundsOfPaths([t],e)},n.JS.BoundsOfPaths=function(t,e){e||(e=1);var r=n.Clipper.GetBounds(t);return r.left/=e,r.bottom/=e,r.right/=e,r.top/=e,r},n.JS.Clean=function(t,e){if(!(t instanceof Array))return[];var r=t[0]instanceof Array;t=n.JS.Clone(t);if("number"!=typeof e||null===e)return n.Error("Delta is not a number in Clean()."),t;if(0===t.length||1==t.length&&0===t[0].length||e<0)return t;r||(t=[t]);for(var i,o,a,s,u,l,f,c=t.length,h=[],p=0;p<c;p++)if(0!==(i=(o=t[p]).length))if(i<3)a=o,h.push(a);else{for(a=o,s=e*e,u=o[0],l=1,f=1;f<i;f++)(o[f].X-u.X)*(o[f].X-u.X)+(o[f].Y-u.Y)*(o[f].Y-u.Y)<=s||(a[l]=o[f],u=o[f],l++);u=o[l-1],(o[0].X-u.X)*(o[0].X-u.X)+(o[0].Y-u.Y)*(o[0].Y-u.Y)<=s&&l--,l<i&&a.splice(l,i-l),a.length&&h.push(a)}return!r&&h.length?h=h[0]:r||0!==h.length?r&&0===h.length&&(h=[[]]):h=[],h},n.JS.Clone=function(t){if(!(t instanceof Array))return[];if(0===t.length)return[];if(1==t.length&&0===t[0].length)return[[]];var e=t[0]instanceof Array;e||(t=[t]);var n,r,i,o,a=t.length,s=new Array(a);for(r=0;r<a;r++){for(n=t[r].length,o=new Array(n),i=0;i<n;i++)o[i]={X:t[r][i].X,Y:t[r][i].Y};s[r]=o}return e||(s=s[0]),s},n.JS.Lighten=function(t,e){if(!(t instanceof Array))return[];if("number"!=typeof e||null===e)return n.Error("Tolerance is not a number in Lighten()."),n.JS.Clone(t);if(0===t.length||1==t.length&&0===t[0].length||e<0)return n.JS.Clone(t);var r,i,o,a,s,u,l,f,c,h,p,d,m,v,y,g;t[0]instanceof Array||(t=[t]);var b=t.length,x=e*e,w=[];for(r=0;r<b;r++)if(0!=(u=(o=t[r]).length)){for(a=0;a<1e6;a++){for(s=[],o[(u=o.length)-1].X!=o[0].X||o[u-1].Y!=o[0].Y?(p=1,o.push({X:o[0].X,Y:o[0].Y}),u=o.length):p=0,h=[],i=0;i<u-2;i++)l=o[i],c=o[i+1],f=o[i+2],y=l.X,g=l.Y,d=f.X-y,m=f.Y-g,0===d&&0===m||((v=((c.X-y)*d+(c.Y-g)*m)/(d*d+m*m))>1?(y=f.X,g=f.Y):v>0&&(y+=d*v,g+=m*v)),(d=c.X-y)*d+(m=c.Y-g)*m<=x&&(h[i+1]=1,i++);for(s.push({X:o[0].X,Y:o[0].Y}),i=1;i<u-1;i++)h[i]||s.push({X:o[i].X,Y:o[i].Y});if(s.push({X:o[u-1].X,Y:o[u-1].Y}),p&&o.pop(),!h.length)break;o=s}s[(u=s.length)-1].X==s[0].X&&s[u-1].Y==s[0].Y&&s.pop(),s.length>2&&w.push(s)}return t[0]instanceof Array||(w=w[0]),void 0===w&&(w=[[]]),w},n.JS.PerimeterOfPath=function(t,e,n){if(void 0===t)return 0;var r,i,o=Math.sqrt,a=0,s=0,u=0,l=0,f=0,c=t.length;if(c<2)return 0;for(e&&(t[c]=t[0],c++);--c;)s=(r=t[c]).X,u=r.Y,a+=o((s-(l=(i=t[c-1]).X))*(s-l)+(u-(f=i.Y))*(u-f));return e&&t.pop(),a/n},n.JS.PerimeterOfPaths=function(t,e,r){r||(r=1);for(var i=0,o=0;o<t.length;o++)i+=n.JS.PerimeterOfPath(t[o],e,r);return i},n.JS.ScaleDownPath=function(t,e){var n,r;for(e||(e=1),n=t.length;n--;)(r=t[n]).X=r.X/e,r.Y=r.Y/e},n.JS.ScaleDownPaths=function(t,e){var n,r,i;for(e||(e=1),n=t.length;n--;)for(r=t[n].length;r--;)(i=t[n][r]).X=i.X/e,i.Y=i.Y/e},n.JS.ScaleUpPath=function(t,e){var n,r,i=Math.round;for(e||(e=1),n=t.length;n--;)(r=t[n]).X=i(r.X*e),r.Y=i(r.Y*e)},n.JS.ScaleUpPaths=function(t,e){var n,r,i,o=Math.round;for(e||(e=1),n=t.length;n--;)for(r=t[n].length;r--;)(i=t[n][r]).X=o(i.X*e),i.Y=o(i.Y*e)},n.ExPolygons=function(){return[]},n.ExPolygon=function(){this.outer=null,this.holes=null},n.JS.AddOuterPolyNodeToExPolygons=function(t,e){var r=new n.ExPolygon;r.outer=t.Contour();var i,o,a,s,u,l,f=t.Childs(),c=f.length;for(r.holes=new Array(c),a=0;a<c;a++)for(i=f[a],r.holes[a]=i.Contour(),s=0,l=(u=i.Childs()).length;s<l;s++)o=u[s],n.JS.AddOuterPolyNodeToExPolygons(o,e);e.push(r)},n.JS.ExPolygonsToPaths=function(t){var e,r,i,o,a=new n.Paths;for(e=0,i=t.length;e<i;e++)for(a.push(t[e].outer),r=0,o=t[e].holes.length;r<o;r++)a.push(t[e].holes[r]);return a},n.JS.PolyTreeToExPolygons=function(t){var e,r,i,o,a=new n.ExPolygons;for(r=0,o=(i=t.Childs()).length;r<o;r++)e=i[r],n.JS.AddOuterPolyNodeToExPolygons(e,a);return a}}()},function(t,e,n){"use strict";var r=n(28),i=n(98),o=n(20),a=n(19),s=n(7),u=n(55),l=n(6),f=n(18),c=n(9),h=n(4),p=n(10),d=n(14),m=n(51);function v(t){var e={type:t.type};return e.type!==o.CLOSE&&(e.x=t.x,e.y=t.y),e.type===o.QUADTO?(e.x1=t.x1,e.y1=t.y1):e.type===o.CURVETO&&(e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2),e}var y={HORIZONTAL:"horizontal",VERTICAL:"vertical",EAST:"e",WEST:"w",NORTH:"n",SOUTH:"s",bounds:function(t){var e,n,r;if(t){if("function"==typeof t.bounds)return t.bounds();if(void 0!==t.x&&void 0!==t.y)return void 0!==t.width&&void 0!==t.height?new p(t.x,t.y,t.width,t.height):new p(t.x,t.y,0,0);if(void 0!==t.r&&void 0!==t.g&&void 0!==t.b)return new y.Rect(0,0,30,30);if(Array.isArray(t)){if(e=null,(r=t.length)>0&&void 0!==t[0].r&&void 0!==t[0].g&&void 0!==t[0].b)return new p(0,0,30*t.length,30);for(n=0;n<r;n+=1)e=e?e.unite(y.bounds(t[n])):y.bounds(t[n]);return e||new p}return new p}return new p},makeCenteredRect:function(t,e,n,r){return new p(t-n/2,e-r/2,n,r)},makePoint:function(t,e){return new h(t,e)},makeRect:function(t,e,n,r){return new p(t,e,n,r)},merge:function(){for(var t=r(arguments),e=[],n=0;n<t.length;n+=1)t[n]&&0!==t[n].length&&e.push(t[n]);return new f(e)},combinePaths:function(t){return c.combine(t)}};y.shapePoints=y.toPoints=function(t){if(!t)return[];var e;if(t.commands){var n,r=[];for(e=0;e<t.commands.length;e+=1)void 0!==(n=t.commands[e]).x&&r.push(new h(n.x,n.y));return r}var i=[];for(e=0;e<t.shapes.length;e+=1)i=i.concat(y.shapePoints(t.shapes[e]));return i},y.colorize=function(t,e,n,r){return t?t.colorize(e,n,r):null},y.translate=function(t,e){return t?t.translate?t.translate(e):m.translate.apply(t,[e]):null},y.scale=function(t,e,n){return t?t.scale?t.scale(e,n):m.scale.apply(t,[e,n]):null},y.rotate=function(t,e,n){return t?t.rotate?t.rotate(e,n):m.rotate.apply(t,[e,n]):null},y.skew=function(t,e,n){return t?t.skew?t.skew(e,n):m.skew.apply(t,[e,n]):null},y.copy=function(t,e,n,r,i,o){var a,s,u,l,f=[],c=0,h=0,p=0,m=1,v=1;for(a=0;a<e;a+=1){for(s=new d,u=0;u<n.length;u+=1)"t"===(l=n[u])?s=s.translate(c,h):"r"===l?s=s.rotate(p):"s"===l&&(s=s.scale(m,v));Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y?f=f.concat(s.transformShape(t)):f.push(s.transformShape(t)),c+=r.x,h+=r.y,p+=i,m+=o.x,v+=o.y}return f},y.fit=function(t,e,n,r,i){if(!t)return null;i=void 0!==i&&i;var o,a,s,u=y.bounds(t),l=u.x,f=u.y,c=u.width,h=u.height;return c=c>1e-12?c:0,h=h>1e-12?h:0,o=(o=new d).translate(e.x,e.y),i?(a=c>0?n/c:1,s=h>0?r/h:1):(a=c>0?n/c:Number.MAX_VALUE,s=h>0?r/h:Number.MAX_VALUE,a=s=Math.min(a,s)),(o=(o=o.scale(a,s)).translate(-c/2-l,-h/2-f)).transformShape(t)},y.fitTo=function(t,e,n){if(!t)return null;if(!e)return t;var r=y.bounds(e),i=r.x,o=r.y,a=r.width,s=r.height;return y.fit(t,{x:i+a/2,y:o+s/2},a,s,n)},y.mirror=function(t,e,n,r){if(!t)return null;var i=new d,o=(i=(i=(i=(i=i.translate(n.x,n.y)).rotate(2*e-180)).scale(-1,1)).translate(-n.x,-n.y)).transformShape(t);return r?Array.isArray(t)&&t.length>0?t.concat(o):new f([t,o]):o},y.pathLength=function(t,e){if(!t)return 0;var n=20;return e&&e.precision&&(n=e.precision),t.length(n)},y.resampleByLength=function(t,e){return t?t.resampleByLength(e):null},y.resampleByAmount=function(t,e,n){return t?t.resampleByAmount(e,n):null},y._wigglePoints=function(t,e,n){var r,i,a;if(t.commands){var s=new c([],t.fill,t.stroke,t.strokeWidth);for(r=0;r<t.commands.length;r+=1){i=(n(0,1)-.5)*e.x*2,a=(n(0,1)-.5)*e.y*2;var u=t.commands[r];u.type===o.MOVETO?s.moveTo(u.x+i,u.y+a):u.type===o.LINETO?s.lineTo(u.x+i,u.y+a):u.type===o.CURVETO?s.curveTo(u.x1,u.y1,u.x2,u.y2,u.x+i,u.y+a):u.type===o.CLOSE&&s.close()}return s}if(t.shapes){var l=[];for(l.length=t.shapes.length,r=0;r<t.shapes.length;r+=1)l[r]=y._wigglePoints(t.shapes[r],e,n);return new f(l)}if(Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y){var p=[];for(p.length=t.length,r=0;r<t.length;r+=1)i=(n(0,1)-.5)*e.x*2,a=(n(0,1)-.5)*e.y*2,p[r]=new h(t[r].x+i,t[r].y+a);return p}var d=[];for(d.length=t.length,r=0;r<t.length;r+=1)d[r]=y._wigglePoints(t[r],e,n);return d},y.wigglePoints=function(t,e,n){if(!t)return null;n=void 0!==n?n:Math.random();var r=u.generator(n);return void 0===e?e={x:10,y:10}:"number"==typeof e&&(e={x:e,y:e}),y._wigglePoints(t,e,r)},y._wiggleContours=function(t,e,n){var r;if(t.commands){var i,o,a,s=t.contours(),u=[];for(r=0;r<s.length;r+=1)i=(n(0,1)-.5)*e.x*2,o=(n(0,1)-.5)*e.y*2,a=(new d).translate(i,o),u=u.concat(a.transformShape(new c(s[r])).commands);return new c(u,t.fill,t.stroke,t.strokeWidth)}if(t.shapes){var l=[];for(l.length=t.shapes.length,r=0;r<t.shapes.length;r+=1)l[r]=y._wiggleContours(t.shapes[r],e,n);return new f(l)}var h=[];for(h.length=t.length,r=0;r<t.length;r+=1)h[r]=y._wiggleContours(t[r],e,n);return h},y.wiggleContours=function(t,e,n){if(!t)return null;n=void 0!==n?n:Math.random();var r=u.generator(n);return void 0===e?e={x:10,y:10}:"number"==typeof e&&(e={x:e,y:e}),y._wiggleContours(t,e,r)},y._wigglePaths=function(t,e,n){if(t.commands)return t;if(t.shapes)return new f(y._wigglePaths(t.shapes,e,n));if(Array.isArray(t)){for(var r,i,o,a,s=[],u=0;u<t.length;u+=1)(r=t[u]).commands?(i=(n(0,1)-.5)*e.x*2,o=(n(0,1)-.5)*e.y*2,a=(new d).translate(i,o),s.push(a.transformShape(r))):r.shapes&&s.push(y._wigglePaths(r,e,n));return s}},y.wigglePaths=function(t,e,n){if(!t)return null;n=void 0!==n?n:Math.random();var r=u.generator(n);return void 0===e?e={x:10,y:10}:"number"==typeof e&&(e={x:e,y:e}),y._wigglePaths(t,e,r)},y.scatterPoints=function(t,e,n){if(!t)return[];n=void 0!==n?n:Math.random();var r,i,o,s,l,f,p,d,m=u.generator(n),v=t.bounds(),y=v.x,g=v.y,b=v.width,x=v.height,w=t.contours(),_=[],P=[];for(r=0;r<w.length;r++)s=(o=new c(w[r])).commands.length,_.push(o.points(5*s,{closed:!0}));for(r=0;r<e;r+=1)for(l=100;l>0;){for(f=0,p=y+m(0,1)*b,d=g+m(0,1)*x,i=0;i<_.length;i++)a.pointInPolygon(_[i],p,d)&&(f+=1);if(f%2){P.push(new h(p,d));break}l-=1}return P},y.connectPoints=function(t,e){if(!t)return null;for(var n,r=new c,i=0;i<t.length;i+=1)n=t[i],0===i?r.moveTo(n.x,n.y):r.lineTo(n.x,n.y);return e&&r.close(),r.fill=null,r.stroke=l.BLACK,r},y.align=function(t,e,n,r){if(!t)return null;var i,o,a=e.x,s=e.y,u=y.bounds(t);return i="left"===n?a-u.x:"right"===n?a-u.x-u.width:"center"===n?a-u.x-u.width/2:0,o="top"===r?s-u.y:"bottom"===r?s-u.y-u.height:"middle"===r?s-u.y-u.height/2:0,(new d).translate(i,o).transformShape(t)},y.snap=function(t,e,n,r){if(!t)return null;var i,a,u;if(n=void 0!==n?n:1,r=r||h.ZERO,t.commands){var l,p,d,m,v,g=new c([],t.fill,t.stroke,t.strokeWidth);for(i=0;i<t.commands.length;i+=1)if((l=t.commands[i]).type===o.MOVETO||l.type===o.LINETO||l.type===o.CURVETO)a=s.snap(l.x+r.x,e,n)-r.x,u=s.snap(l.y+r.y,e,n)-r.y,l.type===o.MOVETO?g.moveTo(a,u):l.type===o.LINETO?g.lineTo(a,u):l.type===o.CURVETO&&(p=s.snap(l.x1+r.x,e,n)-r.x,d=s.snap(l.y1+r.y,e,n)-r.y,m=s.snap(l.x2+r.x,e,n)-r.x,v=s.snap(l.y2+r.y,e,n)-r.y,g.curveTo(p,d,m,v,a,u));else{if(l.type!==o.CLOSE)throw new Error("Invalid path command "+l);g.close()}return g}if(t.shapes){var b=[];for(b.length=t.shapes.length,i=0;i<t.shapes.length;i+=1)b[i]=y.snap(t.shapes[i],e,n,r);return new f(b)}if(Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y){var x,w=[];for(w.length=t.length,i=0;i<t.length;i+=1)x=t[i],a=s.snap(x.x+r.x,e,n)-r.x,u=s.snap(x.y+r.y,e,n)-r.y,w[i]=new h(a,u);return w}var _=[];for(_.length=t.length,i=0;i<t.length;i+=1)_[i]=y.snap(t[i],e,n,r);return _},y.deletePoints=function(t,e,n){if(!t)return null;if(!e)return t;var r,i,a,s=[],u=[];if(t.commands){var l=!0;for(r=0;r<t.commands.length;r+=1)(void 0===(i=v(t.commands[r])).x||n&&e.contains(i.x,i.y)||!n&&!e.contains(i.x,i.y))&&(l&&i.type!==o.MOVETO&&(i.type=o.MOVETO),s.push(i),i.type===o.MOVETO?l=!1:i.type===o.CLOSE&&(l=!0));return new c(s,t.fill,t.stroke,t.strokeWidth)}if(t.shapes){var h=[];for(h.length=t.shapes.length,r=0;r<t.shapes.length;r+=1)h[r]=y.deletePoints(t.shapes[r],e,n);return new f(h)}if(Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y){for(r=0;r<t.length;r+=1)a=t[r],(n&&e.contains(a.x,a.y)||!n&&!e.contains(a.x,a.y))&&u.push(v(a));return u}var p=[];for(p.length=t.length,r=0;r<t.length;r+=1)p[r]=y.deletePoints(t[r],e,n);return p},y.deletePaths=function(t,e,n){if(!t||t.commands)return null;if(t.shapes)return new f(y.deletePaths(t.shapes,e,n));if(Array.isArray(t)){if(!e)return t;for(var r,i,o,a,s,u=[],l=t,c=0;c<l.length;c+=1)if((i=l[c]).commands){for(o=!1,r=0;r<i.commands.length;r+=1)if(void 0!==(a=i.commands[r]).x&&e.contains(a.x,a.y)){o=!0;break}n&&!o||o&&!n||u.push(i)}else i.shapes&&0!==(s=y.deletePaths(i,e,n)).length&&u.push(s);return u}},y.delete=function(t,e,n,r){if(null===t||null===e)return null;if("points"===n)return y.deletePoints(t,e,r);if("paths"===n)return y.deletePaths(t,e,r);throw new Error("Invalid scope.")},y.pointOnPath=function(t,e){if(!t)return h.ZERO;t.shapes&&(t=new c(y.combinePaths(t))),(e%=1)<0&&(e=1+e);var n=t.point(e);return new h(n.x,n.y)},y._x=function(t){return void 0!==t.x?t.x:t.bounds().x},y._y=function(t){return void 0!==t.y?t.y:t.bounds().y},y._angleToPoint=function(t){return function(e){if(void 0!==e.x&&void 0!==e.y)return a.angle(e.x,e.y,t.x,t.y);var n=e.bounds().centerPoint();return a.angle(n.x,n.y,t.x,t.y)}},y._distanceToPoint=function(t){return function(e){if(void 0!==e.x&&void 0!==e.y)return a.distance(e.x,e.y,t.x,t.y);var n=e.bounds().centerPoint();return a.distance(n.x,n.y,t.x,t.y)}},y.shapeSort=function(t,e,n){if(!t)return null;n=n||h.ZERO;var r={x:y._x,y:y._y,angle:y._angleToPoint(n),distance:y._distanceToPoint(n)};if(void 0===(e=r[e]))return t;var i=t.slice(0);return i.sort(function(t,n){var r=e(t),i=e(n);return r<i?-1:r>i?1:0}),i},y.group=function(){return new f(r(arguments))},y.ungroup=function(t){if(t){if(t.shapes){var e,n,r=[];for(e=0;e<t.shapes.length;e+=1)(n=t.shapes[e]).commands?r.push(n):n.shapes&&(r=r.concat(y.ungroup(n)));return r}return t.commands?[t]:[]}return[]},y.centerPoint=function(t){if(!t)return h.ZERO;var e=y.bounds(t);return new h(e.x+e.width/2,e.y+e.height/2)},y.link=function(t,e,n){if(!t||!e)return null;var r=new c,i=t.bounds(),o=e.bounds();if(n===y.HORIZONTAL){var a=(o.x-(i.x+i.width))/2;r.moveTo(i.x+i.width,i.y),r.curveTo(i.x+i.width+a,i.y,o.x-a,o.y,o.x,o.y),r.lineTo(o.x,o.y+o.height),r.curveTo(o.x-a,o.y+o.height,i.x+i.width+a,i.y+i.height,i.x+i.width,i.y+i.height),r.close()}else{var s=(o.y-(i.y+i.height))/2;r.moveTo(i.x,i.y+i.height),r.curveTo(i.x,i.y+i.height+s,o.x,o.y-s,o.x,o.y),r.lineTo(o.x+o.width,o.y),r.curveTo(o.x+o.width,o.y-s,i.x+i.width,i.y+i.height+s,i.x+i.width,i.y+i.height),r.close()}return r};var g={union:i.ClipType.ctUnion,difference:i.ClipType.ctDifference,intersection:i.ClipType.ctIntersection,xor:i.ClipType.ctXor};y._compoundToPoints=function(t){var e,n,r,i,a,s=[];for(e=0;e<t.length;e+=1){for(n=[],r=t[e],i=0;i<r.length;i+=1)(a=r[i]).type!==o.CLOSE&&n.push({X:a.x,Y:a.y});s.push(n)}return s},y.compound=function(t,e,n){t.commands||(t=c.combine(t)),e.commands||(e=c.combine(e));var r=t.resampleByLength(1).contours(),o=e.resampleByLength(1).contours(),a=y._compoundToPoints(r),s=y._compoundToPoints(o);i.JS.ScaleUpPaths(a,100),i.JS.ScaleUpPaths(s,100);var u=new i.Clipper;u.AddPaths(a,i.PolyType.ptSubject,t.isClosed()),u.AddPaths(s,i.PolyType.ptClip,e.isClosed());var l=new i.Paths;u.Execute(g[n],l,i.PolyFillType.pftNonZero,i.PolyFillType.pftNonZero),l=i.JS.Clean(l,10),i.JS.ScaleDownPaths(l,100);var f,h,p,d=new c;for(f=0;f<l.length;f+=1){for(p=l[f],h=0;h<p.length;h+=1)0===h?d.moveTo(p[h].X,p[h].Y):d.lineTo(p[h].X,p[h].Y);p[0].X===p[p.length-1].X&&p[0].Y===p[p.length-1].Y||d.closePath()}return d},t.exports=y},function(t,e,n){"use strict";var r=n(6),i={isDrawable:function(t){return Array.isArray(t)&&(t=t[0]),!!t&&("function"==typeof t.draw||("number"==typeof t.x&&"number"==typeof t.y||"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b))},drawPoints:function(t,e){var n;t.fillStyle="blue",t.beginPath();for(var r=0;r<e.length;r+=1)n=e[r],t.moveTo(n.x,n.y),t.arc(n.x,n.y,2,0,2*Math.PI,!1);t.fill()},drawColoredPoints:function(t,e){for(var n,i=0,o=e.length;i<o;i+=1)n=e[i],t.fillStyle=r.toCSS(n),t.fillRect(n.x-2,n.y-2,4,4)},drawRectangles:function(t,e){var n;t.save();for(var r=0;r<e.length;r+=1)n=e[r],t.strokeStyle="black",t.strokeWidth=1,t.rect(n.x,n.y,n.width,n.height),t.stroke();t.restore()},drawColors:function(t,e){var n;t.save();for(var i=0;i<e.length;i+=1)n=e[i],t.fillStyle=r.toCSS(n),t.fillRect(0,0,30,30),t.translate(30,0);t.restore()},draw:function(t,e){var n=e,r=!1;if(Array.isArray(e)&&(n=e[0],r=!0),n)if("function"==typeof n.draw)if(r)for(var o=0,a=e.length;o<a;o+=1)i.draw(t,e[o]);else e.draw(t);else"number"==typeof n.x&&"number"==typeof n.y?"number"==typeof n.r&&"number"==typeof n.g&&"number"==typeof n.b?i.drawColoredPoints(t,r?e:[e]):"number"==typeof n.width&&"number"==typeof n.height?i.drawRectangles(t,r?e:[e]):i.drawPoints(t,r?e:[e]):"number"==typeof n.r&&"number"==typeof n.g&&"number"==typeof n.b&&i.drawColors(t,r?e:[e])},toSVG:function(t,e){var n=!0===(e=e||{}).header,r=void 0!==e.x?e.x:0,o=void 0!==e.y?e.y:0,a=void 0!==e.width?e.width:500,s=void 0!==e.height?e.height:500,u="";if(t)if("function"==typeof t.toSVG)u=t.toSVG();else if(Array.isArray(t)){u="<g>\n";for(var l=0,f=t.length;l<f;l+=1)u+=i.toSVG(t[l])+"\n";u+="</g>\n"}return n&&(u='<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="'+r+'" y="'+o+'" width="'+a+'px" height="'+s+'px" viewBox="'+r+" "+o+" "+a+" "+s+'">\n'+u+"</svg>\n"),u}};t.exports=i},function(t,e,n){"use strict";var r=n(53),i=function(t){void 0!==t?this.m=t:((t=new Float32Array(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.m=t)};i.IDENTITY=new i,i.perspective=function(t,e,n,r){var o=new Float32Array(i.IDENTITY.m),a=1/Math.tan(.5*t);return o[0]=a/e,o[1]=o[2]=o[3]=0,o[5]=a,o[4]=o[6]=o[7]=0,o[8]=o[9]=0,o[10]=-r/(n-r),o[11]=1,o[12]=o[13]=o[15]=0,o[14]=n*r/(n-r),new i(o)},i.lookAt=function(t,e,n){var o,a,s,u,l,f,c;return o=new Float32Array(16),a=e.subtract(t).normalize(),s=r.cross(n,a).normalize(),u=r.cross(a,s).normalize(),l=-r.dot(s,t),f=-r.dot(u,t),c=-r.dot(a,t),o[0]=s.x,o[1]=u.x,o[2]=a.x,o[3]=0,o[4]=s.y,o[5]=u.y,o[6]=a.y,o[7]=0,o[8]=s.z,o[9]=u.z,o[10]=a.z,o[11]=0,o[12]=l,o[13]=f,o[14]=c,o[15]=1,new i(o)},i.prototype.invert=function(){var t,e,n,r,o,a,s,u,l,f,c,h,p,d,m,v,y,g,b,x,w,_,P,S,C,E,T,I,O,N,A,L,M,R,k,B,D,U,F,X;return t=this.m[0],e=this.m[1],n=this.m[2],r=this.m[3],o=this.m[4],a=this.m[5],s=this.m[6],u=this.m[7],l=this.m[8],f=this.m[9],c=this.m[10],h=this.m[11],p=this.m[12],d=this.m[13],m=this.m[14],T=1/(t*(P=a*(y=c*(v=this.m[15])-h*m)-s*(g=f*v-h*d)+u*(b=f*m-c*d))+e*(S=-(o*y-s*(x=l*v-h*p)+u*(w=l*m-c*p)))+n*(C=o*g-a*x+u*(_=l*d-f*p))+r*(E=-(o*b-a*w+s*_))),I=s*v-u*m,O=a*v-u*d,N=a*m-s*d,A=o*v-u*p,L=o*m-s*p,M=o*d-a*p,R=s*h-u*c,k=a*h-u*f,B=a*c-s*f,D=o*h-u*l,U=o*c-s*l,F=o*f-a*l,(X=new Float32Array(16))[0]=P*T,X[4]=S*T,X[8]=C*T,X[12]=E*T,X[1]=-(e*y-n*g+r*b)*T,X[5]=(t*y-n*x+r*w)*T,X[9]=-(t*g-e*x+r*_)*T,X[13]=(t*b-e*w+n*_)*T,X[2]=(e*I-n*O+r*N)*T,X[6]=-(t*I-n*A+r*L)*T,X[10]=(t*O-e*A+r*M)*T,X[14]=-(t*N-e*L+n*M)*T,X[3]=-(e*R-n*k+r*B)*T,X[7]=(t*R-n*D+r*U)*T,X[11]=-(t*k-e*D+r*F)*T,X[15]=(t*B-e*U+n*F)*T,new i(X)},i.prototype.multiply=function(t){var e=new Float32Array(16);return e[0]=this.m[0]*t.m[0]+this.m[1]*t.m[4]+this.m[2]*t.m[8]+this.m[3]*t.m[12],e[1]=this.m[0]*t.m[1]+this.m[1]*t.m[5]+this.m[2]*t.m[9]+this.m[3]*t.m[13],e[2]=this.m[0]*t.m[2]+this.m[1]*t.m[6]+this.m[2]*t.m[10]+this.m[3]*t.m[14],e[3]=this.m[0]*t.m[3]+this.m[1]*t.m[7]+this.m[2]*t.m[11]+this.m[3]*t.m[15],e[4]=this.m[4]*t.m[0]+this.m[5]*t.m[4]+this.m[6]*t.m[8]+this.m[7]*t.m[12],e[5]=this.m[4]*t.m[1]+this.m[5]*t.m[5]+this.m[6]*t.m[9]+this.m[7]*t.m[13],e[6]=this.m[4]*t.m[2]+this.m[5]*t.m[6]+this.m[6]*t.m[10]+this.m[7]*t.m[14],e[7]=this.m[4]*t.m[3]+this.m[5]*t.m[7]+this.m[6]*t.m[11]+this.m[7]*t.m[15],e[8]=this.m[8]*t.m[0]+this.m[9]*t.m[4]+this.m[10]*t.m[8]+this.m[11]*t.m[12],e[9]=this.m[8]*t.m[1]+this.m[9]*t.m[5]+this.m[10]*t.m[9]+this.m[11]*t.m[13],e[10]=this.m[8]*t.m[2]+this.m[9]*t.m[6]+this.m[10]*t.m[10]+this.m[11]*t.m[14],e[11]=this.m[8]*t.m[3]+this.m[9]*t.m[7]+this.m[10]*t.m[11]+this.m[11]*t.m[15],e[12]=this.m[12]*t.m[0]+this.m[13]*t.m[4]+this.m[14]*t.m[8]+this.m[15]*t.m[12],e[13]=this.m[12]*t.m[1]+this.m[13]*t.m[5]+this.m[14]*t.m[9]+this.m[15]*t.m[13],e[14]=this.m[12]*t.m[2]+this.m[13]*t.m[6]+this.m[14]*t.m[10]+this.m[15]*t.m[14],e[15]=this.m[12]*t.m[3]+this.m[13]*t.m[7]+this.m[14]*t.m[11]+this.m[15]*t.m[15],new i(e)},i.prototype.translate=function(t,e,n){var r=new Float32Array(this.m);return r[12]+=t,r[13]+=e,r[14]+=n,new i(r)},t.exports=i},function(t,e,n){"use strict";e.defineAlias=function(t,e,n){Object.defineProperty(t.prototype,n,{get:function(){return this[e]},set:function(t){this[e]=t}})},e.defineGetter=function(t,e,n){Object.defineProperty(t.prototype,e,{get:n})}},function(t,e){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$"),o=0,a=1,s=2,u=3,l=4,f=5,c=6,h=7;function p(){}function d(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function m(t,e,n,r,i,p){for(var d,m=++e,v=o;;){var y=t.charAt(m);switch(y){case"=":if(v===a)d=t.slice(e,m),v=u;else{if(v!==s)throw new Error("attribute equal must after attrName");v=u}break;case"'":case'"':if(v===u||v===a){if(v===a&&(p.warning('attribute value must after "="'),d=t.slice(e,m)),e=m+1,!((m=t.indexOf(y,e))>0))throw new Error("attribute value no end '"+y+"' match");g=t.slice(e,m).replace(/&#?\w+;/g,i),n.add(d,g,e-1),v=f}else{if(v!=l)throw new Error('attribute value must after "="');g=t.slice(e,m).replace(/&#?\w+;/g,i),n.add(d,g,e),p.warning('attribute "'+d+'" missed start quot('+y+")!!"),e=m+1,v=f}break;case"/":switch(v){case o:n.setTagName(t.slice(e,m));case f:case c:case h:v=h,n.closed=!0;case l:case a:case s:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return p.error("unexpected end of input"),v==o&&n.setTagName(t.slice(e,m)),m;case">":switch(v){case o:n.setTagName(t.slice(e,m));case f:case c:case h:break;case l:case a:"/"===(g=t.slice(e,m)).slice(-1)&&(n.closed=!0,g=g.slice(0,-1));case s:v===s&&(g=d),v==l?(p.warning('attribute "'+g+'" missed quot(")!!'),n.add(d,g.replace(/&#?\w+;/g,i),e)):("http://www.w3.org/1999/xhtml"===r[""]&&g.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+g+'" missed value!! "'+g+'" instead!!'),n.add(g,g,e));break;case u:throw new Error("attribute value missed!!")}return m;case"":y=" ";default:if(y<=" ")switch(v){case o:n.setTagName(t.slice(e,m)),v=c;break;case a:d=t.slice(e,m),v=s;break;case l:var g=t.slice(e,m).replace(/&#?\w+;/g,i);p.warning('attribute "'+g+'" missed quot(")!!'),n.add(d,g,e);case f:v=c}else switch(v){case s:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&d.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+d+'" missed value!! "'+d+'" instead2!!'),n.add(d,d,e),e=m,v=a;break;case f:p.warning('attribute space is required"'+d+'"!!');case c:v=a,e=m;break;case u:v=l,e=m;break;case h:throw new Error("elements closed character '/' and '>' must be connected to")}}m++}}function v(t,e,n){for(var r=t.tagName,i=null,o=t.length;o--;){var a=t[o],s=a.qName,u=a.value;if((h=s.indexOf(":"))>0)var l=a.prefix=s.slice(0,h),f=s.slice(h+1),c="xmlns"===l&&f;else f=s,l=null,c="xmlns"===s&&"";a.localName=f,!1!==c&&(null==i&&(i={},b(n,n={})),n[c]=i[c]=u,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(c,u))}for(o=t.length;o--;){(l=(a=t[o]).prefix)&&("xml"===l&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(a.uri=n[l||""]))}var h;(h=r.indexOf(":"))>0?(l=t.prefix=r.slice(0,h),f=t.localName=r.slice(h+1)):(l=null,f=t.localName=r);var p=t.uri=n[l||""];if(e.startElement(p,f,r,t),!t.closed)return t.currentNSMap=n,t.localNSMap=i,!0;if(e.endElement(p,f,r),i)for(l in i)e.endPrefixMapping(l)}function y(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=t.indexOf("</"+n+">",e),a=t.substring(e+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),o)}return e+1}function g(t,e,n,r){var i=r[n];return null==i&&((i=t.lastIndexOf("</"+n+">"))<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function b(t,e){for(var n in t)e[n]=t[n]}function x(t,e,n,r){switch(t.charAt(e+2)){case"-":return"-"===t.charAt(e+3)?(i=t.indexOf("--\x3e",e+4))>e?(n.comment(t,e+4,i-e-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==t.substr(e+3,6)){var i=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,i-e-9),n.endCDATA(),i+3}var o=function(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=e,i.exec(t);for(;n=i.exec(t);)if(r.push(n),n[1])return r}(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=a>3&&/^public$/i.test(o[2][0])&&o[3][0],l=a>4&&o[4][0],f=o[a-1];return n.startDTD(s,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),f.index+f[0].length}}return-1}function w(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function _(t){}function P(t,e){return t.__proto__=e,t}p.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),b(e,e={}),function(t,e,n,r,i){function o(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(i.error("entity not found:"+t),t)}function a(e){if(e>b){var n=t.substring(b,e).replace(/&#?\w+;/g,o);c&&s(b),r.characters(n,0,e-b),b=e}}function s(e,n){for(;e>=l&&(n=f.exec(t));)u=n.index,l=u+n[0].length,c.lineNumber++;c.columnNumber=e-u+1}var u=0,l=0,f=/.*(?:\r\n?|\n)|.*$/g,c=r.locator,h=[{currentNSMap:e}],p={},b=0;for(;;){try{var P=t.indexOf("<",b);if(P<0){if(!t.substr(b).match(/^\s*$/)){var S=r.doc,C=S.createTextNode(t.substr(b));S.appendChild(C),r.currentElement=C}return}switch(P>b&&a(P),t.charAt(P+1)){case"/":var E=t.indexOf(">",P+3),T=t.substring(P+2,E),I=h.pop();E<0?(T=t.substring(P+2).replace(/[\s<].*/,""),i.error("end tag name: "+T+" is not complete:"+I.tagName),E=P+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),i.error("end tag name: "+T+" maybe not complete"),E=P+1+T.length);var O=I.localNSMap,N=I.tagName==T,A=N||I.tagName&&I.tagName.toLowerCase()==T.toLowerCase();if(A){if(r.endElement(I.uri,I.localName,T),O)for(var L in O)r.endPrefixMapping(L);N||i.fatalError("end tag name: "+T+" is not match the current start tagName:"+I.tagName)}else h.push(I);E++;break;case"?":c&&s(P),E=w(t,P,r);break;case"!":c&&s(P),E=x(t,P,r,i);break;default:c&&s(P);var M=new _,R=h[h.length-1].currentNSMap,E=m(t,P,M,R,o,i),k=M.length;if(!M.closed&&g(t,E,M.tagName,p)&&(M.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),c&&k){for(var B=d(c,{}),D=0;D<k;D++){var U=M[D];s(U.offset),U.locator=d(c,{})}r.locator=B,v(M,r,R)&&h.push(M),r.locator=c}else v(M,r,R)&&h.push(M);"http://www.w3.org/1999/xhtml"!==M.uri||M.closed?E++:E=y(t,E,M.tagName,o,r)}}catch(t){i.error("element parse error: "+t),E=-1}E>b?b=E:a(Math.max(P,b)+1)}}(t,e,n,r,this.errorHandler),r.endDocument()}},_.prototype={setTagName:function(t){if(!i.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!i.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},P({},P.prototype)instanceof P||(P=function(t,e){function n(){}for(e in n.prototype=e,n=new n,t)n[e]=t[e];return n}),e.XMLReader=p},function(t,e,n){function r(t){this.options=t||{locator:{}}}function i(){this.cdata=!1}function o(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function a(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function s(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function u(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}r.prototype.parseFromString=function(t,e){var n=this.options,r=new l,o=n.domBuilder||new i,s=n.errorHandler,u=n.locator,f=n.xmlns||{},c={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&o.setDocumentLocator(u),r.errorHandler=function(t,e,n){if(!t){if(e instanceof i)return e;t=e}var r={},o=t instanceof Function;function s(e){var i=t[e];!i&&o&&(i=2==t.length?function(n){t(e,n)}:t),r[e]=i&&function(t){i("[xmldom "+e+"]\t"+t+a(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,o,u),r.domBuilder=n.domBuilder||o,/\/x?html?$/.test(e)&&(c.nbsp="",c.copy="",f[""]="http://www.w3.org/1999/xhtml"),f.xml=f.xml||"http://www.w3.org/XML/1998/namespace",t?r.parse(t,f,c):r.errorHandler.error("invalid doc source"),o.doc},i.prototype={startDocument:function(){this.doc=(new f).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,a=i.createElementNS(t,n||e),s=r.length;u(this,a),this.currentElement=a,this.locator&&o(this.locator,a);for(var l=0;l<s;l++){t=r.getURI(l);var f=r.getValue(l),c=(n=r.getQName(l),i.createAttributeNS(t,n));this.locator&&o(r.getLocator(l),c),c.value=c.nodeValue=f,a.setAttributeNode(c)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&o(this.locator,n),u(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=s.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(t);else r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&o(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=s.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&o(this.locator,r),u(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&o(this.locator,i),u(this,i)}},warning:function(t){console.warn("[xmldom warning]\t"+t,a(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,a(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,a(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){i.prototype[t]=function(){return null}});var l=n(103).XMLReader,f=e.DOMImplementation=n(54).DOMImplementation;e.XMLSerializer=n(54).XMLSerializer,e.DOMParser=r},function(t,e,n){"use strict";var r=n(104),i=n(6),o=n(18),a=n(9),s=n(4),u=n(14),l=function(t){return t.replace(/^\s+|\s+$/g,"")},f=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},c=function(t){var e,n=l(f((t||"").replace(/,/g," "))).split(" ");for(e=0;e<n.length;e+=1)n[e]=parseFloat(n[e]);return n},h=function(t,e){var n,r,i,o,a,s,h,p,d,m,v,y,g,b,x,w,_,P,S;y=e?Object.create(e):{},p=[],(d={}).translate=function(t){var e=c(t),n=e[0],r=e[1]||0;return(new u).translate(n,r)},d.scale=function(t){var e=c(t),n=e[0],r=e[1]||n;return(new u).scale(n,r)},d.rotate=function(t){var e=c(t),n=e[0],r=e[1]||0,i=e[2]||0;return(new u).translate(r,i).rotate(n).translate(-r,-i)},d.matrix=function(t){var e=c(t);return new u([e[0],e[1],0,e[2],e[3],0,e[4],e[5],1])};for(var C=0;C<t.attributes.length;C+=1)switch((g=t.attributes[C]).nodeName){case"transform":for(b=l(f(g.nodeValue)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),v=0;v<b.length;v+=1)x=l(b[v].split("(")[0]),w=b[v].split("(")[1].replace(")",""),m=d[x](w),p.push(m);break;case"visibility":case"stroke-linecap":case"stroke-linejoin":case"stroke-miterlimit":break;case"stroke-width":a=parseFloat(g.nodeValue);break;case"stroke-opacity":o=parseFloat(g.nodeValue);break;case"fill-opacity":r=parseFloat(g.nodeValue);break;case"fill":n=g.nodeValue;break;case"stroke":i=g.nodeValue;break;case"opacity":s=parseFloat(g.nodeValue);break;case"color":h=g.nodeValue;break;case"style":for(_={},P=g.nodeValue.split(";"),v=0;v<P.length;v+=1)_[(S=P[v].split(":"))[0].trim()]=S[1];_.fill&&(n=_.fill),_.stroke&&(i=_.stroke),void 0!==_["stroke-width"]&&(a=parseFloat(_["stroke-width"])),void 0!==_["stroke-opacity"]&&(o=parseFloat(_["stroke-opacity"])),void 0!==_["fill-opacity"]&&(r=parseFloat(_["fill-opacity"])),void 0!==_.opacity&&(s=parseFloat(_.opacity)),_.color&&(h=_.color)}if(void 0!==n&&(y.fill=n),void 0!==i&&(y.stroke=i),void 0!==r&&(y.fillOpacity=r),void 0!==o&&(y.strokeOpacity=o),void 0!==a&&(y.strokeWidth=a),void 0!==s&&(y.opacity=s),void 0!==h&&"currentColor"!==h&&(y.color=h),p.length>0){for(m=new u,v=0;v<p.length;v+=1)m=m.append(p[v]);m.isIdentity()||(y.transform?y.transform=y.transform.append(m):y.transform=m)}return y},p=function(t,e){var n=e.fill;t.commands&&t.commands.length>0&&void 0===n&&(n="black");var r,o=e.fillOpacity,s=e.stroke,u=e.strokeOpacity,l=e.opacity,f=e.strokeWidth,c=e.transform,h=e.color;"currentColor"===n&&(n=void 0===h?"black":h),void 0!==n&&(n=i.parse(n),void 0!==o&&(n.a*=o),void 0!==l&&(n.a*=l)),"currentColor"===s&&(s=void 0===h?"black":h),void 0!==s&&(s=i.parse(s),void 0!==u&&(s.a*=u),void 0!==l&&(s.a*=l)),r=c?c.transformShape(t).commands:t.commands;var p=void 0===n?t.fill:n,d=void 0===s?t.stroke:s,m=void 0===f?t.strokeWidth:f;return void 0!==m&&void 0!==c&&(m*=c.m[0]),new a(r,p,d,m)},d=function(t,e,n,r,i,o,a,s,u){var l,f,c,h,p,d,m,v,y,g,b,x,w,_,P,S,C,E,T,I,O,N,A,L,M;for(l=a*(Math.PI/180),f=Math.sin(l),c=Math.cos(l),n=Math.abs(n),r=Math.abs(r),(d=(h=c*(s-t)*.5+f*(u-e)*.5)*h/(n*n)+(p=c*(u-e)*.5-f*(s-t)*.5)*p/(r*r))>1&&(n*=d=Math.sqrt(d),r*=d),(P=1/(((w=(m=c/n)*t+(v=f/n)*e)-(b=m*s+v*u))*(w-b)+((_=(y=-f/r)*t+(g=c/r)*e)-(x=y*s+g*u))*(_-x))-.25)<0&&(P=0),S=Math.sqrt(P),o===i&&(S=-S),C=.5*(b+w)-S*(_-x),E=.5*(x+_)+S*(w-b),T=Math.atan2(x-E,b-C),(I=Math.atan2(_-E,w-C)-T)<0&&1===o?I+=2*Math.PI:I>0&&0===o&&(I-=2*Math.PI),O=Math.ceil(Math.abs(I/(.5*Math.PI+.001))),N=[],M=0;M<O;M+=1)A=T+M*I/O,L=T+(M+1)*I/O,N[M]=[C,E,A,L,n,r,f,c];return N},m=function(t,e,n,r,i,o,a,s){var u=s*i,l=-a*o,f=a*i,c=s*o,h=.5*(r-n),p=8/3*Math.sin(.5*h)*Math.sin(.5*h)/Math.sin(h),d=t+Math.cos(n)-p*Math.sin(n),m=e+Math.sin(n)+p*Math.cos(n),v=t+Math.cos(r),y=e+Math.sin(r),g=v+p*Math.sin(r),b=y-p*Math.cos(r);return[u*d+l*m,f*d+c*m,u*g+l*b,f*g+c*b,u*v+l*y,f*v+c*y]},v={svg:function(){return v.g.apply(this,arguments)},g:function(t,e){for(var n,r,i,a,s=[],u=h(t,e),l=0;l<t.childNodes.length;l+=1){if(!(r=(n=t.childNodes[l]).nodeName))return;i=r.replace(/svg\:/gi,"").toLowerCase(),void 0!==v[i]&&(a=v[i].call(this,n,u),s.push(a))}return new o(s)},_polyline:function(t){var e=t.getAttribute("points"),n=new a;return e.replace(/([\d\.?]+),([\d\.?]+)/g,function(t,e,r){var i=parseFloat(e),o=parseFloat(r);0===n.commands.length?n.moveTo(i,o):n.lineTo(i,o)}),n},polygon:function(t,e){var n=h(t,e),r=v._polyline(t);return r.close(),p(r,n)},polyline:function(t,e){var n=h(t,e),r=v._polyline(t);return p(r,n)},rect:function(t,e){var n=h(t,e),r=parseFloat(t.getAttribute("x")),i=parseFloat(t.getAttribute("y"));r||(r=0),i||(i=0);var o=parseFloat(t.getAttribute("width")),s=parseFloat(t.getAttribute("height"));o||(o=0),s||(s=0),o<0&&(console.error('Error: invalid negative value for <rect> attribute width="'+o+'"'),o=0),s<0&&(console.error('Error: invalid negative value for <rect> attribute height="'+s+'"'),s=0);var u=parseFloat(t.getAttribute("rx")),l=parseFloat(t.getAttribute("ry"));u||(u=0),l||(l=0),u<0&&(console.error('Error: invalid negative value for <rect> attribute rx="'+u+'"'),u=0),l<0&&(console.error('Error: invalid negative value for <rect> attribute ry="'+l+'"'),l=0),u&&l||(u=l=Math.max(u,l)),u>o/2&&(u=o/2),l>s/2&&(l=s/2);var f=new a;return u&&l?f.addRoundedRect(r,i,o,s,u,l):f.addRect(r,i,o,s),p(f,n)},ellipse:function(t,e){var n=h(t,e),r=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy"));r||(r=0),i||(i=0);var o=parseFloat(t.getAttribute("rx")),s=parseFloat(t.getAttribute("ry"));o||(o=0),s||(s=0),o<0&&(console.error('Error: invalid negative value for <ellipse> attribute rx="'+o+'"'),o=0),s<0&&(console.error('Error: invalid negative value for <ellipse> attribute ry="'+s+'"'),s=0);var u=new a;return u.addEllipse(r-o,i-s,2*o,2*s),p(u,n)},circle:function(t,e){var n=h(t,e),r=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy"));r||(r=0),i||(i=0);var o=parseFloat(t.getAttribute("r"));o||(o=0),o<0&&(console.error('Error: invalid negative value for <circle> attribute r="'+o+'"'),o=0);var s=new a;return s.addEllipse(r-o,i-o,2*o,2*o),p(s,n)},line:function(t,e){var n=h(t,e),r=parseFloat(t.getAttribute("x1")),i=parseFloat(t.getAttribute("y1")),o=parseFloat(t.getAttribute("x2")),s=parseFloat(t.getAttribute("y2"));r||(r=0),i||(i=0),o||(o=0),s||(s=0);var u=new a;return u.addLine(r,i,o,s),p(u,n)},path:function(t,e){var n,r,i,o,u,c,v,y,g,b,x,w,_,P,S,C,E,T,I,O,N,A,L,M=h(t,e);n=(n=(n=(n=(n=(n=(n=(n=(n=t.getAttribute("d")).replace(/,/gm," ")).replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2")).replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/(\.[0-9]*)(\.)/gm,"$1 $2")).replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=f(n),n=l(n),r=function(t){this.tokens=t.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new s(0,0),this.control=new s(0,0),this.current=new s(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!==this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i+=1,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new s(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){return"c"!==this.previousCommand.toLowerCase()&&"s"!==this.previousCommand.toLowerCase()&&"q"!==this.previousCommand.toLowerCase()&&"t"!==this.previousCommand.toLowerCase()?this.current:new s(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(t){return this.isRelativeCommand()?new s(t.x+this.current.x,t.y+this.current.y):t}};var R=new a;for((i=new r(n)).reset();!i.isEnd();)switch(i.nextCommand(),i.command){case"M":case"m":for(o=i.getAsCurrentPoint(),R.moveTo(o.x,o.y),i.start=i.current;!i.isCommandOrEnd();)o=i.getAsCurrentPoint(),R.lineTo(o.x,o.y);break;case"L":case"l":for(;!i.isCommandOrEnd();)o=i.getAsCurrentPoint(),R.lineTo(o.x,o.y);break;case"H":case"h":for(;!i.isCommandOrEnd();)u=new s((i.isRelativeCommand()?i.current.x:0)+i.getScalar(),i.current.y),i.current=u,R.lineTo(i.current.x,i.current.y);break;case"V":case"v":for(;!i.isCommandOrEnd();)u=new s(i.current.x,(i.isRelativeCommand()?i.current.y:0)+i.getScalar()),i.current=u,R.lineTo(i.current.x,i.current.y);break;case"C":case"c":for(;!i.isCommandOrEnd();)c=i.current,v=i.getPoint(),y=i.getAsControlPoint(),g=i.getAsCurrentPoint(),R.curveTo(v.x,v.y,y.x,y.y,g.x,g.y);break;case"S":case"s":for(;!i.isCommandOrEnd();)c=i.current,v=i.getReflectedControlPoint(),y=i.getAsControlPoint(),g=i.getAsCurrentPoint(),R.curveTo(v.x,v.y,y.x,y.y,g.x,g.y);break;case"Q":case"q":for(;!i.isCommandOrEnd();)c=i.current,y=i.getAsControlPoint(),g=i.getAsCurrentPoint(),b=c.x+2/3*(y.x-c.x),x=c.y+2/3*(y.y-c.y),w=b+1/3*(g.x-c.x),_=x+1/3*(g.y-c.y),R.curveTo(b,x,w,_,g.x,g.y);break;case"T":case"t":for(;!i.isCommandOrEnd();)c=i.current,y=i.getReflectedControlPoint(),i.control=y,g=i.getAsCurrentPoint(),b=c.x+2/3*(y.x-c.x),x=c.y+2/3*(y.y-c.y),w=b+1/3*(g.x-c.x),_=x+1/3*(g.y-c.y),R.curveTo(b,x,w,_,g.x,g.y);break;case"A":case"a":for(;!i.isCommandOrEnd();)for(c=i.current,P=i.getScalar(),S=i.getScalar(),C=i.getScalar(),E=i.getScalar(),T=i.getScalar(),I=(g=i.getAsCurrentPoint()).x,O=g.y,N=d(I,O,P,S,E,T,C,c.x,c.y),A=0;A<N.length;A+=1)L=m.apply(this,N[A]),R.curveTo.apply(R,L);break;case"Z":case"z":R.close(),i.current=i.start}return p(R,M)}};e.interpret=function(t){var e=t.tagName.toLowerCase();return void 0===v[e]?null:v[e].call(this,t)},e.parseString=function(t){var n=new r.DOMParser({errorHandler:function(e,n){throw new Error('Could not parse string "'+String(t)+'": '+n)}}).parseFromString(t);return n?e.interpret(n.documentElement):null}},function(t,e){var n=9007199254740991,r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;var s=Object.prototype,u=s.hasOwnProperty,l=s.toString,f=s.propertyIsEnumerable,c=Math.max;function h(t,e){var n=y(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&g(t)}(t)&&u.call(t,"callee")&&(!f.call(t,"callee")||l.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],i=n.length,o=!!i;for(var a in t)!e&&!u.call(t,a)||o&&("length"==a||m(a,i))||n.push(a);return n}function p(t,e,n){var r=t[e];u.call(t,e)&&v(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function d(t){if(!b(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e,n,r,i=(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||s,e===r),o=[];for(var a in t)("constructor"!=a||!i&&u.call(t,a))&&o.push(a);return o}function m(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function v(t,e){return t===e||t!=t&&e!=e}var y=Array.isArray;function g(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=b(t)?l.call(t):"";return e==i||e==o}(t)}function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var x,w,_,P=(x=function(t,e){!function(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;p(n,a,void 0===s?t[a]:s)}}(e,function(t){return g(t)?h(t,!0):d(t)}(e),t)},w=function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=x.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!b(n))return!1;var r=typeof e;return!!("number"==r?g(n)&&m(e,n.length):"string"==r&&e in n)&&v(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&x(t,a,n,i)}return t},_=c(void 0===_?w.length-1:_,0),function(){for(var t=arguments,e=-1,n=c(t.length-_,0),r=Array(n);++e<n;)r[e]=t[_+e];e=-1;for(var i=Array(_+1);++e<_;)i[e]=t[e];return i[_]=r,function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(w,this,i)});t.exports=P},function(t,e,n){(function(t,n){var r=9007199254740991,i="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",s="[object Map]",u="[object Set]",l=/^\[object .+?Constructor\]$/,f="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,h=f||c||Function("return this")(),p="object"==typeof e&&e&&!e.nodeType&&e,d=p&&"object"==typeof n&&n&&!n.nodeType&&n,m=d&&d.exports===p;var v,y,g,b=Function.prototype,x=Object.prototype,w=h["__core-js_shared__"],_=(v=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",P=b.toString,S=x.hasOwnProperty,C=x.toString,E=RegExp("^"+P.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=m?h.Buffer:void 0,I=x.propertyIsEnumerable,O=T?T.isBuffer:void 0,N=(y=Object.keys,g=Object,function(t){return y(g(t))}),A=W(h,"DataView"),L=W(h,"Map"),M=W(h,"Promise"),R=W(h,"Set"),k=W(h,"WeakMap"),B=!I.call({valueOf:1},"valueOf"),D=z(A),U=z(L),F=z(M),X=z(R),Y=z(k);function j(t){return!(!$(t)||_&&_ in t)&&(J(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?E:l).test(z(t))}function W(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return j(n)?n:void 0}var H=function(t){return C.call(t)};function z(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function q(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&V(t)}(t)&&S.call(t,"callee")&&(!I.call(t,"callee")||C.call(t)==i)}(A&&"[object DataView]"!=H(new A(new ArrayBuffer(1)))||L&&H(new L)!=s||M&&"[object Promise]"!=H(M.resolve())||R&&H(new R)!=u||k&&"[object WeakMap]"!=H(new k))&&(H=function(t){var e=C.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?z(n):void 0;if(r)switch(r){case D:return"[object DataView]";case U:return s;case F:return"[object Promise]";case X:return u;case Y:return"[object WeakMap]"}return e});var G=Array.isArray;function V(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!J(t)}var Z=O||function(){return!1};function J(t){var e=$(t)?C.call(t):"";return e==o||e==a}function $(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}n.exports=function(t){if(V(t)&&(G(t)||"string"==typeof t||"function"==typeof t.splice||Z(t)||q(t)))return!t.length;var e=H(t);if(e==s||e==u)return!t.size;if(B||function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||x)}(t))return!N(t).length;for(var n in t)if(S.call(t,n))return!1;return!0}}).call(this,n(3),n(15)(t))},,,function(t,e,n){"use strict";var r=n(12);window.ndbx=r}]);
//# sourceMappingURL=ndbx.bundle.js.map