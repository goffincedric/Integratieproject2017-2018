@{

  Layout = "~/Views/Shared/_Layout.cshtml";
}


<main class="main-content bgc-grey-100" style="background-color: #f9fafb;">

  <div class="banner-window">
    <div class="outer">
      <div class="middle">
        <div class="inner">
          <div class="col-xl-10 mx-auto">
            <h1 class="mb-5 banner-text">Politieke barometer</h1>
            <h4 class="mb-4 banner-text">
              Volg uw favoriete politiekers, partijen en thema's en bekijk hoe deze door anderen besproken worden op sociale media.
            </h4>
            <h4 class="mb-3 banner-text">
              Creeër uw eigen dashboard en bekijk en analyseer live grafieken!
            </h4>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="mainContent">
    <div class="row gap-20 masonry pos-r">
      <div class="masonry-sizer col-md-6"></div>
      <div class="masonry-item w-100">
        <div class="row gap-20">
          <div class="col-md-3">
            <div class="layers bd bgc-white p-20">
              <div class="layer w-100 mB-10">
                <h6 class="lh-1">Mobiliteit</h6>
              </div>
              <div class="layer w-100">
                <div class="peers ai-sb fxw-nw">
                  <div class="peer peer-greed"><span id="sparklinedash"></span></div>
                  <div class="peer"><span class="d-ib lh-0 va-m fw-600 bdrs-10em pX-15 pY-15 bgc-green-50 c-green-500">+10%</span></div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="layers bd bgc-white p-20">
              <div class="layer w-100 mB-10">
                <h6 class="lh-1">Onderwijs</h6>
              </div>
              <div class="layer w-100">
                <div class="peers ai-sb fxw-nw">
                  <div class="peer peer-greed"><span id="sparklinedash2"></span></div>
                  <div class="peer"><span class="d-ib lh-0 va-m fw-600 bdrs-10em pX-15 pY-15 bgc-red-50 c-red-500">-7%</span></div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="layers bd bgc-white p-20">
              <div class="layer w-100 mB-10">
                <h6 class="lh-1">NVA</h6>
              </div>
              <div class="layer w-100">
                <div class="peers ai-sb fxw-nw">
                  <div class="peer peer-greed"><span id="sparklinedash3"></span></div>
                  <div class="peer"><span class="d-ib lh-0 va-m fw-600 bdrs-10em pX-15 pY-15 bgc-purple-50 c-purple-500">+12%</span></div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="layers bd bgc-white p-20">
              <div class="layer w-100 mB-10">
                <h6 class="lh-1">SPA</h6>
              </div>
              <div class="layer w-100">
                <div class="peers ai-sb fxw-nw">
                  <div class="peer peer-greed"><span id="sparklinedash4"></span></div>
                  <div class="peer"><span class="d-ib lh-0 va-m fw-600 bdrs-10em pX-15 pY-15 bgc-blue-50 c-blue-500">-12%</span></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="masonry-item col-md-6">
        <div class="bd bgc-white">
          <div class="layers">
            <div class="layer w-100 pX-20 pT-20">
              <h6 class="lh-1">Stats Charles Michel</h6>
            </div>
            <div class="layer w-100 p-20">
              <canvas id="line-chart" height="220"></canvas>
            </div>
            <div class="layer bdT p-20 w-100">
              <div class="peers ai-c jc-c gapX-20">
                <div class="peer"><span class="fsz-def fw-600 mR-10 c-grey-800">10% <i class="fa fa-level-up c-green-500"></i></span> <small class="c-grey-500 fw-600">Sentiment</small></div>
                <div class="peer fw-600"><span class="fsz-def fw-600 mR-10 c-grey-800">2% <i class="fa fa-level-down c-red-500"></i></span> <small class="c-grey-500 fw-600">Average tweets</small></div>
                <div class="peer fw-600"><span class="fsz-def fw-600 mR-10 c-grey-800">15% <i class="fa fa-level-up c-green-500"></i></span> <small class="c-grey-500 fw-600">Retweets</small></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="masonry-item col-md-6">
        <div class="bgc-white p-20 bd">
          <h6 class="c-grey-900">Area Chart</h6>
          <div class="mT-30">
            <canvas id="area-chart" height="220"></canvas>
          </div>
        </div>
      </div>

      <div class="masonry-item col-md-6">
        <div class="bgc-white p-20 bd">
          <h6 class="c-grey-900">Bar Chart</h6>
          <div class="mT-30">
            <canvas id="bar-chart" height="220"></canvas>
          </div>
        </div>
      </div>

      @if(!Request.IsAuthenticated) {

    <div class="hide-content">
      <div class="outer">
        <div class="middle">
          <div class="inner">
            <h4 class="mb-5 call-to-action-text">
              Krijg toegang tot ons duizelingwekkend aanbod aan geanalyseerde en gevisualiseerde data.
            </h4>
            <a href="@Url.Action("Login", "Account")" class="btn btn-primary text-uppercase call-to-action-button">start nu</a>
          </div>
        </div>
      </div>
     </div>

   
      }
      else
      {
      <div class="masonry-item col-12">
        <div class="bd bgc-white">
          <div class="peers fxw-nw@lg+ ai-s">
            <div class="peer peer-greed w-70p@lg+ w-100@lg- p-20">
              <div class="layers">
                <div class="layer w-100 mB-10">
                  <h6 class="lh-1">Sentiment per provincie</h6>
                </div>
                <div class="layer w-100">
                  <div id="world-map-marker"></div>
                </div>
              </div>
            </div>
            <div class="peer bdL p-20 w-30p@lg+ w-100p@lg-">
              <div class="layers h-100">
                <div class="layer w-100">
                  <h6 class="lh-1">Top persons</h6>
                </div>
                <div class="w-100" style="margin: auto 0;">
                  <ol id="toplist"></ol>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>

      }
    </div>
    </div>
</main>
<script src="~/Scripts/index/hide-content.js" defer></script>

<script>

  function MakeTopList() {
    var tmp = "";
    tmp = $.ajax({
      async: false,
      type: 'GET',
      dataType: 'json',
      url: "https://localhost:44342/api/item/getpersonstop/" + 10
    }).responseJSON

    var keys = [];
    keys = Object.keys(tmp);
    var label = [];
    var values = [];

    for (var i = 0; i < keys.length; i++) {
      if (i == 0) {
        $("#toplist").append('<li class=\"h2\" style=\"margin: 0 0 15px 0; color:black;\"><h2 class=\"h2\">' + keys[i] + '</h2></li></div>')
      } else if (i == 1) {

        $("#toplist").append("<li class=\"h4\" style=\"margin: 0 0 15px 0;\"><h4 class=\"h4\">" + keys[i] + '</h4></li>')
      } else if (i == 2) {
        $("#toplist").append("<li class=\"h5\" style=\"margin: 0 0 15px 0;\"><h5 class=\"h5\">" + keys[i] + '</h5></li>')
      
      } else {
        $("#toplist").append("<li class=\"h6\" style=\"margin: 0 0 15px 0;\"><h6 class=\"h6\">" + keys[i] + '</h6></li>')
      }
      label.push(keys[i]);
      values.push(tmp[keys[i]] / 10);
    }

    console.log(label);
    console.log(values);
  }

  MakeTopList();


</script>

